[standard.fababean.constants]  

crop_type = fababean
default_crop_class =  plant   
part_names = root leaf stem pod grain energy

! legume_get_other_variables
! limits set to check inputs
sw_ub =  1.0   
sw_lb =  0.0   
year_ub =                 2000      ()   !  year upper limit
year_lb =                 1800      ()   !  year lower limit
latitude_ub =             90        (oL)   !  latitude upper limit
latitude_lb =             -90       (oL)   !  latitude lower limit
maxt_ub =                 55        (oC)   !  max. temperature upper limit
maxt_lb =                 0         (oC)   !  max. temperature lower limit
mint_ub =                 40        (oC)   !  min. temperature upper limit
mint_lb =                 -10       (oC)   !  min. temperature lower limit
radn_ub =                 50        (MJ/m^2)   !  radiation upper limit
radn_lb =                 1         (MJ/m^2)   !  radiation lower limit
dlayer_ub =               1000      (mm)   !  layer depth upper limit
dlayer_lb =               0         (mm)   !  layer depth lower limit
dul_dep_ub =              1000      (mm)   !  drained upper limit upper limit
dul_dep_lb =              0         (mm)   !  drained upper limit lower limit
sw_dep_ub =               1000      (mm)   !  soil water upper limit
sw_dep_lb =               0         (mm)   !  soil water lower limit
no3_ub =                  10000     (kg/ha)   !  soil nitrate upper limit
no3_lb =                  0         (kg/ha)   !  soil nitrate lower limit
no3_min_ub =              10000     (kg/ha)   !  min. soil nitrate upper limit
no3_min_lb =              0         (kg/ha)   !  min. soil nitrate lower limit
 
[standard.fababean.fababean]  

plant =  fababean   

class_action =  harvest   
class_change =  unchanged   

stage_names =  sowing germination emergence end_of_juvenile floral_initiation flowering start_grain_fill end_grain_fill maturity harvest_ripe end_crop   ! stage names

!                        sow ger  eme  juv    fi    fl   st_gf end_gf  mat hv_rpe  end
stage_code =              1   2   3     4     5     6     7     8    9    10     11  ()   ! numeric code for phenological stages                         
rue =                     0   0   1.15  1.15  1.15  1.15  1.15  1.15 1.15  1.15  1.15 (g/MJ)   ! radiation use efficiency (loss et al 1996)                                    
root_depth_rate =         0   0  20.0  20.0  20.0  20.0  0.0   0.0  0.0  0.0    0  (mm/d)   ! extraction front velocity (Crawford et al 1997)                                    
ratio_root_shoot =        0  0   0.5   0.5   0.5   0.4  0.3   0.2   0.1    0     0  (0-1)   ! root:shoot ratio (Crawford et al 1997)           
N_fix_rate =           0.000 0.000 0.002 0.003 0.003 0.003 0.003 0.003 0.003 0.003 0.003   ! Potential fixation rate (Herdina and Silsbury 1990)                                                                                                                                                         
transp_eff_cf =        0.000 0.000 0.005 0.005 0.005 0.005 0.005 0.005 0.005 0.005 0.005   ! transpiration efficiency coefficient (Loss et al 1997)                                                                                                                                                           
frac_leaf_pre_flower =    0   0  0.55  0.55   0.55  0     0     0    0     0     0   (0-1)   ! fraction of dm allocated to leaves prior to flowering [from APS2.XLS]
        
        ! legnew_cover (ext coeff of 0.83 from Ridao et al 1996)
                                         
row_spacing_default =  350 (mm)   ! default row spacing if none is supplied at sowing
x_row_spacing =      200 350  1000   ! row spacing (mm) table
y_extinct_coef =     0.70 0.65 0.50   ! radiation extinction coefficient for green LAI as a function of row spacing
y_extinct_coef_dead =  0.3 0.30 0.3   ! radiation extinction coefficient for dead LAI as a function of row spacing

extinct_coef_pod =  0.0 ()
spec_pod_area    =  0.0 (mm^2/g)
rue_pod          =  0.0 (g/MJ) 
                                         
        ! crop failure  (values as for chickpea)              
                                         
leaf_no_crit =             10.0      ()   ! critical number of leaves, below
                                            !  which portion of the crop may
                                            !  die due to water stress
tt_emerg_limit =          300.0     (oCd)   ! maximum degree days allowed for
                                            !  emergence to take place
days_germ_limit =         50.0      (days)   ! maximum days allowed after dry sowing
                                            !  for germination to take place
swdf_pheno_limit =        25.0      ()   ! critical cumulative phenology
                                            !  water stress, above which the crop
                                            !  completely fails
swdf_photo_limit =        4.6      ()   ! critical cumulative photosynthesis
                                            !  water stress, above which the crop
                                            !  partly fails (unitless)
swdf_photo_rate =         0.0       ()   ! rate of plant reduction with
                                            !  photosynthesis water stress
 
 
        ! legume_root_depth  (value as for chickpea)

initial_root_depth =      200       (mm)    ! initial depth of roots initialised at emergence

        ! legume_root_length

specific_root_length =    15000 (mm/g)   !specific length of roots used to convert root biomass to length (Manschadi et al in press)
root_die_back_fr =  0.0       (0-1)   ! fraction of roots lost at harvest (irrelevent)

x_plant_rld =  0   0.0001  0.0003   ! root branching (as for mungbeans)
y_rel_root_rate =  1   1      1   


        ! legume_leaf_area_init (values as for chickpea)
 
initial_tpla =            1000.0    (mm^2/plant)   !initial total plant leaf area 
min_tpla =               0.0         (mm^2/plant)   ! minimum leaf area

        ! TEMPLATE OPTION
        ! legnew_leaf_area
                    
x_lai =      0     0.5    3     5.5
y_sla_max =  22500 30000 42000 27000   

        ! TEMPLATE OPTION
        ! legnew_leaf_no (as for chickpea)

x_lai_ratio =             0.0   0.1 ()   ! ratio table for critical leaf size
                                                 !  below which leaf number is reduced ()
y_leaf_no_frac =          1.0   1.0 ()   ! reduction in leaf appearance ()

        
        ! legume_get_cultivar_params  (as for chickpea)
 
head_grain_no_max_ub =    1000.0    (/head)   ! upper limit
grain_gth_rate_ub =       20.0      (mg/d)   ! upper limit
tt_emerg_to_endjuv_ub =   1000.0    (oCd)   ! upper limit
pp_endjuv_to_init_ub =    200.0     (oCd/h)   ! upper limit
tt_flower_to_maturity_ub =  1500.0  (oCd)   ! upper limit
tt_maturity_to_ripe_ub =  1000.0    (oCd)   ! upper limit
tt_flower_to_start_grain_ub =  1000.0 (oCd)   ! upper limit
tt_init_to_flower_ub =    1000.0    (oCd)   ! upper limit
 
        ! legume_transp_eff (as for chickpea)
 
svp_fract =               0.75      (0-1)   ! fraction of distance between svp at
                                            !  min temp and svp at max temp where
                                            !  average svp during transpiration lies.

 
 
        ! legume_germination  (as for chickpea)

pesw_germ =               0.0       (mm/mm)   ! plant extractable soil water in
                                            !  seedling layer inadequate for
                                            !  germination

fasw_emerg =  0 1   
rel_emerg_rate =  1 1   
 
        ! legume_leaf_appearance (as for chickpea)
 
leaf_no_at_emerg =        1.0       ()   ! aps1 - leaf number at emergence
 
        ! legume_N_uptake (as for chickpea)
 
no3_diffn_const =         2.0       (days)   ! time constant for N uptake by
                                            !  diffusion. H van Keulen &
                                            !  NG Seligman. Purdoe 1987. This is the
                                            !  time it would take to remove, by
                                            !  diffusion, the current amount of N if
                                            !  it wasn't depleted between time steps

n_supply_preference =  active   ! preference for n supply - it is assumed that
                               ! mass flow is always predominant but further
                               ! crop preference can be specified as follows
                               ! 'active' = diffusive flow before fixation
                               ! 'fixation' = fixed N before active uptake.
    
shoot_lag =               15.0      (oCd)   ! time lag before linear coleoptile
                                            !  growth starts
shoot_rate =               4.0     (oCd/mm)   ! thermal time required per mm elongation
                                            !  by coleoptile
                                            ! From McDonald e tal. 1994 and Ellis et al 1988
leaf_app_rate1 =          55   ! 44.0     (oCd)   !  thermal time required for node
                                            !  appearance on main stem (Kasim and Dennet 1986)
leaf_app_rate2 =          1.5   ! 3  (lf/node) ! aps1 - total number of leaves per plant
                                              !  per main stem node (rough guess)
leaf_no_rate_change =     4   ()   ! aps1 - leaf no above which leaf appearance rate
                                            !  changes from rate1 to rate2 (rough guess)
x_node_no_app =    0    8    19   27   
y_node_app_rate =  58   58   58   58   
x_node_no_leaf =   1    8    19   27
y_leaves_per_node =  2.5  8.2  20  20   
 
        ! legume_dm_init (as for chickpea)

       ! root leaf stem flower grain
dm_init =  0.04 0.04 0    0      0       (g/plant)   ! part weight at emergence

 
        ! legume_get_root_params (as for chickpea)
 
kl_ub =                   1.0       ()   ! upper limit
 
 
               ! legume_retranslocate (as for chickpea)
 
stem_trans_frac =         0.20     (0-1)   ! aps1 calib - fraction of stem used in translocation
                                      !  to grain
leaf_trans_frac =         0.30     (0-1)   ! aps1 calib - fraction of leaf used in translocation
                                            !  to grain
   

        ! legume_N_dlt_grain_conc (as for chickpea)
                                            ! calculate the grain nitrogen concentration demand
sw_fac_max =              1.125     ()   !  soil water stress factor maximum
temp_fac_min =            0.69      ()   !  temperature stress factor minimum
sfac_slope =              -0.125    ()   !  soil water stress factor slope
tfac_slope =              0.0125    ()   !  temperature stress factor slope
 
 
        ! legume_leaf_death (as for chickpea)
                                             ! coefficients determining leaf senescence rate
node_sen_rate =   46.6   ! rate of node senescence on main stem 
fr_lf_sen_rate =  0.011   ! fraction of total leaf number senescing per main stem node
  

 
        ! legume_event  (as for chickpea)
 
grn_water_cont =          0.155     (g/g)   ! water content of harvested grain
 
        ! legume_dm_partition (as for chickpea)
 
sla_min =               8000      (mm^2/g)   ! minimum specific leaf area for
                                             !  new leaf area

frac_leaf_post_flower =   0.30 !0.40      (0-1)   ! fraction of dm allocated to leaves after
                                             !  flowering
frac_stem2pod =          0.1 ! 0.30      (0-1)   ! aps1 - fraction of dm allocated to pod 
                                             !  before grain fill
frac_pod2grain =          0.40 !0.20      (0-1)   ! fraction of dm partitioned to
                                             !  pod relative to grain during grain fill [from Sri Agung thesis]
frac_leaf_grain_fill =    0.30 !0.40      (0-1)   ! fraction of dm remaining after grain partitioned
                                             ! allocated to leaves during podfill
grain_energy =            1.00      ()   ! 1 = no energy. Multiplier to account for higher
                                             ! synthesis costs of grain with higher energy content
        
! TEMPLATE OPTION 
        ! legume_grain_no  (as for chickpea)
 
htstress_coeff =          0.019     ()   ! coeff for conversion of heat stress
                                            !  during flowering to
                                            !  heat stress factor on grain number
                                            !  development.

     ! legume_dm_senescence (as for chickpea)
 ! dm fraction senesced for each fraction of canopy senesced.
x_dm_sen_frac_root =  0   1   ! root
y_dm_sen_frac_root =  0   0   

x_dm_sen_frac_leaf =  0   1   ! leaf
y_dm_sen_frac_leaf =  0   1   

x_dm_sen_frac_stem =  0   1   ! stem
y_dm_sen_frac_stem =  0   0   

x_dm_sen_frac_pod =  0   1   ! flower
y_dm_sen_frac_pod =  0   0   

x_dm_sen_frac_grain =  0   1   ! grain
y_dm_sen_frac_grain =  0   0   

x_dm_sen_frac_energy =  0   1   ! energy
y_dm_sen_frac_energy =  0   0   

                                                                                       
        ! legume_dm_dead_detachment (as for chickpea)
                        ! root leaf stem flower grain
dead_detach_frac =           0    0    0      0     0    (0-1)   ! fraction detached from each part
                                                                !  of a dead plant per day.
sen_detach_frac =            1    0.07 0      0     0      ()   ! fraction of senesced leaf detached 
                                                                !  each day from live plants

          ! TEMPLATE OPTION
        ! legnew_leaf_size
node_no_correction =  0.0   
x_node_no =     1   3     5    7   10    15    20   30   
y_leaf_size = 4000 5000 7000 7000 7000 7000 7000  (mm^2) (Dennet et al 1989 and Kasim and Dennet 1986)

        
        ! TEMPLATE OPTION 
        ! legume_leaf_area_sen_light (as for chickpea)

lai_sen_light =           4.0       (m^2/m^2)   ! LAI above which shade-induced 
                                              !  senescence occurs
sen_light_slope =         0.008     ()   ! sensitivity of leaf area senescence
                                              !  to shading 

        ! TEMPLATE OPTION 
        ! legume_leaf_area_sen_frost  (as for chickpea)

x_temp_senescence =       -15.0  -5.0  (oC)   ! temperature senescence table 
y_senescence_fac =          1.0  0.0  (0-1)   ! temperature senescence factor


        ! TEMPLATE OPTION 
        ! legume_leaf_area_sen_water (as for chickpea)

sen_rate_water =          0.05        ()   ! slope in linear eqn
                                              !  relating soil water
                                              !  stress during photosynthesis
                                              !  to leaf senesense rate


        ! legume_phenology_init (as for chickpea)
  
twilight =                -6.0      (degrees)   ! Twilight is defined as the interval
                                              !  between sunrise or sunset and the
                                              !  time when the true centre of the sun
                                              !  is 6.0 or 2.2 degrees below the horizon.
                                              !  Sunrise or sunset is defined as when
                                              !  the true centre of the sun is 50'
                                              !  below the horizon.
                                        
                              
             ! legume_N_conc_limits (Herdina and Silsbury 1990) 
                        ! emerg    flower   maturity
x_stage_code =            3       4      6      7       9        ()   ! stage code used in table 
                                                                                   
y_n_conc_max_leaf =       0.0800  0.06500 0.0600 0.0500  0.030   ()   ! leaf maximum N conc.    
y_n_conc_crit_leaf =      0.0700  0.0550 0.0500 0.0400  0.0200   ()   ! leaf critical N conc.    
y_n_conc_min_leaf =       0.0500  0.0300 0.0300 0.020  0.010   ()   ! leaf minimum N conc.    
                                                                                   
y_n_conc_max_stem =       0.0800  0.0500 0.0400 0.020  0.0150   ()   ! stem maximum N conc.    
y_n_conc_crit_stem =      0.0700  0.0400 0.0300 0.0100  0.0050   ()   ! stem critical N conc.    
y_n_conc_min_stem =       0.0500  0.020 0.0100 0.0050  0.0020   ()   ! stem minimum N conc.    
                                                                                  
y_n_conc_max_pod =       0.0800  0.0600 0.0500 0.0350  0.0250   ()   ! pod maximum N conc.    
y_n_conc_crit_pod =      0.0700  0.0500 0.0400 0.0250  0.0150   ()   ! pod critical N conc.    
y_n_conc_min_pod =       0.0500  0.040 0.0200 0.010  0.0050   ()   ! pod minimum N conc.    
                                                    
n_conc_max_grain =       0.045                       ()   ! grain maximum N conc.    
n_conc_crit_grain =       0.040                      ()   ! grain critical N conc.  
n_conc_min_grain =        0.030                      ()   ! grain minimum N conc.   
                                                      
n_conc_max_root =        0.0400                    ()   ! root maximum N conc.    
n_conc_crit_root =        0.0250                    ()   ! root critical N conc.  
n_conc_min_root =         0.010                    ()   ! root minimum N conc.   
                               
                     
        ! legume_N_init (from n conc table above)  
           !root leaf stem flower grain             
n_init_conc =  0.025 0.070 0.070 0   0     (g/g)   ! 

        ! legume_N_senescence (from n conc table above)
           !  root leaf stem flower grain
n_sen_conc =  0.010 0.010 0  0      0   (g/g)   ! N conc. of senesced material

        ! legume_nfact (as for chickpea)

N_fact_photo =            1.25      ()   ! multipler for N deficit effect on    
                                            !  RUE
N_fact_pheno =            5.75      ()   ! multipler for N deficit effect
                                            !  on phenology                            
N_fact_expansion =  100.   

        ! legume_rue_reduction   (as for chickpea)

x_ave_temp              = 0.0  12.0  20.0  32.0  (oC)   ! temperature table for 
                                                        !  RUE  
y_stress_photo =          0.0   1.0   1.0   0.0  (0-1)   ! temperature factor on 
                                                        !  RUE

        ! TEMPLATE OPTION 
        ! legume_dm_grain   (as for chickpea)

x_temp_grain =            3.7  30.0  56.3        (oC)   ! temperature table for 
                                                        !  grain growth rate 
y_grain_rate =            0.0   1.0   0.0        (0-1)   ! temperature factor on 
                                                        !  grain growth rate

        ! legume_tt (from Ellis and Summerfield et al)

x_temp =                  0.0  22.0  32.0        (oC)   ! temperature table for     
                                                        !  thermal time        
y_tt =                    0.0  22.0   0.0        (oCd)   ! thermal time
x_vernal_temp           =  0    10
y_vernal_days           =  1     1
x_temp_root_advance     =  0    10
y_rel_root_advance      =  1     1

        ! legume_plants (as for chickpea)

x_weighted_temp =         55.0  60.0             (oC)   ! temperature table for  
                                                        !  seedling death during emergence     
y_plant_death =            0.0   1.0             (0-1)   ! temperature factor on  
                                                        !  seedling death        

        ! legume_swdef   (as for chickpea)

x_sw_demand_ratio =       0.1  1.3   ! 1.1               ()     ! soil water ratio for effect
                                                        !  on leaf expansion
y_swdef_leaf =            0.0  1.0               (0-1)   ! stress index on 
                                                        !  leaf expansion
x_sw_avail_ratio =        0.0  1.0               ()   ! soil water ratio for effect  
                                                        !  on phenology         
y_swdef_pheno =           1.0  1.0               (0-1)   ! stress index on                   
                                                        !  phenology                  
x_sw_ratio =              0.0  0.25              ()   ! soil water ratio for effect  
                                                        !  on root elongation
y_sw_fac_root =           0.0  1.0               (0-1)   ! stress index on                   
                                                        !   root elongation              
x_sw_avail_fix =          0.0  0.50 1.0   ()   ! soil water ratio for effect 
                                                        !  on N fixation        
y_swdef_fix =             0.0  1.0  1.0   (0-1)   ! stress index on N fixation             



oxdef_photo_rtfr =  0.0 0.8 1.0   ! effect of waterlogging on photosynthesis 
oxdef_photo =      1.0 1.0 1.0   ! numbers from mungbean

fr_height_cut =  0 1   !parameters defining how much stem remain after a 'cut'
fr_stem_remain =  0 0   !these are irrelevant for annual legumes.                                   


!!!!!!!!!! CULTIVAR PARAMETERS !!!!!!!!!!!!!!!!!!!!!!

[standard.fababean.fiord]  

hi_incr =                       0.007 ! 0.012   ! 0.010 (/days)        ! rate of HI increase (optional)
x_hi_max_pot_stress =            0.50 1.00 ()   
y_hi_max_pot =                   0.47 0.47 ()   
cum_vernal_days    =              0        100
tt_emerg_to_endjuv =            543.0     543.0  (oCd)   ! TT from emergence to end of juvenile phase 
est_days_emerg_to_init =         70.0      (d)   ! estimated days from emergence to floral init.
photoperiod =      10.6 12.6   
phase_tt_init =    230.0   0   

tt_flower_to_maturity =      1300    (oCd)        ! TT from flowering to maturity
tt_init_to_flower =             10.0    (oCd)   ! TT from initiation to flowering
tt_flower_to_start_grain =      600   !200 ! 450.0    (oCd)         ! TT from flowering to start grain fill 
tt_maturity_to_ripe =            1.0    (oCd)   ! TT from maturity to harvest ripe 
  
x_stem_wt =                   0  30   (g/m2)   ! used in legnew_canopy_height
y_height =                    0  800   (mm)   
