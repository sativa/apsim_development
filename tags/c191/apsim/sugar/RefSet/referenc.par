[reference.report.parameters]  

outputfile =  referenc.out /overwrite   
summaryfile =  referenc.sum /overwrite   

Title =  sugar reference run   
screen_output =  on   
 
module_names =   clock clock clock   
variable_names =  year day   today.dd/mm/yyyy   
variable_alias =  -    -     date   
units =          -     -     -   

! [soil_nitrogen.no3]
! [reset_no3.no3]
module_names =    soiln2   
variable_names =  no3   
variable_alias =   -   
units =            -   

! [soil_water.sw_dep]
! [reset_sw.sw_dep]
module_names =    soilwat2   
variable_names =  sw_dep   
variable_alias =   -   
units =            -   

! [temperature.tt_tot]
! [photoperiod.tt_tot]
module_names =   sugar   
variable_names =  tt_tot()   
variable_alias =  -   
units =           -   

! [temperature.lai]
! [radiation.lai]        
! [soil_moisture.lai]
! [soil_nitrogen.lai]
module_names =   sugar   
variable_names =  lai   
variable_alias =  -   
units =           -   

! [temperature.biomass]
! [radiation.biomass]
! [soil_moisture.biomass]
! [soil_nitrogen.biomass]
module_names =   sugar   
variable_names =  biomass   
variable_alias =  -   
units =           -   

! [soil_moisture.swdef_photo]
module_names =   sugar   
variable_names =  avg@swdef_photo   
variable_alias =  -   
units =           -   

! [soil_nitrogen.nfact_photo]
module_names =   sugar   
variable_names =  avg@nfact_photo   
variable_alias =  -   
units =           -   

! [smc.root_depth]
module_names =   sugar   
variable_names =  root_depth   
variable_alias =  -   
units =           -   

! [smc.water_log_fact]
module_names =   sugar   
variable_names =  avg@oxdef_photo
variable_alias =  -   
units =           -   

! [sow_msg.crop_status]
! [kill_crop_msg.crop_status]
! [end_crop_msg.crop_status]
module_names =   sugar   
variable_names =  crop_status   
variable_alias =  -   
units =           -   

! [kill_crop_msg.crop_status]
module_names =   sugar   
variable_names =  dm_dead()   
variable_alias =  -   
units =           -   

! [add_residue_msg.residue_wt]
! [add_residue_msg.residue_n]
module_names =   residue2   residue2   
variable_names =  residue_wt residue_n   
variable_alias =  -         -   
units =           -         -   

! [incorp_fom_msg.fom_c]
! [incorp_fom_msg.fom_n]
module_names =   soiln2   soiln2   
variable_names =  fom_c() fom_n()   
variable_alias =  -         -   
units =           -         -   


[reference.clock.parameters]  

simulation_start_year =      1984   
simulation_end_year =        1988   
simulation_start_day =        90   
simulation_end_day =          10   

[reference.soilwat2.parameters]  

runoff_filename =      blank   
insoil =       1.00 ()   
cona =      3.0 ()   
diffus_const =      40.0 ()   
diffus_slope =      16.0 ()   
u =        4.0 ()   
cn2_bare =      65   
cn_red =      20 ()   
cn_cov =      0.8 ()   
cn_canopy_fact =      1.0 ()   
salb =       0.10 ()   
air_dry =         0.050   0.050   0.050   
dlayer =        200.000 400.000 400.000   
ll15 =            0.100   0.100   0.100   
dul =             0.200   0.200   0.200   
sat =             0.300   0.300   0.300   
sw =              0.200   0.200   0.200   
swcon =           0.500   0.500   0.500   
bd =              1.00    1.000   1.000   

[reference.soiln2.parameters]  

amp =            4.1   (oC)   
tav =           19.1   (oC)   
root_cn =       45.0   ()   
root_wt =      1000.0   (kg/ha)   
soil_cn =      14.5   ()   
ph =              7.000   7.000   7.000   
no3ppm =          1.000   1.000   1.000   
nh4ppm =          1.000   1.000   1.000   
ureappm =         0.000   0.000   0.000   
oc =              1.000   0.750   0.500   
fbiom =           0.030   0.020   0.010   
finert =          0.400   0.500   0.999   
enr_a_coeff =         7.4  ()   
enr_b_coeff =         0.2  ()   
profile_reduction =      on   

[reference.residue2.parameters]  

     ! no initial residue - removes an unnecessary factor
pot_decomp_rate =      0.10   ()   
residue_wt =           0.0  (kg/ha)   
residue_cnr =           80.0 ()   
residue_type =         sugar   

[reference.irrigate.parameters]  
     
     ! start with high irrigation supply
crit_fr_asw =      0.8   
asw_depth =      900   
automatic_irrigation =      on   

[reference.sugar.parameters]  

uptake_source =      calc   
ll =          0.100   0.100   0.100   
kl =          0.080   0.050   0.020   
xf =          1.000   1.000   1.000   
rlv =         0.005   0.001   0.000   

[reference.manager.end_of_day]  

   ! NB All water supply comes from the irrigation module.
   ! ie.  Rainfall in the met file is zero.

   if day = 91 and year = 1984 then

      ! First Crop - plant crop, high irrigation, low N, early sow.
      ! -----------------------------------------------------------------------
      ! [sow_msg.sow] - crop should initiate when sown
      sugar sow plants = 10, sowing_depth = 150, cultivar = q138, ratoon = 0 ()

   elseif day = 92 and year = 1985 then

      ! harvest the crop
      ! [harvest_msg.harvest] - harvesting should remove grain
      sugar harvest

      ! report the effects of harvest
      ! [add_residue_msg.add_residue] - should place residues on soil surface
      ! [incorp_fom_msg.incorp_fom] - should incorporate dead roots
      report do_output

      ! Add N and decrease irrigation supply
      fertiliz apply amount = 300 (kg/ha), type = no3_n, depth = 50 (mm)
      irrigate set crit_fr_asw = 0.2

      ! remove residues so there is one less factor to consider
      residue2 tillage type = burn

      ! -----------------------------------------------------------------------
      ! First crop harvest - start next
      ! Second Crop - ratoon crop, low irrigation, high N, early ratoon.
      ! -----------------------------------------------------------------------

   elseif day = 92 and year = 1986 then

      ! harvest and kill the crop
      ! [harvest_msg.harvest] - harvesting should remove grain
      sugar harvest

      ! [kill_crop_msg.kill_crop] - kill crop should change plant status
      sugar kill_crop

      ! [end_crop_msg.end_crop] - end crop should remove crop altogether
      ! do not end it until we have the chance to report
      ! the effects of these messages
      sugar end_crop

      ! report  the effects of harvest
      ! [add_residue_msg.add_residue] - should place residues on soil surface
      ! [incorp_fom_msg.incorp_fom] - should incorporate dead roots
      report do_output

      ! remove residues so there is one less factor to consider
      residue2 tillage type = burn

   elseif day = 244 and year = 1986 then

      ! -----------------------------------------------------------------------
      ! Third Crop - plant crop, high irrigation, low N, late sow.
      ! -----------------------------------------------------------------------

      ! [sow_msg.sow] - crop should initiate when sown
      sugar sow plants = 10, sowing_depth = 150, cultivar = q138, ratoon = 1 ()

      ! increase irrigation supply
      irrigate set crit_fr_asw = 0.8

   elseif day = 245 and year = 1987 then

      ! harvest the crop
      ! [harvest_msg.harvest] - harvesting should remove grain
      sugar harvest

      ! report  the effects of harvest
      ! [add_residue_msg.add_residue] - should place residues on soil surface
      ! [incorp_fom_msg.incorp_fom] - should incorporate dead roots

      report do_output

      ! remove residues so there is one less factor to consider
      residue2 tillage type = burn

      ! [plant_pop_msg.plants] - change population density
      sugar set plants = 8

      ! -----------------------------------------------------------------------
      ! Third crop harvest - start next
      ! Fourth Crop - ratoon crop, high irrigation, low N, late ratoon, 
      !               decreased plant population, 10 days of grazing.
      ! -----------------------------------------------------------------------

   elseif day < 10 and year = 1988 then

      ! [graze_msg.graze] - graze fraction of crop biomass
      sugar graze fraction = 0.05, c_eff = 0.5, n_eff = 0.5, report = yes

      ! report  the effects of grazing
      report do_output

   elseif end_week = 1 then

      report do_output

   endif

