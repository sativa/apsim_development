     ###     ######     #####   #   #     #   
    #   #    #     #   #        #   ##   ##   
   #     #   #     #   #        #   ##   ##   
   #######   ######     #####   #   # # # #   
   #     #   #              #   #   #  #  #   
   #     #   #         #####    #   #  #  #   
                                              
                                              
 The Agricultural Production Systems Simulator
             Copyright(c) APSRU               

Version                = 6.1
Title                  = Paddock114
Component      "Clock" = C:\development\apsim\clock\lib\clock.dll
Component        "Met" = C:\development\apsim\siloinput\lib\siloinput.dll
Component "PatchInput" = C:\development\apsim\PatchInput\lib\PatchInput.dll
Paddock:
Component     "Yearly" = C:\development\apsim\report\lib\report.dll
Component      "accum" = C:\development\apsim\accum\lib\accum.dll
Component "Fertiliser" = C:\development\apsim\fertiliz\lib\fertiliz.dll
Component "Irrigation" = C:\development\apsim\irrigate\lib\irrigate.dll
Component "GrossMargin" = C:\development\apsim\manager\lib\manager.dll
Component      "Reset" = C:\development\apsim\manager\lib\manager.dll
Component        "Sow" = C:\development\apsim\manager\lib\manager.dll
Component "Sowing tillage" = C:\development\apsim\manager\lib\manager.dll
Component    "Harvest" = C:\development\apsim\manager\lib\manager.dll
Component "Yield moisture correction" = C:\development\apsim\manager\lib\manager.dll
Component  "MildFrost" = C:\development\apsim\manager\lib\manager.dll
Component "ModerateFrost" = C:\development\apsim\manager\lib\manager.dll
Component "SevereFrost" = C:\development\apsim\manager\lib\manager.dll
Component "MildHeatShock" = C:\development\apsim\manager\lib\manager.dll
Component "ModerateHeatShock" = C:\development\apsim\manager\lib\manager.dll
Component "SevereHeatShock" = C:\development\apsim\manager\lib\manager.dll
Component  "Fertilise" = C:\development\apsim\manager\lib\manager.dll
Component   "Irrigate" = C:\development\apsim\manager\lib\manager.dll
Component    "Tillage" = C:\development\apsim\manager\lib\manager.dll
Component  "Constants" = C:\development\apsim\manager\lib\manager.dll
Component     "Script" = C:\development\apsim\manager\lib\manager.dll
Component "CanolaOilConc" = C:\development\apsim\manager\lib\manager.dll
Component "StubbleRemoved" = C:\development\apsim\manager\lib\manager.dll
Component "Soil Water" = C:\development\apsim\soilwat2\lib\soilwat2.dll
Component  "SurfaceOM" = C:\development\apsim\surfaceom\lib\surfaceom.dll
Component    "Erosion" = C:\development\apsim\erosion\lib\erosion.dll
Component "Soil Nitrogen" = C:\development\apsim\soiln2\lib\soiln2.dll
Component     "barley" = C:\development\apsim\plant\lib\plant.dll
Component    "Tracker" = C:\development\apsim\tracker\lib\tracker.dll
Component     "YPCalc" = C:\development\apsim\YPCalc\lib\YPCalc.dll

------- Clock Initialisation --------------------------------------------------
     Sequencer phases:
        prepare
        process
        post
     Simulation start date =  1/01/2006
     Simulation end date   =  1/04/2007
     Time step =           = 1440 (mins)

------- Met Initialisation ----------------------------------------------------
     SILOINPUT station number: 75086

------- PatchInput Initialisation ---------------------------------------------
     Sparse data is allowed
     INPUT File name: shirley~Clump I1.rain

------- Yearly Initialisation -------------------------------------------------
     Output frequency:
        harvesting
     Output variables:
        dd/mm/yyyy as Date
        sow_year
        DaysAfterSowing
        simulation_end_date format dd/mm/yyyy
        biomass
        wetyield
        Grain_protein
        grain_n
        grain_no format 0
        oil_conc
        leaf_no
        sw_stress_expan
        sw_stress_photo
        n_stress_expan
        n_stress_photo
        BiomassFlowering
        Z
        Zadok11Das
        Zadok12Das
        Zadok13Das
        Zadok14Das
        Zadok15Das
        Zadok16Das
        Zadok30Das
        Zadok31Das
        Zadok32Das
        Zadok37Das
        Zadok39Das
        Zadok45Das
        Zadok55Das
        Zadok65Das
        Zadok75Das
        flowering_das
        maturity_das
        root_depth
        Bank
        TwoTimesCost 
        CurrentFallow
        MildFrostCount
        ModerateFrostCount
        SevereFrostCount
        MildHeatShockCount
        ModerateHeatShockCount
        SevereHeatShockCount
        rain
        runoff
        SumRunoffToSowing
        drain
        es
        ep
        sw_dep()
        AvailableWater
        AvailableWaterAtSowing
        AmountWaterLeft
        ll_dep()
        no3()
        nh4()
        Nitrogen
        NitrogenAtSowing
        NUptakeKgHa
        soil_loss
        SumSoilLossToSowing
        dlt_n_min_tot()
        dnit()
        leach_no3
        NInPlant
        CLLToday
        DulToday
        SwToday
        CritSWToday
        dlayer
        air_dry
        ll
        sw
        dul
        sat

     Output file = Paddock114 Yearly.out
     Format = normal

------- accum Initialisation --------------------------------------------------
     Initialising

------- Fertiliser Initialisation ---------------------------------------------
      Initialising
     
        - Reading Parameters
     
     
     
                    Fertiliser Schedule (kg/ha)
          -----------------------------------------------
           No fertiliser schedule is used
          -----------------------------------------------

------- Irrigation Initialisation ---------------------------------------------
      Initialising
     
        - Reading Parameters
     
     
     
                      Irrigation parameters
          -----------------------------------------------
           Irrigation Schedule (Disabled)
           Automatic Irrigation Application (Disabled)
           critical fraction of available soil water =  0.50
           depth for calculating available soil water =     600.00
           Irrigation Allocation Budget (Disabled)
          -----------------------------------------------

------- GrossMargin Initialisation --------------------------------------------
     Manager rules:
     
     SECTION:- init
     resetbank = 0
      bank = 0
     
     SECTION:- post
        if (resetbank = 1 or today = met_start_date) then
           bank = 0
           resetbank = 0
           twotimescost = 0
        endif
        if (fertilizer > 0)then
           cost = 1.2 * fertilizer + 15
           bank = bank - cost
           if scenarioapplication = 'yes' then
              twotimescost = twotimescost + 2 * cost
           endif
        endif
        if (irrig_tot > 0)then
           cost = 150 * (irrig_tot / 100)
           bank = bank - cost
           if scenarioapplication = 'yes' then
              twotimescost = twotimescost + 2 * cost
           endif
        endif
        if stagename = 'harvest_ripe' or plant_status = 'dead' then
           if (grain_protein > 10.5) then
              fullprice = 140 + (grain_protein - 10.5) * 2 * 2
           else
              fullprice = 140
           endif
           bank = bank + fullprice * wetyield
           resetbank = 1
        endif
     END of rules
     
     Manager creating a new local real variable : resetbank = 0.00000
     Manager creating a new local real variable : bank = 0.00000

------- Reset Initialisation --------------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
              if (today = date('17-may') then
     resetwater = 'yes'
     resetnitrogen  = 'yes'
     resetsurfaceom = 'yes'
     if (resetwater = 'yes') then
         'soil water' reset
     endif
     if (resetnitrogen = 'yes') then
         'soil nitrogen' reset
     endif
     if (resetsurfaceom = 'yes') then
         'surfaceom' reset
     endif
     act_mods reseting
              endif
     END of rules
     

------- Sow Initialisation ----------------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        cropsown  = 'barley'
        if (today = date('16-may') then
           sow_year = year
           barley sow plants =100, sowing_depth = 30, cultivar = franklin, row_spacing = 250, crop_class = plant, tiller_no_fertile = 1 (), skip = double
        endif
     END of rules
     

------- Sowing tillage Initialisation -----------------------------------------
     Manager rules:
     
     SECTION:- sowing
              'surfaceom' tillage type =  planter, f_incorp = 0.1 (), tillage_depth = 50
     END of rules
     

------- Harvest Initialisation ------------------------------------------------
     Manager rules:
     
     SECTION:- end_of_day
                if barley.stagename = 'harvest_ripe' or barley.plant_status = 'dead' then
       barley  harvest
       barley  end_crop
                endif
     END of rules
     

------- Yield moisture correction Initialisation ------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if cropsown = 'canola' then
           moisturecontent = 8
        else
           moisturecontent = 12
        endif
        wetyield = yield / (1 - moisturecontent/100) / 1000
     END of rules
     

------- MildFrost Initialisation ----------------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 60 and
       z <= 69.99 and
       mint >= 0 and
       mint <= 2) then
      act_mods mildfrost
               endif
     END of rules
     

------- ModerateFrost Initialisation ------------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 60 and
       z <= 75.99 and
       mint >= -2 and
       mint <= 0) then
      act_mods moderatefrost
               endif
     END of rules
     

------- SevereFrost Initialisation --------------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 60 and
       z <= 79.99 and
       mint >= -100 and
       mint <= -2) then
      act_mods severefrost
               endif
     END of rules
     

------- MildHeatShock Initialisation ------------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 70 and
       z <= 79.99 and
       maxt >= 32 and
       maxt <= 34) then
      act_mods mildheatshock
               endif
     END of rules
     

------- ModerateHeatShock Initialisation --------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 70 and
       z <= 79.99 and
       maxt >= 34 and
       maxt <= 36) then
      act_mods moderateheatshock
               endif
     END of rules
     

------- SevereHeatShock Initialisation ----------------------------------------
     Manager rules:
     
     SECTION:- post
               if (z >= 70 and
       z <= 79.99 and
       maxt >= 36 and
       maxt <= 100) then
      act_mods severeheatshock
               endif
     END of rules
     

------- Fertilise Initialisation ----------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if (today = date('18-may') then
           scenarioapplication = 'no'
           fertiliser apply amount = 31 (kg/ha), depth = 20 (mm), type = no3_n ()
        endif
     END of rules
     

------- Irrigate Initialisation -----------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if (today = date('1/1/1800') then
           scenarioapplication = 'no'
           'irrigation' set irrigation_efficiency = 1
           'irrigation' apply amount = 0 (mm)
        endif
     END of rules
     

------- Tillage Initialisation ------------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if (today = date('1/1/1800') then
           if ('low' = 'low') then
              surfaceom tillage type = user_defined, f_incorp = 0.2, tillage_depth = 100
           elseif ('low' = 'medium') then
              surfaceom tillage type = user_defined, f_incorp = 0.5, tillage_depth = 100
           else
              surfaceom tillage type = user_defined, f_incorp = 0.8, tillage_depth = 100
           endif
        endif
     END of rules
     

------- Constants Initialisation ----------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
     todaydate=date('')
     todaydatefull=date('')
     startseasondate=date('01-apr')
     startseasondatefull=date('')
     resetdate=date('17-may')
     resetdatefull=date('')
     sowdatefull=date('')
     END of rules
     

------- Script Initialisation -------------------------------------------------
     Manager rules:
     
     SECTION:- end_of_day
        avtemp = (maxt + mint) / 2
        amountwaterleft = swtoday - critswtoday
        amountwaterabovecll = swtoday - clltoday
        if (amountwaterabovecll < 0) then
           amountwaterabovecll = 0
        endif
        nitrogen = no3() + nh4()
        availablewater = sw_dep() - ll_dep()
        nuptakekgha = no3_uptake() * -1
        ninplant = (biomass_n * 10) + (rootgreenn * 10)
        biomasstonnesperha= 0.8 * (biomass / (1 - 13/100) / 1000)
        if (daysaftersowing = 1) then
           zadok11das = 0
           zadok12das = 0
           zadok13das = 0
           zadok14das = 0
           zadok15das = 0
           zadok16das = 0
           zadok30das = 0
           zadok31das = 0
           zadok32das = 0
           zadok37das = 0
           zadok39das = 0
           zadok45das = 0
           zadok55das = 0
           zadok65das = 0
           zadok75das = 0
        endif
        if (z >= 11 and zadok11das = 0) then
           zadok11das = daysaftersowing
        elseif (z >= 12 and zadok12das = 0) then
           zadok12das = daysaftersowing
        elseif (z >= 13 and zadok13das = 0) then
           zadok13das = daysaftersowing
        elseif (z >= 14 and zadok14das = 0) then
           zadok14das = daysaftersowing
        elseif (z >= 15 and zadok15das = 0) then
           zadok15das = daysaftersowing
        elseif (z >= 16 and zadok16das = 0) then
           zadok16das = daysaftersowing
        elseif (z >= 30 and zadok30das = 0) then
           zadok30das = daysaftersowing
        elseif (z >= 31 and zadok31das = 0) then
           zadok31das = daysaftersowing
        elseif (z >= 32 and zadok32das = 0) then
           zadok32das = daysaftersowing
        elseif (z >= 37 and zadok37das = 0) then
           zadok37das = daysaftersowing
        elseif (z >= 39 and zadok39das = 0) then
           zadok39das = daysaftersowing
        elseif (z >= 45 and zadok45das = 0) then
           zadok45das = daysaftersowing
        elseif (z >= 55 and zadok55das = 0) then
           zadok55das = daysaftersowing
        elseif (z >= 65 and zadok65das = 0) then
           zadok65das = daysaftersowing
        elseif (z >= 75 and zadok75das = 0) then
           zadok75das = daysaftersowing
        endif
     
     SECTION:- sowing
        avtemp = (maxt + mint) / 2
        amountwaterleft = swtoday - critswtoday
        amountwaterabovecll = swtoday - clltoday
        if (amountwaterabovecll < 0) then
           amountwaterabovecll = 0
        endif
        nitrogen = no3() + nh4()
        availablewater = sw_dep() - ll_dep()
        nuptakekgha = no3_uptake() * -1
        ninplant = (biomass_n * 10) + (rootgreenn * 10)
        biomasstonnesperha= 0.8 * (biomass / (1 - 13/100) / 1000)
        if (daysaftersowing = 1) then
           zadok11das = 0
           zadok12das = 0
           zadok13das = 0
           zadok14das = 0
           zadok15das = 0
           zadok16das = 0
           zadok30das = 0
           zadok31das = 0
           zadok32das = 0
           zadok37das = 0
           zadok39das = 0
           zadok45das = 0
           zadok55das = 0
           zadok65das = 0
           zadok75das = 0
        endif
        if (z >= 11 and zadok11das = 0) then
           zadok11das = daysaftersowing
        elseif (z >= 12 and zadok12das = 0) then
           zadok12das = daysaftersowing
        elseif (z >= 13 and zadok13das = 0) then
           zadok13das = daysaftersowing
        elseif (z >= 14 and zadok14das = 0) then
           zadok14das = daysaftersowing
        elseif (z >= 15 and zadok15das = 0) then
           zadok15das = daysaftersowing
        elseif (z >= 16 and zadok16das = 0) then
           zadok16das = daysaftersowing
        elseif (z >= 30 and zadok30das = 0) then
           zadok30das = daysaftersowing
        elseif (z >= 31 and zadok31das = 0) then
           zadok31das = daysaftersowing
        elseif (z >= 32 and zadok32das = 0) then
           zadok32das = daysaftersowing
        elseif (z >= 37 and zadok37das = 0) then
           zadok37das = daysaftersowing
        elseif (z >= 39 and zadok39das = 0) then
           zadok39das = daysaftersowing
        elseif (z >= 45 and zadok45das = 0) then
           zadok45das = daysaftersowing
        elseif (z >= 55 and zadok55das = 0) then
           zadok55das = daysaftersowing
        elseif (z >= 65 and zadok65das = 0) then
           zadok65das = daysaftersowing
        elseif (z >= 75 and zadok75das = 0) then
           zadok75das = daysaftersowing
        endif
     
     SECTION:- harvesting
        avtemp = (maxt + mint) / 2
        amountwaterleft = swtoday - critswtoday
        amountwaterabovecll = swtoday - clltoday
        if (amountwaterabovecll < 0) then
           amountwaterabovecll = 0
        endif
        nitrogen = no3() + nh4()
        availablewater = sw_dep() - ll_dep()
        nuptakekgha = no3_uptake() * -1
        ninplant = (biomass_n * 10) + (rootgreenn * 10)
        biomasstonnesperha= 0.8 * (biomass / (1 - 13/100) / 1000)
        if (daysaftersowing = 1) then
           zadok11das = 0
           zadok12das = 0
           zadok13das = 0
           zadok14das = 0
           zadok15das = 0
           zadok16das = 0
           zadok30das = 0
           zadok31das = 0
           zadok32das = 0
           zadok37das = 0
           zadok39das = 0
           zadok45das = 0
           zadok55das = 0
           zadok65das = 0
           zadok75das = 0
        endif
        if (z >= 11 and zadok11das = 0) then
           zadok11das = daysaftersowing
        elseif (z >= 12 and zadok12das = 0) then
           zadok12das = daysaftersowing
        elseif (z >= 13 and zadok13das = 0) then
           zadok13das = daysaftersowing
        elseif (z >= 14 and zadok14das = 0) then
           zadok14das = daysaftersowing
        elseif (z >= 15 and zadok15das = 0) then
           zadok15das = daysaftersowing
        elseif (z >= 16 and zadok16das = 0) then
           zadok16das = daysaftersowing
        elseif (z >= 30 and zadok30das = 0) then
           zadok30das = daysaftersowing
        elseif (z >= 31 and zadok31das = 0) then
           zadok31das = daysaftersowing
        elseif (z >= 32 and zadok32das = 0) then
           zadok32das = daysaftersowing
        elseif (z >= 37 and zadok37das = 0) then
           zadok37das = daysaftersowing
        elseif (z >= 39 and zadok39das = 0) then
           zadok39das = daysaftersowing
        elseif (z >= 45 and zadok45das = 0) then
           zadok45das = daysaftersowing
        elseif (z >= 55 and zadok55das = 0) then
           zadok55das = daysaftersowing
        elseif (z >= 65 and zadok65das = 0) then
           zadok65das = daysaftersowing
        elseif (z >= 75 and zadok75das = 0) then
           zadok75das = daysaftersowing
        endif
     
     SECTION:- reseting
        avtemp = (maxt + mint) / 2
        amountwaterleft = swtoday - critswtoday
        amountwaterabovecll = swtoday - clltoday
        if (amountwaterabovecll < 0) then
           amountwaterabovecll = 0
        endif
        nitrogen = no3() + nh4()
        availablewater = sw_dep() - ll_dep()
        nuptakekgha = no3_uptake() * -1
        ninplant = (biomass_n * 10) + (rootgreenn * 10)
        biomasstonnesperha= 0.8 * (biomass / (1 - 13/100) / 1000)
        if (daysaftersowing = 1) then
           zadok11das = 0
           zadok12das = 0
           zadok13das = 0
           zadok14das = 0
           zadok15das = 0
           zadok16das = 0
           zadok30das = 0
           zadok31das = 0
           zadok32das = 0
           zadok37das = 0
           zadok39das = 0
           zadok45das = 0
           zadok55das = 0
           zadok65das = 0
           zadok75das = 0
        endif
        if (z >= 11 and zadok11das = 0) then
           zadok11das = daysaftersowing
        elseif (z >= 12 and zadok12das = 0) then
           zadok12das = daysaftersowing
        elseif (z >= 13 and zadok13das = 0) then
           zadok13das = daysaftersowing
        elseif (z >= 14 and zadok14das = 0) then
           zadok14das = daysaftersowing
        elseif (z >= 15 and zadok15das = 0) then
           zadok15das = daysaftersowing
        elseif (z >= 16 and zadok16das = 0) then
           zadok16das = daysaftersowing
        elseif (z >= 30 and zadok30das = 0) then
           zadok30das = daysaftersowing
        elseif (z >= 31 and zadok31das = 0) then
           zadok31das = daysaftersowing
        elseif (z >= 32 and zadok32das = 0) then
           zadok32das = daysaftersowing
        elseif (z >= 37 and zadok37das = 0) then
           zadok37das = daysaftersowing
        elseif (z >= 39 and zadok39das = 0) then
           zadok39das = daysaftersowing
        elseif (z >= 45 and zadok45das = 0) then
           zadok45das = daysaftersowing
        elseif (z >= 55 and zadok55das = 0) then
           zadok55das = daysaftersowing
        elseif (z >= 65 and zadok65das = 0) then
           zadok65das = daysaftersowing
        elseif (z >= 75 and zadok75das = 0) then
           zadok75das = daysaftersowing
        endif
     
     SECTION:- post
        if (startdailydate = 0) then
           if (startseasondatefull <= sowdatefull and startseasondatefull <= resetdatefull) then
              startdailydate = startseasondatefull)
           elseif (sowdatefull <= resetdatefull) then
              startdailydate = sowdatefull
           else
              startdailydate = resetdatefull
           endif
        endif
        if (today >= startdailydate) then
           act_mods ondailyoutput
           if (daysaftersowing > 0) then
              currentcropfound = 1
           endif
           if (currentcropfound = 1 and daysaftersowing = 0) then
              currentfallow = 1
           endif
        endif
        if (today = startseasondate) then
           deciledate = startseasondatefull
           dodecileoutput = 1
        elseif (start_month = 1) then
           deciledate = add_months('deciledate, 1')
        endif
        if (dodecileoutput = 1 and today < startseasondatefull and start_month = 1) then
           act_mods ondecileoutput
        endif
        if (month = month(todaydatefull)) then
           act_mods thismonth
           threemonthstimedate = today + 90
        endif
        if (today = threemonthstimedate) then
           act_mods threemonthstime
        endif
        if (zadok_stage < 30) then
           z = node_no + 10
           if (z > 16) then
              z = 16
           endif
        else
           z = zadok_stage
        endif
     
     SECTION:- start_of_day
        if (today = startseasondate-1) then
           act_mods endseason
        elseif (today = startseasondate) then
           act_mods startseason
        endif
        if (today = todaydate) then
           act_mods currentday
        endif
     
     SECTION:- init
      currentfallow = 0
           cum_days = 0
           z = 0
           zadok11das = 0
           zadok12das = 0
           zadok13das = 0
           zadok14das = 0
           zadok15das = 0
           zadok16das = 0
           zadok30das = 0
           zadok31das = 0
           zadok32das = 0
           zadok37das = 0
           zadok39das = 0
           zadok45das = 0
           zadok55das = 0
           zadok65das = 0
           zadok75das = 0
     startdailydate = 0
     currentcropfound =0
     deciledate = 0
     dodecileoutput = 0
     threemonthstimedate = 0
     END of rules
     
     Manager creating a new local real variable : currentfallow = 0.00000
     Manager creating a new local real variable : cum_days = 0.00000
     Manager creating a new local real variable : z = 0.00000
     Manager creating a new local real variable : zadok11das = 0.00000
     Manager creating a new local real variable : zadok12das = 0.00000
     Manager creating a new local real variable : zadok13das = 0.00000
     Manager creating a new local real variable : zadok14das = 0.00000
     Manager creating a new local real variable : zadok15das = 0.00000
     Manager creating a new local real variable : zadok16das = 0.00000
     Manager creating a new local real variable : zadok30das = 0.00000
     Manager creating a new local real variable : zadok31das = 0.00000
     Manager creating a new local real variable : zadok32das = 0.00000
     Manager creating a new local real variable : zadok37das = 0.00000
     Manager creating a new local real variable : zadok39das = 0.00000
     Manager creating a new local real variable : zadok45das = 0.00000
     Manager creating a new local real variable : zadok55das = 0.00000
     Manager creating a new local real variable : zadok65das = 0.00000
     Manager creating a new local real variable : zadok75das = 0.00000
     Manager creating a new local real variable : startdailydate = 0.00000
     Manager creating a new local real variable : currentcropfound = 0.00000
     Manager creating a new local real variable : deciledate = 0.00000
     Manager creating a new local real variable : dodecileoutput = 0.00000
     Manager creating a new local real variable : threemonthstimedate = 0.00000

------- CanolaOilConc Initialisation ------------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if (daysaftersowing = 1) then
           cum_temp = 0
           cum_swdef = 0
           cum_days = 0
        elseif (stagename = 'start_grain_fill' or
         stagename = 'end_grain_fill' or
         stagename = 'maturity' or
         stagename = 'harvest_ripe') then
           cum_temp = cum_temp + (maxt + mint) / 2
           cum_swdef = cum_swdef + swdef_photo
           cum_days = cum_days + 1
        endif
        if (cum_days > 0) then
           avg_temp = cum_temp / cum_days
           avg_swdef = cum_swdef / cum_days
           if (avg_temp <= 14) then
              oil_conc =  47
           else
              oil_conc = (47 - ((avg_temp - 14)*1.21)) - (1.91*(1 - avg_swdef^2))
           endif
        else
           oil_conc = 0
        endif
     
     SECTION:- end_of_day
     END of rules
     

------- StubbleRemoved Initialisation -----------------------------------------
     Manager rules:
     
     SECTION:- start_of_day
        if (today = date('1/1/1800') then
           stubbleremovedpercent = 30 / 100
           surfaceom tillage type = user_defined, f_incorp = stubbleremovedpercent , tillage_depth = 0
        endif
     END of rules
     

------- Soil Water Initialisation ---------------------------------------------
     
         - Reading constants
     
        - Reading Soil Property Parameters
     
        - Reading Soil Profile Parameters
     Initial soilwater distributed using "sw" parameter.
     
     
     
                      Soil Profile Properties
        ---------------------------------------------------------------------
              Depth  Air_Dry  LL15   Dul    Sat     Sw     BD   Runoff  SWCON
                mm     mm/mm  mm/mm  mm/mm  mm/mm  mm/mm  g/cc    wf
        ---------------------------------------------------------------------
            0.-  150.  0.090  0.180  0.300  0.420  0.311  1.400  0.762  0.500
          150.-  300.  0.160  0.240  0.350  0.430  0.335  1.400  0.190  0.400
          300.-  600.  0.220  0.240  0.350  0.420  0.323  1.450  0.048  0.400
          600.-  900.  0.240  0.240  0.350  0.420  0.290  1.450  0.000  0.400
          900.- 1200.  0.240  0.240  0.350  0.410  0.350  1.500  0.000  0.400
         1200.- 1500.  0.240  0.240  0.350  0.410  0.350  1.500  0.000  0.400
        ---------------------------------------------------------------------
     
     
     
                  Soil Water Holding Capacity
          ---------------------------------------------------------
              Depth    Unavailable Available  Max Avail.  Drainable
                          (LL15)   (SW-LL15)  (DUL-LL15)  (SAT-DUL)
                            mm        mm          mm         mm
          ---------------------------------------------------------
            0.-  150.      27.00      19.65      18.00      18.00
          150.-  300.      36.00      14.25      16.50      12.00
          300.-  600.      72.00      24.90      33.00      21.00
          600.-  900.      72.00      15.00      33.00      21.00
          900.- 1200.      72.00      33.00      33.00      18.00
         1200.- 1500.      72.00      33.00      33.00      18.00
          ---------------------------------------------------------
               Totals     351.00     139.80     166.50     108.00
          ---------------------------------------------------------
     
     
     
     
     
     
                  Initial Soil Parameters
          ---------------------------------------------------------
                 Insoil        Salb     Dif_Con   Dif_Slope
          ---------------------------------------------------------
                   0.00        0.13       88.00       35.00
          ---------------------------------------------------------
     
     
     
                  Runoff is predicted using scs curve number:
                Cn2  Cn_Red  Cn_Cov   H_Eff_Depth
                                           mm
          ---------------------------------------------------------
              68.00   20.00    0.80  450.00
          ---------------------------------------------------------
     
     
     
           Using Ritchie evaporation model
            Cuml evap (U):            2.00 (mm^0.5)
            CONA:                     2.00 ()
            Eo from priestly-taylor

------- SurfaceOM Initialisation ----------------------------------------------
     
         - Reading constants
     
         - Reading parameters
     
     
     
                         Initial Surface Organic Matter Data
         ----------------------------------------------------------------------
            Name   Type        Dry matter   C        N        P    Cover  Standing_fr
                                (kg/ha)  (kg/ha)  (kg/ha)  (kg/ha) (0-1)     (0-1)
         ----------------------------------------------------------------------
          wheat     wheat         1000.0   400.0     5.0     0.0   0.393     0.0
         ----------------------------------------------------------------------
     
                      Effective Cover from Surface Materials =   0.4
     

------- Erosion Initialisation ------------------------------------------------
      Initialising:
     
        - Reading Parameters
     
     
     
                      Erosion Parameters
          -----------------------------------------------
           Profile reduction:                     off
           Freebairn cover-sediment concentration model
     
           LS factor:                             0.0650
     
           K factor:                              0.4000
     
           P factor:                              1.0000
     
          -----------------------------------------------

------- Soil Nitrogen Initialisation ------------------------------------------
     
        - Reading Parameters
     
        - Reading Constants
     
     
     
           TAV and AMP supplied externally
     
     
     
                      Soil Profile Properties
          ------------------------------------------------
           Layer    pH    OC     NO3     NH4    Urea
                         (%) (kg/ha) (kg/ha) (kg/ha)
          ------------------------------------------------
             1     5.70  1.17    5.48    8.85    0.00
             2     7.10  0.65    4.24    6.37    0.00
             3     7.57  0.32    5.59    9.91    0.00
             4     8.60  0.13    4.35    3.22    0.00
             5     9.00  0.13    4.50    0.90    0.00
             6     9.00  0.13    4.50    0.90    0.00
          ------------------------------------------------
           Totals               28.67   30.14    0.00
          ------------------------------------------------
     
     
     
     
     
     
                  Initial Soil Organic Matter Status
          ---------------------------------------------------------
           Layer      Hum-C   Hum-N  Biom-C  Biom-N   FOM-C   FOM-N
                    (kg/ha) (kg/ha) (kg/ha) (kg/ha) (kg/ha) (kg/ha)
          ---------------------------------------------------------
             1      24218.7  1937.5   288.3    36.0   234.4     5.2
             2      13542.9  1083.4   107.1    13.4   173.6     3.9
             3      14109.5  1128.8    28.0     3.5    95.3     2.1
             4       5649.4   452.0     5.6     0.7    52.3     1.2
             5       5850.0   468.0     0.0     0.0    28.7     0.6
             6       5850.0   468.0     0.0     0.0    15.8     0.4
          ---------------------------------------------------------
           Totals   69220.5  5537.6   429.0    53.6   600.0    13.3
          ---------------------------------------------------------

------- Tracker Initialisation ------------------------------------------------
     Tracker variables:
        sum of unpatched_rain on start_of_day from StartSeason to EndSeason as SeasonalRainUnPatched
        sum of unpatched_rain on start_of_day from ThisMonth to ThreeMonthsTime as RainInComingMonths
        value of BiomassTonnesPerHa on flowering as BiomassFlowering
        count of MildFrost from sowing to harvesting as MildFrostCount
        count of ModerateFrost from sowing to harvesting as ModerateFrostCount
        count of SevereFrost from sowing to harvesting as SevereFrostCount
        count of MildHeatShock from sowing to harvesting as MildHeatShockCount
        count of ModerateHeatShock from sowing to harvesting as ModerateHeatShockCount
        count of SevereHeatShock from sowing to harvesting as SevereHeatShockCount
        sum of runoff on start_of_day from CurrentDay to sowing as SumRunoffToSowing
        sum of soil_loss on start_of_day  from CurrentDay to sowing as SumSoilLossToSowing
        value of AvailableWater on sowing as AvailableWaterAtSowing
        value of Nitrogen on sowing as NitrogenAtSowing
------- Start of simulation  --------------------------------------------------
     Manager creating a new local string variable : cropsown = barley
     Manager creating a new local real variable : moisturecontent = 12.00000
     Manager creating a new local real variable : wetyield = 0.00000
     Manager creating a new local real variable : todaydate = 0.00000
     Manager creating a new local real variable : todaydatefull = 0.00000
     Manager creating a new local real variable : startseasondate = 2453827.00000
     Manager creating a new local real variable : startseasondatefull = 0.00000
     Manager creating a new local real variable : resetdate = 2453873.00000
     Manager creating a new local real variable : resetdatefull = 0.00000
     Manager creating a new local real variable : sowdatefull = 0.00000
     Manager creating a new local real variable : oil_conc = 0.00000
     Manager creating a new local real variable : avtemp = 29.00000
     Manager creating a new local real variable : amountwaterleft = 0.00000
     Manager creating a new local real variable : amountwaterabovecll = 0.00000
     Manager creating a new local real variable : nitrogen = 57.62035
     Manager creating a new local real variable : availablewater = 53.23218
     Manager creating a new local real variable : nuptakekgha = 0.00000
     Manager creating a new local real variable : ninplant = 0.00000
     Manager creating a new local real variable : biomasstonnesperha = 0.00000
16 May 2006(Day of year=136), Sow: 
     Manager creating a new local real variable : sow_year = 2006.00000
     Manager sending message :- barley sow  plants = 100, sowing_depth = 30, cultivar = franklin, row_spacing = 250, crop_class = plant, tiller_no_fertile = 1, skip = double
16 May 2006(Day of year=136), barley: 
     Crop Sow
        ------------------------------------------------
        cultivar                   = franklin
        Phases:
           out
           sowing
           germination
           emergence
           end_of_juvenile
           floral_initiation
           flowering
              tt_flowering               =     120 (dd)
           start_grain_fill
              tt_start_grain_fill        =     545 (dd)
           end_grain_fill
              tt_end_grain_fill          =      35 (dd)
           maturity
              tt_maturity                =       1 (dd)
           harvest_ripe
              tt_harvest_ripe            =    1000 (dd)
           end_crop
     
        grains_per_gram_stem           =       25.0 (/g)
        potential_grain_filling_rate   =     0.0033 (g/grain/day)
        potential_grain_growth_rate    =     0.0010 (g/grain/day)
        max_grain_size                 =     0.1000 (g)
        ------------------------------------------------
     
     
                        Root Profile
         -----------------------------------------------
          Layer       Kl           Lower    Exploration
          Depth     Factor         Limit      Factor
          (mm)         ()        (mm/mm)       (0-1)
         -----------------------------------------------
         150.0     0.060          0.180       1.000
         150.0     0.060          0.240       1.000
         300.0     0.040          0.240       0.216
         300.0     0.040          0.290       0.084
         300.0     0.030          0.350       0.247
         300.0     0.020          0.350       0.293
         -----------------------------------------------
         Extractable SW:    86mm in  1500mm total depth (  6%).
         Crop factor for bounding water use is set to   1.5 times eo.
      stage 1.0 sowing
     
                      Crop Sowing Data
         ------------------------------------------------
         Sowing  Depth Plants Spacing Skip  Skip  Cultivar
         Day no   mm     m^2     mm   row   plant name
         ------------------------------------------------
            136   30.0  100.0  250.0   0.0   0.0 franklin
         ------------------------------------------------
     
16 May 2006(Day of year=136), Sowing tillage: 
     Manager sending message :- surfaceom tillage  type = planter, f_incorp = 0.1, tillage_depth = 50
16 May 2006(Day of year=136), SurfaceOM: 
     Residue removed using planter
                                             Fraction Incorporated =     0.10
                                             Incorporated Depth    =    50.00
17 May 2006(Day of year=137), Reset: 
     Manager creating a new local string variable : resetwater = yes
     Manager creating a new local string variable : resetnitrogen = yes
     Manager creating a new local string variable : resetsurfaceom = yes
17 May 2006(Day of year=137), Soil Water: 
     
         - Reading constants
     
        - Reading Soil Property Parameters
     
        - Reading Soil Profile Parameters
     Initial soilwater distributed using "sw" parameter.
17 May 2006(Day of year=137), Soil Nitrogen: 
     
        - Reading Parameters
     
        - Reading Constants
17 May 2006(Day of year=137), SurfaceOM: 
     
         - Reading constants
     
         - Reading parameters
     
     
     
                         Initial Surface Organic Matter Data
         ----------------------------------------------------------------------
            Name   Type        Dry matter   C        N        P    Cover  Standing_fr
                                (kg/ha)  (kg/ha)  (kg/ha)  (kg/ha) (0-1)     (0-1)
         ----------------------------------------------------------------------
          wheat     wheat         1000.0   400.0     5.0     0.0   0.393     0.0
         ----------------------------------------------------------------------
     
                      Effective Cover from Surface Materials =   0.4
     
17 May 2006(Day of year=137), CanolaOilConc: 
     Manager creating a new local real variable : cum_temp = 0.00000
     Manager creating a new local real variable : cum_swdef = 0.00000
17 May 2006(Day of year=137), barley: 
      stage 2.0 germination
18 May 2006(Day of year=138), Fertilise: 
     Manager creating a new local string variable : scenarioapplication = no
     Manager sending message :- fertiliser apply  amount = 31 (kg/ha), depth = 20 (mm), type = no3_n
18 May 2006(Day of year=138), Fertiliser: 
     
        - Reading Fertiliser Type Parameters
        31.00 of N as nitrate (no3_n)
                                              added at depth   20.00 (layer   1)
18 May 2006(Day of year=138), GrossMargin: 
     Manager creating a new local real variable : cost = 52.20000
24 May 2006(Day of year=144), barley: 
      stage 3.0 emergence
                     biomass =           0.46 (g/m^2)   lai          =   0.020 (m^2/m^2)
                     stover N conc =     5.85 (%)    extractable sw =   16.20 (mm)
25 May 2006(Day of year=145), barley: 
      stage 4.0 end_of_juvenile
                     biomass =           0.57 (g/m^2)   lai          =   0.022 (m^2/m^2)
                     stover N conc =     5.83 (%)    extractable sw =   16.09 (mm)
14 August 2006(Day of year=226), barley: 
      stage 5.0 floral_initiation
                     biomass =         215.74 (g/m^2)   lai          =   3.287 (m^2/m^2)
                     stover N conc =     1.98 (%)    extractable sw =   50.38 (mm)
23 September 2006(Day of year=266), barley: 
      stage 6.0 flowering
                     biomass =         407.57 (g/m^2)   lai          =   0.882 (m^2/m^2)
                     stover N conc =     1.11 (%)    extractable sw =   18.18 (mm)
2 October 2006(Day of year=275), barley: 
      stage 7.0 start_grain_fill
                     biomass =         436.13 (g/m^2)   lai          =   0.510 (m^2/m^2)
                     stover N conc =     0.90 (%)    extractable sw =   21.38 (mm)
3 October 2006(Day of year=276), CanolaOilConc: 
     Manager creating a new local real variable : avg_temp = 17.50000
     Manager creating a new local real variable : avg_swdef = 0.33672
3 November 2006(Day of year=307), barley: 
      stage 8.0 end_grain_fill
                     biomass =         473.77 (g/m^2)   lai          =   0.122 (m^2/m^2)
                     stover N conc =     0.31 (%)    extractable sw =   12.71 (mm)
5 November 2006(Day of year=309), barley: 
      stage 9.0 maturity
                     biomass =         473.93 (g/m^2)   lai          =   0.122 (m^2/m^2)
                     stover N conc =     0.31 (%)    extractable sw =   12.54 (mm)
6 November 2006(Day of year=310), barley: 
      stage 10.0 harvest_ripe
                     biomass =         473.93 (g/m^2)   lai          =   0.000 (m^2/m^2)
                     stover N conc =     0.30 (%)    extractable sw =   12.43 (mm)
6 November 2006(Day of year=310), GrossMargin: 
     Manager creating a new local real variable : fullprice = 148.15273
6 November 2006(Day of year=310), Harvest: 
     Manager sending message :- barley harvest
     
      flowering day          =  266                           stover (kg/ha)         =     3372.6
      maturity day           =  309                           grain yield (kg/ha)    =     1366.7
      grain % water content  =   12.5                         grain yield wet (kg/ha)=     1562.0
      grain wt (g)           =    0.026                       grains/m^2             =     5341.9
      grains/plant           =   53.4                         maximum lai            =      3.340
      total above ground biomass (kg/ha)    =     4739.3
      live above ground biomass (kg/ha)     =     4739.3
      green above ground biomass (kg/ha)    =     3344.3
      senesced above ground biomass (kg/ha) =     1395.0
      number of leaves       =     65.3
      DM Root:Shoot ratio    =     0.20                       Harvest Index          =       0.29
      Stover C:N ratio       =   103.79                       Root C:N ratio         =      28.16
      grain N percent        =     2.20                       total N content (kg/ha)=      43.01
      grain N uptake (kg/ha) =    30.01                       senesced N content (kg/ha)=    6.97
      green N content (kg/ha)=     6.02
     
      Average Stress Indices:                          Water Photo  Water Expan  N Photo      N grain conc
         emergence            to end_of_juvenile         0.000        0.000        0.000        0.000
         end_of_juvenile      to floral_initiation       0.000        0.000        0.138        0.156
         floral_initiation    to flowering               0.096        0.115        0.200        0.234
         flowering            to start_grain_fill        0.128        0.152        0.187        0.219
         start_grain_fill     to end_grain_fill          0.185        0.218        0.186        0.252
     
     
     Crop harvested.
         Organic matter from crop:-      Tops to surface residue      Roots to soil FOM
                          DM (kg/ha) =                3372.6                     0.0
                          N  (kg/ha) =                  13.00                    0.00
     
         Organic matter removed from system:-      From Tops               From Roots
                          DM (kg/ha) =                1366.7                     0.0
                          N  (kg/ha) =                  30.01                    0.00
     
      stage 4.0 end_of_juvenile
                     biomass =           0.00 (g/m^2)   lai          =   0.020 (m^2/m^2)
                     stover N conc =     6.30 (%)    extractable sw =   12.43 (mm)
     Manager sending message :- barley end_crop
     Crop ended. Yield (dw) =     0.0  (kg/ha)
         Organic matter from crop:-      Tops to surface residue      Roots to soil FOM
                          DM (kg/ha) =                   0.0                   940.7
                          N  (kg/ha) =                   0.00                   13.36
     
7 November 2006(Day of year=311), GrossMargin: 
     Manager creating a new local real variable : twotimescost = 0.00000
1 April 2007(Day of year=91), Clock: 
     Simulation is terminating due to end criteria being met.
