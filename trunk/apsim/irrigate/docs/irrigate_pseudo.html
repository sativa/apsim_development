<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title></title>
</head>

<body>

<p><img src="..\..\..\docs\shared\apsimdocumentationbanner.jpg" width="640"
height="73"></p>
</body>
</html>
<TITLE>The APSIM Irrigate Model</TITLE>
<FONT SIZE = 7><B><CENTER>The APSIM Irrigate Model</CENTER></B></FONT>
<H1>TABLE OF CONTENTS</H1>
<H2><A HREF = "#Contact Information"> Contact Information </A></H2>
<H2><A HREF = "#Module Description"> Module Description </A></H2>
<H2>Module Logic</H2>
<ul><li><A HREF = "#apsim_irrigate"> apsim_irrigate </A>

<li><A HREF = "#Structure Charts"> Structure Charts </A>

</ul>
<hr>
<A NAME = "Module Description">  </A>
<H2>Module Documentation</H2>
<br>
<A HREF = "irrigate_science.pdf"> Module Documentation </A>
<hr>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "Structure Charts"> <H2>Module Structure Charts</H2> </A>
<H2>APSIM Irrigate Module</H2>
<ul><li><A HREF = "#apsim_irrigate"> apsim_irrigate </A>

<ul><li><A HREF = "#irrigate_version"> irrigate_version </A>

<li><A HREF = "#irrigate_zero_variables"> irrigate_zero_variables </A>

<li><A HREF = "#irrigate_init"> irrigate_init </A>

<ul><li><A HREF = "#irrigate_version"> irrigate_version </A>

<li><A HREF = "#irrigate_read_param"> irrigate_read_param </A>

</ul><li><A HREF = "#irrigate_inter_timestep"> irrigate_inter_timestep </A>

<li><A HREF = "#irrigate_get_other_variables"> irrigate_get_other_variables </A>

<li><A HREF = "#irrigate_process"> irrigate_process </A>

<ul><li><A HREF = "#irrigate_get_other_variables"> irrigate_get_other_variables </A>

<li><A HREF = "#irrigate_check_variables"> irrigate_check_variables </A>

<li><A HREF = "#irrigate_schedule"> irrigate_schedule </A>

<li><A HREF = "#irrigate_automatic"> irrigate_automatic </A>

</ul><li><A HREF = "#irrigate_irrigate"> irrigate_irrigate </A>

<li><A HREF = "#irrigate_send_my_variable"> irrigate_send_my_variable </A>

<li><A HREF = "#irrigate_set_my_variable"> irrigate_set_my_variable </A>

</ul></ul>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<CENTER><A NAME = "Module Pseudo Code"> <H2><BIG>Module Pseudo Code</BIG></H2> </A></CENTER>
<hr>
<H2><BIG><A NAME = "APSIM Irrigate Module"> APSIM Irrigate Module </A></BIG></H2>
<A NAME = "apsim_irrigate">  </A>
<H2>Apsim Irrigate</H2>
<br>
<H3><CENTER>This routine is the interface between the main system and the irrigate module.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

<br>

if (action.=.mes_presence) then<br>

<dl>get_current_module<I><SUB> module_name</SUB></I><br>

Print  'module_name = ' , trim (module_name) / / blank / / <A HREF = "#irrigate_version"> Version number </A><br>

</dl>else if (action.=.mes_init) then<br>

<dl><A HREF = "#irrigate_zero_variables"> Zero variables </A><br>

<A HREF = "#irrigate_init"> Initialise </A><br>

</dl>else if (action.=.mes_inter_timestep) then<br>

<dl><A HREF = "#irrigate_inter_timestep"> Reset total irrigation applied </A><br>

</dl>else if (action.=.mes_process) then<br>

<dl><A HREF = "#irrigate_get_other_variables"> Get Other Variables </A><br>

<A HREF = "#irrigate_process"> Perform actions for the current day </A><br>

</dl>else if ((action.=.'irrigate').or.(action.=.'apply')) then<br>

<dl><A HREF = "#irrigate_get_other_variables"> Get Other Variables </A><br>

<A HREF = "#irrigate_irrigate"> Respond to Irrigate message </A><br>

</dl>else if (action.=.mes_get_variable) then<br>

<dl><A HREF = "#irrigate_send_my_variable"> Send Value of Requested Variable </A><br>

</dl>else if (action.=.mes_set_variable) then<br>

<dl><A HREF = "#irrigate_set_my_variable"> Set Variable as Requested </A><br>

</dl>else<br>

<dl>message_unused<br>

</dl>endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_version">  </A>
<H2>Irrigate Version</H2>
<br>
<H3><CENTER>return version number of irrigate module   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

irrigate_version = version_number<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_zero_variables">  </A>
<H2>Irrigate Zero Variables</H2>
<br>
<H3><CENTER>Set all variables in this module to zero.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

year = 0<br>

day = 0<br>

irrigation_applied = 0 . 0<br>

Fill <A HREF = "#day"> day </A> with 0<br>

Fill <A HREF = "#year"> year </A> with 0<br>

Fill <A HREF = "#amount"> amount </A> with 0 . 0<br>

Fill <A HREF = "#duration"> duration </A> with 0 . 0<br>

Fill <A HREF = "#time"> time </A> with ' '<br>

Fill <A HREF = "#solutes"> solutes </A> with ' '<br>

For each solnum from 1 to max_solutes<br>

<dl>For each counter from 1 to max_irrigs<br>

<dl>irrigation_solutes<I><SUB> solnum, counter</SUB></I> = 0 . 0<br>

</dl>next<br>

</dl>next<br>

<A HREF = "#automatic_irrigation"> automatic_irrigation </A> = 'off'<br>

<A HREF = "#manual_irrigation"> manual_irrigation </A> = 'off'<br>

<A HREF = "#asw_depth"> asw_depth </A> = - 1 . 0<br>

<A HREF = "#crit_fr_asw"> crit_fr_asw </A> = - 1 . 0<br>

<A HREF = "#default_time"> default_time </A> = ' '<br>

<A HREF = "#default_duration"> default_duration </A> = 0 . 0<br>

irr_pointer = 1<br>

number ofsolutes = 0<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_init">  </A>
<H2>Irrigate Init</H2>
<br>
<H3><CENTER>Initialise irrigate module   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

event_string = ' initialising, version : ' / / <A HREF = "#irrigate_version"> Version number </A><br>

Report this event to the system<br>

<A HREF = "#irrigate_read_param"> Read parameters from parameter file </A><br>

number ofirrigs = the number of values in <A HREF = "#day"> day </A><br>

if (number ofirrigs.>.0) then<br>

<dl>Write a string to a file<br>

string = '                 irrigation schedule'<br>

Write a string to a file<br>

string = '     -----------------------------------------------'<br>

Write a string to a file<br>

string = '               day     year    amount (mm ))<br>

Write a string to a file<br>

string = '     -----------------------------------------------'<br>

Write a string to a file<br>

For each counter from 1 to number ofirrigs<br>

<dl>write (to string)  <A HREF = "#day"> day </A><I><SUB> counter</SUB></I> , <A HREF = "#year"> year </A><I><SUB> counter</SUB></I> , <A HREF = "#amount"> amount </A><I><SUB> counter</SUB></I><br>

Write a string to a file<br>

</dl>next<br>

string = '     -----------------------------------------------'<br>

Write a string to a file<br>

</dl>else<br>

endif<br>

Write a string to a file<br>

string = '                 irrigation parameters'<br>

Write a string to a file<br>

string = '     -----------------------------------------------'<br>

Write a string to a file<br>

if (<A HREF = "#manual_irrigation"> manual_irrigation </A>.=.'on') then<br>

<dl>Write a string to a file<br>

</dl>else<br>

<dl>Write a string to a file<br>

</dl>endif<br>

if (<A HREF = "#automatic_irrigation"> automatic_irrigation </A>.=.'on') then<br>

<dl>Write a string to a file<br>

</dl>else<br>

<dl>Write a string to a file<br>

</dl>endif<br>

if (<A HREF = "#crit_fr_asw"> crit_fr_asw </A> = - 1 . 0) then<br>

<dl>write (to string)  '      critical fraction of available soil water = ' / / ' not intialised'<br>

</dl>else<br>

<dl>write (to string)  '      critical fraction of available soil water = ' , <A HREF = "#crit_fr_asw"> crit_fr_asw </A><br>

</dl>endif<br>

Write a string to a file<br>

if (<A HREF = "#asw_depth"> asw_depth </A> = - 1 . 0) then<br>

<dl>write (to string)  '      depth for calculating available soil water = ' / / ' not initialised'<br>

</dl>else<br>

<dl>write (to string)  '      depth for calculating available soil water = ' , <A HREF = "#asw_depth"> asw_depth </A><br>

</dl>endif<br>

Write a string to a file<br>

string = '     -----------------------------------------------'<br>

Write a string to a file<br>

Write a string to a file<br>

For each counter from 1 to max_solutes<br>

<dl>if (<A HREF = "#solutes"> solutes </A><I><SUB> counter</SUB></I> . =/= . ' ') then<br>

Write a string to a file<br>

</dl>else<br>

endif<br>

</dl>next<br>

<br>

</dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_read_param">  </A>
<H2>Irrigate Read Param</H2>
<br>
<H3><CENTER>Read in all parameters from parameter file.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

Write a string to a file<br>

Read <A HREF = "#solutes"> solutes </A> from file <I>(OPTIONAL)</I><br>

Read <A HREF = "#day"> day </A> from file (Lower Bound = number of values returned, Upper Bound = 1) <I>(OPTIONAL)</I><br>

Read <A HREF = "#year"> year </A> from file (Lower Bound = number of values returned, Upper Bound = min_year) <I>(OPTIONAL)</I><br>

Read <A HREF = "#amount"> amount </A> from file (Lower Bound = number of values returned, Upper Bound = 0 . 0) <I>(OPTIONAL)</I><br>

Read <A HREF = "#time"> time </A> from file <I>(OPTIONAL)</I><br>

Read <A HREF = "#duration"> duration </A> from file (Lower Bound = number of values returned, Upper Bound = 0 . 0) <I>(OPTIONAL)</I><br>

Read <A HREF = "#default_time"> default_time </A> from file <I>(OPTIONAL)</I><br>

if (number of values returned.<.1) then<br>

<dl><A HREF = "#default_time"> default_time </A> = '00:00'<br>

</dl>else<br>

endif<br>

Read <A HREF = "#default_duration"> default_duration </A> from file (Lower Bound = 0 . 0, Upper Bound = 1000 .) <I>(OPTIONAL)</I><br>

if (number of values returned.<.1) then<br>

<dl><A HREF = "#default_duration"> default_duration </A> = 60 . * 24 .<br>

</dl>else<br>

endif<br>

For each solnum from 1 to number ofsolutes<br>

<dl>Read temp_solute from file (Lower Bound = number of values returned, Upper Bound = 0 . 0) <I>(OPTIONAL)</I><br>

For each counter from 1 to number of values returned<br>

<dl>irrigation_solutes<I><SUB> solnum, counter</SUB></I> = temp_solute<I><SUB> counter</SUB></I><br>

</dl>next<br>

</dl>next<br>

Read <A HREF = "#crit_fr_asw"> crit_fr_asw </A> from file (Lower Bound = 0 . 0, Upper Bound = 1 . 0) <I>(OPTIONAL)</I><br>

Read <A HREF = "#asw_depth"> asw_depth </A> from file (Lower Bound = 0 . 0, Upper Bound = 10000 .) <I>(OPTIONAL)</I><br>

Read <A HREF = "#manual_irrigation"> manual_irrigation </A> from file <I>(OPTIONAL)</I><br>

Read <A HREF = "#automatic_irrigation"> automatic_irrigation </A> from file <I>(OPTIONAL)</I><br>

if (<A HREF = "#automatic_irrigation"> automatic_irrigation </A>.=.'on') then<br>

<dl>if (<A HREF = "#crit_fr_asw"> crit_fr_asw </A> = - 1 . 0.or.<A HREF = "#asw_depth"> asw_depth </A> = - 1 . 0) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

if (<A HREF = "#manual_irrigation"> manual_irrigation </A>.=.'on') then<br>

<dl>if (<A HREF = "#day"> day </A><I><SUB> 1</SUB></I>.=.0.or.<A HREF = "#year"> year </A><I><SUB> 1</SUB></I>.=.0.or.<A HREF = "#amount"> amount </A><I><SUB> 1</SUB></I> = 0 . 0) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_inter_timestep">  </A>
<H2>Irrigate Inter Timestep</H2>
<br>
<H3><CENTER><insert here>   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

irrigation_applied = 0 . 0<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_get_other_variables">  </A>
<H2>Irrigate Get Other Variables</H2>
<br>
<H3><CENTER>Get the values of variables from other modules   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

Get year from the system (Lower Bound = min_year, Upper Bound = max_year)<br>

Get day from the system (Lower Bound = 0, Upper Bound = 366)<br>

Get sw<SUB>(in mm)</SUB> from the system (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<br>

Get ll15<SUB>(in mm)</SUB> from the system (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<br>

Get dul<SUB>(in mm)</SUB> from the system (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<br>

Get dlayer from the system (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_process">  </A>
<H2>Irrigate Process</H2>
<br>
<H3><CENTER>Perform actions for current day.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

<A HREF = "#irrigate_get_other_variables"> Get Other Variables </A><br>

<A HREF = "#irrigate_check_variables"> Check the value of parameters and state variables </A><br>

if (<A HREF = "#manual_irrigation"> manual_irrigation </A>.=.'on') then<br>

<dl><A HREF = "#irrigate_schedule"> Apply Scheduled Irrigation </A><br>

</dl>else<br>

endif<br>

if (<A HREF = "#automatic_irrigation"> automatic_irrigation </A>.=.'on') then<br>

<dl><A HREF = "#irrigate_automatic"> Apply Automatic irrigation </A><br>

</dl>else<br>

endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_check_variables">  </A>
<H2>Irrigate Check Variables</H2>
<br>
<H3><CENTER>Check the value of parameters or state variables for validity.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

if (<A HREF = "#automatic_irrigation"> automatic_irrigation </A>.=.'on') then<br>

<dl>profile_depth = <FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>maximum number of layers</SUB> dlayer<br>

if (<A HREF = "#asw_depth"> asw_depth </A>.>.profile_depth) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

if (<A HREF = "#asw_depth"> asw_depth </A>.<=.0.0) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_schedule">  </A>
<H2>Irrigate Schedule</H2>
<br>
<H3><CENTER>irrigation management. Informs manager that irrigation is required and how much.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

number ofirrigations = the number of values in <A HREF = "#day"> day </A><br>

if (number ofirrigations.>.0) then<br>

<dl>start_irrig_no = irr_pointer<br>

For each irigno from start_irrig_no to number ofirrigations<br>

<dl>if (day.=.<A HREF = "#day"> day </A><I><SUB> irigno</SUB></I>.and.year.=.<A HREF = "#year"> year </A><I><SUB> irigno</SUB></I>) then<br>

<dl>amount = <A HREF = "#amount"> amount </A><I><SUB> irigno</SUB></I> * effirr<br>

if (<A HREF = "#time"> time </A><I><SUB> irigno</SUB></I>.=.blank) then<br>

<dl>mytime = <A HREF = "#default_time"> default_time </A><br>

</dl>else<br>

<dl>mytime = <A HREF = "#time"> time </A><I><SUB> irigno</SUB></I><br>

</dl>endif<br>

if (<A HREF = "#duration"> duration </A><I><SUB> irigno</SUB></I>.=.0.0) then<br>

<dl>myduration = <A HREF = "#default_duration"> default_duration </A><br>

</dl>else<br>

<dl>myduration = <A HREF = "#duration"> duration </A><I><SUB> irigno</SUB></I><br>

</dl>endif<br>

<br>

Supply amount to the messaging system using the name 'amount'<br>

Supply myduration to the messaging system using the name 'duration'<br>

Supply mytime to the messaging system using the name 'time'<br>

For each solnum from 1 to number ofsolutes<br>

<dl>Supply irrigation_solutes<I><SUB> solnum, irigno</SUB></I> to the messaging system using the name <A HREF = "#solutes"> solutes </A><I><SUB> solnum</SUB></I><br>

message_send_immediate<I><SUB> unknown_module, 'add_water', blank</SUB></I><br>

<br>

irrigation_applied = irrigation_applied + amount<br>

irr_pointer = irigno + 1<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

<br>

</dl></dl></dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_automatic">  </A>
<H2>Irrigate Automatic</H2>
<br>
<H3><CENTER>Automatic irrigation management.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

nlayr = Find index for cumulative dlayer = <A HREF = "#asw_depth"> asw_depth </A><br>

cumdep = <FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>nlayr</SUB> dlayer<br>

excess_fr = (cumdep-<A HREF = "#asw_depth"> asw_depth </A>) / dlayer<I><SUB> nlayr</SUB></I><br>

avail_sw = (<FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>nlayr</SUB> sw<SUB>(in mm)</SUB>-excess_fr*sw<SUB>(in mm)</SUB><I><SUB> nlayr</SUB></I>) - (<FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>nlayr</SUB> ll15<SUB>(in mm)</SUB>-excess_fr*ll15<SUB>(in mm)</SUB><I><SUB> nlayr</SUB></I>) + irrigation_applied<br>

pot_avail_sw = (<FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>nlayr</SUB> dul<SUB>(in mm)</SUB>-excess_fr*dul<SUB>(in mm)</SUB><I><SUB> nlayr</SUB></I>) - (<FONT FACE = "SYMBOL">S</FONT><SUP>1</SUP><SUB>nlayr</SUB> ll15<SUB>(in mm)</SUB>-excess_fr*ll15<SUB>(in mm)</SUB><I><SUB> nlayr</SUB></I>)<br>

avail_fr = avail_sw / pot_avail_sw<br>

swdef = (pot_avail_sw-avail_sw)<br>

if (avail_fr.<.<A HREF = "#crit_fr_asw"> crit_fr_asw </A>) then<br>

<dl>amount = swdef / effirr<br>

<br>

Supply amount to the messaging system using the name 'amount'<br>

Supply <A HREF = "#default_duration"> default_duration </A> to the messaging system using the name 'duration'<br>

Supply <A HREF = "#default_time"> default_time </A> to the messaging system using the name 'time'<br>

message_send_immediate<I><SUB> unknown_module, 'add_water', blank</SUB></I><br>

<br>

irrigation_applied = irrigation_applied + amount<br>

</dl>else<br>

endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_irrigate">  </A>
<H2>Irrigate Irrigate</H2>
<br>
<H3><CENTER>This routine responds to an irrigate message from another module.  Gets any parameters and irrigates.   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

Get amount from the message (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<br>

if (number of values returned.>.0) then<br>

else<br>

<dl>Report a fatal error<br>

</dl>endif<br>

Get duration from the message (Lower Bound = 0 . 0, Upper Bound = 1440 . 0)<I>(OPTIONAL)</I><br>

if (number of values returned.=.0) then<br>

<dl>duration = <A HREF = "#default_duration"> default_duration </A><br>

</dl>else<br>

endif<br>

Get time from the message <I>(OPTIONAL)</I><br>

if (number of values returned.=.0) then<br>

<dl>time = <A HREF = "#default_time"> default_time </A><br>

</dl>else<br>

endif<br>

For each solnum from 1 to number ofsolutes<br>

<dl>Get solute<I><SUB> solnum</SUB></I> from the message (Lower Bound = 0 . 0, Upper Bound = 1000 . 0)<I>(OPTIONAL)</I><br>

</dl>next<br>

<br>

Supply amount to the messaging system using the name 'amount'<br>

Supply duration to the messaging system using the name 'duration'<br>

Supply time to the messaging system using the name 'time'<br>

For each solnum from 1 to number ofsolutes<br>

<dl>if (number of values returned_solute<I><SUB> solnum</SUB></I>.=/=.0) then<br>

<dl>Supply solute<I><SUB> solnum</SUB></I> to the messaging system using the name <A HREF = "#solutes"> solutes </A><I><SUB> solnum</SUB></I><br>

</dl>else<br>

endif<br>

message_send_immediate<I><SUB> unknown_module, 'add_water', blank</SUB></I><br>

<br>

irrigation_applied = irrigation_applied + amount<br>

<br>

</dl></dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_send_my_variable">  </A>
<H2>Irrigate Send My Variable</H2>
<br>
<H3><CENTER>Return the value of one of our variables to caller   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

if (variable_name.=.'irrigation') then<br>

<dl>Supply irrigation_applied to the requesting module<br>

</dl>elseif (variable_name.=.'automatic_irrigation') then<br>

<dl>Supply <A HREF = "#automatic_irrigation"> automatic_irrigation </A> to the requesting module<br>

</dl>elseif (variable_name.=.'manual_irrigation') then<br>

<dl>Supply <A HREF = "#manual_irrigation"> manual_irrigation </A> to the requesting module<br>

</dl>elseif (variable_name.=.'crit_fr_asw') then<br>

<dl>Supply <A HREF = "#crit_fr_asw"> crit_fr_asw </A> to the requesting module<br>

</dl>elseif (variable_name.=.'asw_depth') then<br>

<dl>Supply <A HREF = "#asw_depth"> asw_depth </A> to the requesting module<br>

</dl>else<br>

<dl>message_unused<br>

</dl>endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "irrigate_set_my_variable">  </A>
<H2>Irrigate Set My Variable</H2>
<br>
<H3><CENTER>Set one of our variables altered by some other module   </CENTER></H3>
<H4>Subprogram Logic</H4>
<dl><br>

if (variable_name.=.'manual_irrigation') then<br>

<dl>Get <A HREF = "#manual_irrigation"> manual_irrigation </A> from the message<br>

if (<A HREF = "#manual_irrigation"> manual_irrigation </A>.=.'on') then<br>

<dl>if (<A HREF = "#day"> day </A><I><SUB> 1</SUB></I>.=.0.or.<A HREF = "#year"> year </A><I><SUB> 1</SUB></I>.=.0.or.<A HREF = "#amount"> amount </A><I><SUB> 1</SUB></I> = 0 . 0) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

</dl>elseif (variable_name.=.'automatic_irrigation') then<br>

<dl>Get <A HREF = "#automatic_irrigation"> automatic_irrigation </A> from the message<br>

if (<A HREF = "#automatic_irrigation"> automatic_irrigation </A>.=.'on') then<br>

<dl>if (<A HREF = "#crit_fr_asw"> crit_fr_asw </A> = - 1 . 0.or.<A HREF = "#asw_depth"> asw_depth </A> = - 1 . 0) then<br>

<dl>Report a fatal error<br>

</dl>else<br>

endif<br>

</dl>else<br>

endif<br>

</dl>elseif (variable_name.=.'crit_fr_asw') then<br>

<dl>Get <A HREF = "#crit_fr_asw"> crit_fr_asw </A> from the message (Lower Bound = 0 . 0, Upper Bound = 1 . 0)<br>

</dl>elseif (variable_name.=.'asw_depth') then<br>

<dl>Get <A HREF = "#asw_depth"> asw_depth </A> from the message (Lower Bound = 0 . 0, Upper Bound = 10000 .)<br>

</dl>else<br>

<dl>message_unused<br>

</dl>endif<br>

<br>

</dl></dl>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<A NAME = "Contact Information"> <H2>Contact Information</H2> </A>
For Further Information Please Contact:
<p>
<A HREF = "mailto:Neil.Huth@tag.csiro.au"> Neil Huth - Module Developer </A><br>
<A HREF = "mailto:APSIM-help@tag.csiro.au"> APSIM Help Desk </A><br>
<A HREF = "http:\\apsim-help.tag.csiro.au"> APSIM Help WEB Page </A><br>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title></title>
</head>

<body>

<p><img src="..\..\..\docs\shared\apsimdocumentationbanner.jpg" width="640"
height="73"></p>
</body>
</html>
Date: 25/11/98  APseudo Version:  1. 0 Rev.  0<br>
<html>

<body>

<p><!--webbot bot="ImageMap" startspan rectangle=" (513,2) (635, 18)  APSeudo Documentation"
rectangle=" (103,4) (204, 18)  Structure Charts"
rectangle=" (14,3) (76, 18)  #Top" src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640"
height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="513, 2, 635, 18" HREF="#Top"><AREA SHAPE="RECT" COORDS="103, 4, 204, 18" HREF="#Structure Charts"><AREA SHAPE="RECT" COORDS="14, 3, 76, 18" HREF="#Top"></MAP><img src="..\..\..\docs\shared\apseudopagebreak.jpg" width="640" height="19" alt="..\..\..\docs\shared\apseudopagebreak.jpg (5835 bytes)" border="0" usemap="#FrontPageMap0"><!--webbot bot="ImageMap"
i-checksum="58234" endspan --></p>
</body>
</html>
