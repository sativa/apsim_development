<toolbox name="Standard">
  <area name="paddock" />
  <clock name="clock">
    <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1988</start_date>
    <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1988</end_date>
  </clock>
  <outputfile name="outputfile">
    <filename name="filename">sample.out</filename>
    <frequency name="frequency">End_of_day</frequency>
    <variable alias="year" name="year" module="clock" description="Year" />
    <variable alias="day" name="day" module="clock" description="Day" />
    <event name="start_of_day" module="clock" description="Start of daily simulation time step" />
    <outputfiledescription name="My Variables">
      <variables>
        <variable alias="year" name="year" module="clock" description="Year" />
      </variables>
      <events>
        <event name="start_of_day" module="clock" description="Start of daily simulation time step" />
      </events>
    </outputfiledescription>
  </outputfile>
  <summaryfile name="summaryfile">
    <filename name="filename">sample.sum</filename>
  </summaryfile>
  <metfile name="metfile">
    <filename name="filename">C:\program files\apsim36\apsim\met\sample\dalby.met</filename>
    <dummy name="dummy">hello there</dummy>
  </metfile>
  <manager name="Manager">
    <rule name="Variable sowing rule" condition="start_of_day">
      <data><![CDATA[   
      if (crop_in = 0) then
         if (date_within('[date1], [date2]') = 1) then
            surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
            if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                  (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing]
               crop_in = 1
            endif
         endif
      endif
            ]]></data>
      <category name="Sowing criteria">
        <property name="date1" value="1-jan" type="text" description="Enter sowing window START date (dd-mmm) : " />
        <property name="date2" value="1-dec" type="text" description="Enter sowing window END date (dd-mmm) : " />
        <property name="must_sow" value="no" type="yesno" description="Must sow? : " />
        <property name="rain_days" value="3" type="text" description="Enter number of days of rainfall (days): " />
        <property name="rain_amount" value="30" type="text" description="Enter amount of rainfall (mm) : " />
        <property name="esw_amount" value="30" type="text" description="Enter amount of soil water (mm) : " />
        <property name="surface_low" value="0" type="text" description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil) : " />
        <property name="surface_up" value="2" type="text" description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil) : " />
      </category>
      <category name="Sowing parameters">
        <property name="crop" value="wheat" type="modulename" moduletype="crop" description="Enter name of crop to sow : " />
        <property name="density" value="10" type="text" description="Enter sowing density  (plants/m2) : " />
        <property name="depth" value="50" type="text" description="Enter sowing depth  (mm) : " />
        <property name="cultivar" value="" type="cultivars" croppropertyname="crop" description="Enter cultivar : " />
        <property name="row_spacing" value="500" type="text" description="Enter row spacing (mm) : " />
      </category>
    </rule>
    <rule name="Sowing fertiliser" condition="[modulename].[eventname]">
      <data><![CDATA[   
      if ([fert_amount_sow] > 0) then
         fertiliz apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
      endif
            ]]></data>
      <category name="When should fertiliser be applied">
        <property name="modulename" value="" type="modulename" description="On which module should the event come from : " />
        <property name="eventname" value="sowing" type="text" description="On which event should fertiliser be applied : " />
      </category>
      <category name="Fertiliser application details">
        <property name="fert_amount_sow" value="20" type="text" description="Amount of starter fertiliser at sowing (kg/ha) : " />
        <property name="fert_type_sow" value="urea_N" type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : " />
      </category>
    </rule>
  </manager>
  <logic name="logic">
    <script name="init">dummy=10</script>
    <script name="startofday"> !hello[cr]if day = 120 then[cr]irrigate apply amount = 10 [cr] wheat sow cultivar = hartog, plants = 120, sowing_depth = 30 (mm)[cr] fertiliz apply amount = 100, type = no3_n, depth = 10 [cr]endif [cr]</script>
    <script name="endofday">report do_output</script>
  </logic>
  <fertiliser name="fertiliser" />
  <irrigation name="irrigation">
    <automaticirrigation name="automaticirrigation">
      <switch name="switch">on</switch>
      <depth name="depth">1000.</depth>
      <fasw name="fasw">0.5</fasw>
    </automaticirrigation>
    <irrigationefficiency name="irrigationefficiency">1.0</irrigationefficiency>
    <allocation name="allocation">
      <switch name="switch">on</switch>
      <amount name="amount">1000.</amount>
    </allocation>
  </irrigation>
  <log name="log">
    <debugoutput name="debugoutput">on</debugoutput>
    <filename name="filename">log.txt</filename>
  </log>
  <micromet name="micromet">
    <soilalbedo name="soilalbedo">0.23</soilalbedo>
    <a_interception name="a_interception">0.0</a_interception>
    <b_interception name="b_interception">0.0</b_interception>
    <c_interception name="c_interception">0.0</c_interception>
    <d_interception name="d_interception">0.0</d_interception>
  </micromet>
  <slurp name="slurp">
    <type name="type">wheat</type>
    <lai name="LAI">6.0</lai>
    <laid name="LAId">0.5</laid>
    <Kg name="Kg">0.5</Kg>
    <Kd name="Kd">0.4</Kd>
    <height name="height">1000.</height>
    <Frgr name="Frgr">1.0</Frgr>
  </slurp>
  <plant>
    <type name="type">wheat</type>
  </plant>
  <outputfiledescription name="My Variables">
    <variables>
      <variable alias="year" name="year" module="clock" description="Year" />
      <variable alias="myday" name="day" module="clock" description="Day" />
    </variables>
    <events>
      <event name="start_of_day" module="clock" description="Start of daily simulation time step" />
    </events>
  </outputfiledescription>
  <StockScienceConverter name="StockScienceConverter" />
  <stock name="stock">
    <type name="type">sheep</type>
    <breed name="breed">Medium Merino</breed>
    <srw name="srw">50.0</srw>
    <male_breed name="male_breed">Medium Merino</male_breed>
    <male_srw name="male_srw">50.0</male_srw>
    <conception1 name="conception1">0.8</conception1>
    <conception2 name="conception2">0.15</conception2>
    <conception3 name="conception3">0</conception3>
    <death_rate name="death_rate">0.02</death_rate>
    <ref_fleece_wt name="ref_fleece_wt">4.5</ref_fleece_wt>
    <max_fibre_diam name="max_fibre_diam">20.0</max_fibre_diam>
    <fleece_yield name="fleece_yield">0.7</fleece_yield>
    <peak_milk name="peak_milk">25.0</peak_milk>
    <sheep name="sheep">
      <number>120</number>
      <sex>wether</sex>
      <age>730.0</age>
      <weight>50.0</weight>
      <max_prev_wt>50.0</max_prev_wt>
      <fleece_wt>6.0</fleece_wt>
      <fibre_diam>20.0</fibre_diam>
      <pregnant>0</pregnant>
      <lactating>0</lactating>
      <no_young>0</no_young>
      <birth_cs>0.0</birth_cs>
      <lamb_wt>0.0</lamb_wt>
      <lamb_fleece_wt>0.0</lamb_fleece_wt>
      <paddock>paddock_1</paddock>
      <tag>0</tag>
      <priority>0</priority>
    </sheep>
  </stock>
  <vinelogic name="vinelogic">
    <data name="data"><![CDATA[*MODEL INPUT FILE            I     1    19     1     8
*FILES
MODEL          VInes950.exe
FILEX
FILEA
FILET
SPECIES
ECOTYPE
CULTIVAR       VInes950.CUL
PESTS          VInes950.PST
SOILS          SOIL.SOL
WEATHER        MILD9501.wth
OUTPUT         MILD95TEST
*SIMULATION CONTROL
&SwitchData
INyrs=1
Rep=1
Isimi='S'
Iyrsim=95001
TitSim='GENERALISED SIMULATION RUN'
IswWat = 'Y'
ISWNIT='N'
ISWSALT='Y'
ISWPHO='N'
ISWPOT='N'
ISWDIS='N'
MEWTH='M'
MESIC='M'
MELI='E'
MEEVP='R'
MEINF='S'
MEPHO='C'
IPLTI='R'
IIRRI='A'
IFERI='N'
IRESI='N'
IHARI='G'
IOX='N'
IDETO='Y'
IDETS='Y'
FROP = 1
IDETG='Y'
IDETC='N'
IDETW='Y'
IDETN='Y'
IDETP='Y'
IDETD='N'
IDETL='Y'
/
!AUTOMATIC MANAGEM
               94155 94200   40.  100.   30.   40.   10.
                70.0  50.0 100.0     6 IR003   -99 1.00
                 30.   50.   25. FE001 GS000
                100.     1   20.
                   0 94365  100.    0.
*EXP.DETAILS
               Mildura  - 1995 Cabernet Franc Tall  trellis  Row by vine 330*240cm
*TREATMENTS
  11 0 0
*CULTIVARS
   VI IB0013 PINOT NOIR
*FIELDS
&Fielddata
Cslope=' 1.0'
/
*INITIAL CONDITIONS
      VI 94001 1200.  -99.  1.00  1.00     0
      2  0.237    .0    .0   .0
      7  0.237    .0    .0   .0
     15  0.237    .0    .0   .0
     26  0.289    .0    .0   .0
     40  0.289    .0    .0   .0
     57  0.289    .0    .0   .0
     77  0.288    .0    .0   .0
    100  0.300    .0    .0   .0
    125  0.300    .0    .0   .0
    150  0.352    .0    .0   .0
    200  0.352    .0    .0   .0
    250  0.352    .0    .0   .0
    325  0.352    .0    .0   .0
    400  0.352    .0    .0   .0
    500  0.352    .0    .0   .0

*PLANTING DETAILS
       0     0   0.0   0.0                0.    0.   0.0    0.    0.   0.0   0.0
*VINEYARD
&VinexData
VineMstart=95001
InCritVD= 30
VineRowspc =3.3
InterVineDist =2.4
TrellisHt =2.
TrellisWd =1.2
BudnoVine =190.
TrunkDiam = -99
VineAge =12.0
PruningSys='SPUR'
TrellisSys='MINIM'
CordonNum = -99
CaneNum = -99
Prunewt = .0
VineResv =  .1
TrelTrunWr = -99
CanRetrnDate = -99
NewtrellsWid = -99
NewTrellsHgt = -99
FruitThinDate = -99
FruitRemPct = -99
FruitEsSw = -99
BunchNOvine = .0
BerryBunch = .0
/
*HYDROLOGY
&HydrolData
TruDepWt =  2
PiezInitial =  1.5
BotBoundFlux = 0.001
PiezoType = 'FIXED'
WtType = 'FLOAT'
URzSoilEc =    .5
LRzSoilEc =    .5
GroundWaterEc =  4
Drained=.True.
TileDepth = 1.8
/
*IRRIGATION
    1.00  70.0  50.0 100.0     6 IR003   -99   0.2

&IrrigData
IrAutoDefMethod='SWDRIVEN'
IrType=' 1'
Iron(1)=.T.,.T.,.T.,.T.,.T.
IrManDepth(1)= 57, 57, 57, 57, 57
IrWaterEc(1)= .2, .2, .2, .2, .2
IrCritSw(1)= 50, 50, 50, 50, 50
IrRefillPer(1)= 100, 100, 100, 100, 100
IrRetnPeriod(1)= 7, 7, 7, 7, 7
IrStageCap(1)= 1000, 1000, 1000, 1000, 1000
IrCumNetET(1)=0.0,0.0,0.0,0.0,0.0
IrETIrrAmt(1)=0.0,0.0,0.0,0.0,0.0
/
*FERTILIZERS
*RESIDUES
*ENVIRONMENT
*HARVEST
   95074     7   -99   -99  -99.
*SOIL
*CS00390002  SCS         CLLO    151 UNKNOWN
 MERBEIN     AUSTRALIA    -34.000  142.000 COOMEALLA ADJ LOAM
 BN     0.13   9.3  0.20    76  1.00  1.00 IB001 IB001 IB001         5.0   5.0  20.0  150
    2. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
    7. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
   15. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
   26. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   40. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   57. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   77. B1    0.166 0.288 0.353  0.35    3.0  1.55  0.90  16.1  33.0   3.2   -99   9.1 -99.0 -99.0   0.4
  100. B2    0.182 0.300 0.352  0.20    1.0  1.55  0.40  17.7  31.0   3.8   -99   9.1 -99.0 -99.0   0.4
  125. B2    0.182 0.300 0.352  0.20    1.0  1.55  0.40  17.7  31.0   3.8   -99   9.1 -99.0 -99.0   0.4
  150. BC    0.230 0.352 0.364  0.10    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  200. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  250. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  325. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  400. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  500. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2

     2    .0    .0    .0    .0
     7    .0    .0    .0    .0
    15    .0    .0    .0    .0
    26    .0    .0    .0    .0
    40    .0    .0    .0    .0
    57    .0    .0    .0    .0
    77    .0    .0    .0    .0
   100    .0    .0    .0    .0
   125    .0    .0    .0    .0
   150    .0    .0    .0    .0
   200    .0    .0    .0    .0
   250    .0    .0    .0    .0
   325    .0    .0    .0    .0
   400    .0    .0    .0    .0
   500    .0    .0    .0    .0

*CULTIVAR
IB0001 CABERNET FRANC   IB0001    07   590   020  4000  1000   0.8   4.5  42.0  0.60  1.80   1.0
*ROOTSTOCK
00000 VineLogic Rsk      5.    5.    5.    1.7  0.12   9.1 ]]></data>
  </vinelogic>
  <vinelogic name="two">
    <data name="data"><![CDATA[*MODEL INPUT FILE            I     1    19     1     8
*FILES
MODEL          VInes950.exe
FILEX
FILEA
FILET
SPECIES
ECOTYPE
CULTIVAR       VInes950.CUL
PESTS          VInes950.PST
SOILS          SOIL.SOL
WEATHER        MILD9501.wth
OUTPUT         TwoTEST
*SIMULATION CONTROL
&SwitchData
INyrs=1
Rep=1
Isimi='S'
Iyrsim=95001
TitSim='GENERALISED SIMULATION RUN'
IswWat = 'Y'
ISWNIT='N'
ISWSALT='Y'
ISWPHO='N'
ISWPOT='N'
ISWDIS='N'
MEWTH='M'
MESIC='M'
MELI='E'
MEEVP='R'
MEINF='S'
MEPHO='C'
IPLTI='R'
IIRRI='A'
IFERI='N'
IRESI='N'
IHARI='G'
IOX='N'
IDETO='Y'
IDETS='Y'
FROP = 1
IDETG='Y'
IDETC='N'
IDETW='Y'
IDETN='Y'
IDETP='Y'
IDETD='N'
IDETL='Y'
/
!AUTOMATIC MANAGEM
               94155 94200   40.  100.   30.   40.   10.
                70.0  50.0 100.0     6 IR003   -99 1.00
                 30.   50.   25. FE001 GS000
                100.     1   20.
                   0 94365  100.    0.
*EXP.DETAILS
               Mildura  - 1995 Cabernet Franc Tall  trellis  Row by vine 330*240cm
*TREATMENTS
  11 0 0
*CULTIVARS
   VI IB0013 PINOT NOIR
*FIELDS
&Fielddata
Cslope=' 1.0'
/
*INITIAL CONDITIONS
      VI 94001 1200.  -99.  1.00  1.00     0
      2  0.237    .0    .0   .0
      7  0.237    .0    .0   .0
     15  0.237    .0    .0   .0
     26  0.289    .0    .0   .0
     40  0.289    .0    .0   .0
     57  0.289    .0    .0   .0
     77  0.288    .0    .0   .0
    100  0.300    .0    .0   .0
    125  0.300    .0    .0   .0
    150  0.352    .0    .0   .0
    200  0.352    .0    .0   .0
    250  0.352    .0    .0   .0
    325  0.352    .0    .0   .0
    400  0.352    .0    .0   .0
    500  0.352    .0    .0   .0

*PLANTING DETAILS
       0     0   0.0   0.0                0.    0.   0.0    0.    0.   0.0   0.0
*VINEYARD
&VinexData
VineMstart=95001
InCritVD= 30
VineRowspc =3.3
InterVineDist =2.4
TrellisHt =2.
TrellisWd =1.2
BudnoVine =190.
TrunkDiam = -99
VineAge =12.0
PruningSys='SPUR'
TrellisSys='MINIM'
CordonNum = -99
CaneNum = -99
Prunewt = .0
VineResv =  .1
TrelTrunWr = -99
CanRetrnDate = -99
NewtrellsWid = -99
NewTrellsHgt = -99
FruitThinDate = -99
FruitRemPct = -99
FruitEsSw = -99
BunchNOvine = .0
BerryBunch = .0
/
*HYDROLOGY
&HydrolData
TruDepWt =  2
PiezInitial =  1.5
BotBoundFlux = 0.001
PiezoType = 'FIXED'
WtType = 'FLOAT'
URzSoilEc =    .5
LRzSoilEc =    .5
GroundWaterEc =  4
Drained=.True.
TileDepth = 1.8
/
*IRRIGATION
    1.00  70.0  50.0 100.0     6 IR003   -99   0.2

&IrrigData
IrAutoDefMethod='SWDRIVEN'
IrType=' 1'
Iron(1)=.T.,.T.,.T.,.T.,.T.
IrManDepth(1)= 57, 57, 57, 57, 57
IrWaterEc(1)= .2, .2, .2, .2, .2
IrCritSw(1)= 50, 50, 50, 50, 50
IrRefillPer(1)= 100, 100, 100, 100, 100
IrRetnPeriod(1)= 7, 7, 7, 7, 7
IrStageCap(1)= 1000, 1000, 1000, 1000, 1000
IrCumNetET(1)=0.0,0.0,0.0,0.0,0.0
IrETIrrAmt(1)=0.0,0.0,0.0,0.0,0.0
/
*FERTILIZERS
*RESIDUES
*ENVIRONMENT
*HARVEST
   95074     7   -99   -99  -99.
*SOIL
*CS00390002  SCS         CLLO    151 UNKNOWN
 MERBEIN     AUSTRALIA    -34.000  142.000 COOMEALLA ADJ LOAM
 BN     0.13   9.3  0.20    76  1.00  1.00 IB001 IB001 IB001         5.0   5.0  20.0  150
    2. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
    7. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
   15. A     0.109 0.237 0.376  1.00   20.0  1.48  1.20  16.7  44.0   2.1   -99   8.6 -99.0 -99.0   1.0
   26. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   40. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   57. B     0.163 0.289 0.370  0.75    5.0  1.50  1.00  19.9  39.0   2.3   -99   9.0 -99.0 -99.0   0.8
   77. B1    0.166 0.288 0.353  0.35    3.0  1.55  0.90  16.1  33.0   3.2   -99   9.1 -99.0 -99.0   0.4
  100. B2    0.182 0.300 0.352  0.20    1.0  1.55  0.40  17.7  31.0   3.8   -99   9.1 -99.0 -99.0   0.4
  125. B2    0.182 0.300 0.352  0.20    1.0  1.55  0.40  17.7  31.0   3.8   -99   9.1 -99.0 -99.0   0.4
  150. BC    0.230 0.352 0.364  0.10    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  200. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  250. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  325. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  400. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2
  500. BC    0.230 0.352 0.364  0.00    0.1  1.52  0.40  31.0  29.0   2.4   -99   8.9 -99.0 -99.0   0.2

     2    .0    .0    .0    .0
     7    .0    .0    .0    .0
    15    .0    .0    .0    .0
    26    .0    .0    .0    .0
    40    .0    .0    .0    .0
    57    .0    .0    .0    .0
    77    .0    .0    .0    .0
   100    .0    .0    .0    .0
   125    .0    .0    .0    .0
   150    .0    .0    .0    .0
   200    .0    .0    .0    .0
   250    .0    .0    .0    .0
   325    .0    .0    .0    .0
   400    .0    .0    .0    .0
   500    .0    .0    .0    .0

*CULTIVAR
IB0001 CABERNET FRANC   IB0001    07   590   020  4000  1000   0.8   4.5  42.0  0.60  1.80   1.0
*ROOTSTOCK
00000 VineLogic Rsk      5.    5.    5.    1.7  0.12   9.1 ]]></data>
  </vinelogic>
</toolbox>