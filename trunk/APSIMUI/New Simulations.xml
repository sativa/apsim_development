<folder name="New Simulations" image="Images/layout_center24.png" version="5">
  <simulation name="Blank Simulation">
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\goond.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1989</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Blank Simulation.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
      </manager>
    </area>
  </simulation>
  <shared name="shared" />
  <simulation name="Continuous Wheat Simulation">
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\goond.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1989</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Wheat Simulation.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Sowing rule">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-may</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-jul</date2>
            <must_sow type="yesno" description="Must sow? : ">no</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">30</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">200</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">100</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">hartog</cultivar>
            <class type="classes" croppropertyname="crop" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">250</row_spacing>
          </category>
        </rule>
        <rule name="Harvesting rule">
          <condition name="end_of_day">

           if [crop].stage_name = 'harvest_ripe' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">wheat</crop>
          </category>
        </rule>
        <rule name="Sowing fertiliser">
          <condition name="[modulename].[eventname]">
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </condition>
          <category name="When should fertiliser be applied">
            <modulename type="modulename" description="On which module should the event come from : ">wheat</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <wheat />
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="wheat.biomass" description="Biomass" array="?" units="kg/ha" />
          <variable name="wheat.yield" description="Yield" array="?" units="kg/ha" />
          <variable name="wheat.grain_protein" description="grain protein content" array="?" units="%" />
          <variable name="wheat.grain_size" description="Size of each grain" array="?" units="g" />
          <variable name="esw" array="?" description="Extractable Soil Water (mm)" VariableType="Water" />
        </variables>
        <events name="Reporting Frequency">
          <event name="wheat.harvesting" description="" />
        </events>
      </outputfile>
      <soil name="Jimbour,Waco (#016)">
        <Site>Jimbour</Site>
        <Region>South East Queensland</Region>
        <LocalName>Waco</LocalName>
        <SoilType>Black Vertosol</SoilType>
        <NearestTown>Jimbour, Q 4352</NearestTown>
        <NaturalVegetation>Grassland, mainly Qld bluegrass</NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <U>6</U>
          <Salb>0.13</Salb>
          <Cn2Bare>73</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.15</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.03</bd>
            <ll15>0.29</ll15>
            <airdry>0.26</airdry>
            <dul>0.53</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.06</bd>
            <ll15>0.3</ll15>
            <airdry>0.3</airdry>
            <dul>0.52</dul>
            <sat>0.57</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.11</bd>
            <ll15>0.31</ll15>
            <airdry>0.31</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.12</bd>
            <ll15>0.32</ll15>
            <airdry>0.32</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="8">
            <thickness>300</thickness>
            <bd>1.15</bd>
            <ll15>0.33</ll15>
            <airdry>0.33</airdry>
            <dul>0.48</dul>
            <sat>0.53</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="9">
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.47</dul>
            <sat>0.52</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="10">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="11">
            <thickness>300</thickness>
            <bd>1.25</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.44</dul>
            <sat>0.49</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>40</RootCn>
          <RootWt>200</RootWt>
          <SoilCn>12.5</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <oc>1.04</oc>
            <ph>8.4</ph>
            <fbiom>0.025</fbiom>
            <finert>0.4</finert>
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <oc>0.89</oc>
            <ph>8.8</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <oc>0.89</oc>
            <ph>9</ph>
            <fbiom>0.015</fbiom>
            <finert>0.8</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <oc>0.89</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <oc>0.77</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <oc>0.45</oc>
            <ph>9.1</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <oc>0.27</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <oc>0.22</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <oc>0.16</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <oc>0.13</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <oc>0.12</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </Nitrogen>
        <other>
          <layer name="1">
            <ec>0.2</ec>
          </layer>
          <layer name="2">
            <ec>0.25</ec>
          </layer>
          <layer name="3">
            <ec>0.31</ec>
          </layer>
          <layer name="4">
            <ec>0.4</ec>
          </layer>
          <layer name="5">
            <ec>0.59</ec>
          </layer>
          <layer name="6">
            <ec>0.84</ec>
          </layer>
          <layer name="7">
            <ec>0.93</ec>
          </layer>
          <layer name="8">
            <ec>1.01</ec>
          </layer>
          <layer name="9">
            <ec>1.06</ec>
          </layer>
          <layer name="10">
            <ec>1.05</ec>
          </layer>
          <layer name="11">
            <ec>1.01</ec>
          </layer>
        </other>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <SoilCrop name="Barley">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.39</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.39</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Chickpea">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.36</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.43</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.51</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.5</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.5</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Lucerne">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.3</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.31</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.32</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.33</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.34</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.35</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="11">
            <ll>0.36</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Maize">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.34</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.34</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.37</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.42</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Perennial Grass">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.39</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.41</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.05</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.41</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.42</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sorghum">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.35</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.4</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.32</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.35</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.38</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <InitNitrogen>
          <layer name="1">
            <no3>6.50251233431099</no3>
            <nh4>0.599196200219218</nh4>
          </layer>
          <layer name="2">
            <no3>2.10081167723893</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="3">
            <no3>2.10081167723893</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="4">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="5">
            <no3>1.70065707205057</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="6">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="7">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="8">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="9">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="10">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="11">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="Continuous Wheat Simulation with Climate Change">
    <memo name="Read Me">e1xydGYxXGFuc2lcYW5zaWNwZzEyNTJcZGVmZjBcZGVmbGFuZzMwODF7XGZvbnR0Ymx7XGYwXGZuaWxcZmNoYXJzZXQwIE1pY3Jvc29mdCBTYW5zIFNlcmlmO319DQpcdmlld2tpbmQ0XHVjMVxwYXJkXGYwXGZzMjkgQ2xpbWF0ZSBDaGFuZ2UgaW4gQVBTSU0gU2ltdWxhdGlvbnNcZnMxN1xwYXINClxwYXINClRvIHBlcmZvcm0gYSBzaW1wbGUgc2ltdWxhdGlvbiB0byBxdWFudGlmeSB0aGUgZWZmZWN0cyBvZiBjbGltYXRlIGNoYW5nZSBvbiBwcm9kdWN0aW9uIHN5c3RlbSBzaW1wbHkgZHJhZyBhIGNsaW1hdGUgY2hhbmdlIG9iamVjdCBmcm9tIHRoZSBzdGFuZGFyZCB0b29sYm93IG9udG8gdGhlIHNpbXVsYXRpb24gYXQgdGhlIHNhbWUgbGV2ZWwgYXMgeW91ciBtZXQgZmlsZS4gIFRoZSBjbGltYXRlIGNoYW5nZSB1c2VyIGludGVyZmFjZSB3aWxsIGFsbG93IHlvdSB0byBlbnRlciBzaW1wbGUgbW9kaWZpZXJzIChlaXRoZXIgYWRkaXRpdmUgb3IgbXVsdGlwbGljYXRpdmUpIGZvciBtYXhpbXVtIGFuZCBtaW5pbXVtIHRlbXBlcmF0dXJlLCBzb2xhciByYWRpYXRpb24gYW5kIHJhaW5mYWxsLlxwYXINClxwYXINCn0NCg==</memo>
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\goond.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1989</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Wheat Simulation with Climate Change.sum</filename>
    </summaryfile>
    <climatechange>
      <maxtmodifier description="Change in maximum temperature in degrees celsius">1</maxtmodifier>
      <mintmodifier description="Change in minimum temperature in degrees celsius">1</mintmodifier>
      <rainmodifier description="Relative change in rainfall">0.9</rainmodifier>
      <radiationmodifier description="Relative change in radiation">1.0</radiationmodifier>
      <co2 description="Atmospheric C02 concentration (ppm)">400</co2>
    </climatechange>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Sowing rule">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-may</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-jul</date2>
            <must_sow type="yesno" description="Must sow? : ">no</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">30</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">200</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">100</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">hartog</cultivar>
            <class type="classes" croppropertyname="crop" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">250</row_spacing>
          </category>
        </rule>
        <rule name="Harvesting rule">
          <condition name="end_of_day">

           if [crop].stage_name = 'harvest_ripe' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">wheat</crop>
          </category>
        </rule>
        <rule name="Sowing fertiliser">
          <condition name="[modulename].[eventname]">
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </condition>
          <category name="When should fertiliser be applied">
            <modulename type="modulename" description="On which module should the event come from : ">wheat</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <wheat />
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="wheat.biomass" description="Biomass" array="?" units="kg/ha" />
          <variable name="wheat.yield" description="Yield" array="?" units="kg/ha" />
          <variable name="wheat.grain_protein" description="grain protein content" array="?" units="%" />
          <variable name="wheat.grain_size" description="Size of each grain" array="?" units="g" />
          <variable name="esw" array="?" description="Extractable Soil Water (mm)" VariableType="Water" />
        </variables>
        <events name="Reporting Frequency">
          <event name="wheat.harvesting" description="" />
        </events>
      </outputfile>
      <soil name="Jimbour,Waco (#016)">
        <Site>Jimbour</Site>
        <Region>South East Queensland</Region>
        <LocalName>Waco</LocalName>
        <SoilType>Black Vertosol</SoilType>
        <NearestTown>Jimbour, Q 4352</NearestTown>
        <NaturalVegetation>Grassland, mainly Qld bluegrass</NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <U>6</U>
          <Salb>0.13</Salb>
          <Cn2Bare>73</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.15</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.03</bd>
            <ll15>0.29</ll15>
            <airdry>0.26</airdry>
            <dul>0.53</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.06</bd>
            <ll15>0.3</ll15>
            <airdry>0.3</airdry>
            <dul>0.52</dul>
            <sat>0.57</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.11</bd>
            <ll15>0.31</ll15>
            <airdry>0.31</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.12</bd>
            <ll15>0.32</ll15>
            <airdry>0.32</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="8">
            <thickness>300</thickness>
            <bd>1.15</bd>
            <ll15>0.33</ll15>
            <airdry>0.33</airdry>
            <dul>0.48</dul>
            <sat>0.53</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="9">
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.47</dul>
            <sat>0.52</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="10">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="11">
            <thickness>300</thickness>
            <bd>1.25</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.44</dul>
            <sat>0.49</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>40</RootCn>
          <RootWt>200</RootWt>
          <SoilCn>12.5</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <oc>1.04</oc>
            <ph>8.4</ph>
            <fbiom>0.025</fbiom>
            <finert>0.4</finert>
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <oc>0.89</oc>
            <ph>8.8</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <oc>0.89</oc>
            <ph>9</ph>
            <fbiom>0.015</fbiom>
            <finert>0.8</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <oc>0.89</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <oc>0.77</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <oc>0.45</oc>
            <ph>9.1</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <oc>0.27</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <oc>0.22</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <oc>0.16</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <oc>0.13</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <oc>0.12</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </Nitrogen>
        <other>
          <layer name="1">
            <ec>0.2</ec>
          </layer>
          <layer name="2">
            <ec>0.25</ec>
          </layer>
          <layer name="3">
            <ec>0.31</ec>
          </layer>
          <layer name="4">
            <ec>0.4</ec>
          </layer>
          <layer name="5">
            <ec>0.59</ec>
          </layer>
          <layer name="6">
            <ec>0.84</ec>
          </layer>
          <layer name="7">
            <ec>0.93</ec>
          </layer>
          <layer name="8">
            <ec>1.01</ec>
          </layer>
          <layer name="9">
            <ec>1.06</ec>
          </layer>
          <layer name="10">
            <ec>1.05</ec>
          </layer>
          <layer name="11">
            <ec>1.01</ec>
          </layer>
        </other>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <SoilCrop name="Barley">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.39</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.39</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Chickpea">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.36</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.43</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.51</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.5</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.5</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Lucerne">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.3</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.31</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.32</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.33</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.34</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.35</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="11">
            <ll>0.36</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Maize">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.34</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.34</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.37</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.42</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Perennial Grass">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.39</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.41</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.05</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.41</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.42</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sorghum">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.35</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.4</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.32</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.35</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.38</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <InitNitrogen>
          <layer name="1">
            <no3>6.50251233431099</no3>
            <nh4>0.599196200219218</nh4>
          </layer>
          <layer name="2">
            <no3>2.10081167723893</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="3">
            <no3>2.10081167723893</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="4">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="5">
            <no3>1.70065707205057</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="6">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="7">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="8">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="9">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="10">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
          <layer name="11">
            <no3>1.70065707205056</no3>
            <nh4>0.0998660333698697</nh4>
          </layer>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="Continuous Sorghum Simulation">
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\goond.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1989</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Sorghum Simulation.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="sorghum.biomass" description="Biomass" array="?" units="kg/ha" />
          <variable name="sorghum.yield" description="Yield" array="?" units="kg/ha" />
          <variable name="esw" array="?" description="Extractable Soil Water (mm)" VariableType="Water" />
        </variables>
        <events name="Reporting Frequency">
          <event name="sorghum.harvesting" description="" />
        </events>
      </outputfile>
      <manager name="Manager">
        <rule name="Sorghum Sowing rule">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], tiller_no_fertile = [ftn] (), skip = [skiprow]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-jan</date2>
            <must_sow type="yesno" description="Must sow? : ">no</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">30</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">200</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">sorghum</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">7</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">early</cultivar>
            <row_spacing type="text" description="Enter row spacing (m) : ">1</row_spacing>
            <ftn type="text" description="Enter Fertile Tiller No. : ">1</ftn>
            <skiprow type="list" listvalues="solid, single, double" description="Skip row : ">solid</skiprow>
          </category>
        </rule>
        <rule name="Harvesting rule">
          <condition name="end_of_day">

           if [crop].stage_name = 'harvest_ripe' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">sorghum</crop>
          </category>
        </rule>
        <rule name="Sowing fertiliser">
          <condition name="[modulename].[eventname]">
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </condition>
          <category name="When should fertiliser be applied">
            <modulename type="modulename" description="On which module should the event come from : ">sorghum</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <soil name="Jimbour,Waco (#16)">
        <Site>Jimbour</Site>
        <Region>South East Queensland</Region>
        <LocalName>Waco</LocalName>
        <SoilType>Black Vertosol</SoilType>
        <NearestTown>Jimbour, Q 4352</NearestTown>
        <NaturalVegetation>Grassland, mainly Qld bluegrass</NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <U>6</U>
          <Salb>0.13</Salb>
          <Cn2Bare>73</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.145</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.03</bd>
            <ll15>0.29</ll15>
            <airdry>0.26</airdry>
            <dul>0.53</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.06</bd>
            <ll15>0.3</ll15>
            <airdry>0.3</airdry>
            <dul>0.52</dul>
            <sat>0.57</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.11</bd>
            <ll15>0.31</ll15>
            <airdry>0.31</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.12</bd>
            <ll15>0.32</ll15>
            <airdry>0.32</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="8">
            <thickness>300</thickness>
            <bd>1.15</bd>
            <ll15>0.33</ll15>
            <airdry>0.33</airdry>
            <dul>0.48</dul>
            <sat>0.53</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="9">
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.47</dul>
            <sat>0.52</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="10">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="11">
            <thickness>300</thickness>
            <bd>1.25</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.44</dul>
            <sat>0.49</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>40</RootCn>
          <RootWt>200</RootWt>
          <SoilCn>12.5</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <oc>1.04</oc>
            <ph>8.4</ph>
            <fbiom>0.025</fbiom>
            <finert>0.4</finert>
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <oc>0.89</oc>
            <ph>8.8</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <oc>0.89</oc>
            <ph>9</ph>
            <fbiom>0.015</fbiom>
            <finert>0.8</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <oc>0.89</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <oc>0.77</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <oc>0.45</oc>
            <ph>9.1</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <oc>0.27</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <oc>0.22</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <oc>0.16</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <oc>0.13</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <oc>0.12</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </Nitrogen>
        <other>
          <layer name="1">
            <ec>0.2</ec>
          </layer>
          <layer name="2">
            <ec>0.25</ec>
          </layer>
          <layer name="3">
            <ec>0.31</ec>
          </layer>
          <layer name="4">
            <ec>0.4</ec>
          </layer>
          <layer name="5">
            <ec>0.59</ec>
          </layer>
          <layer name="6">
            <ec>0.84</ec>
          </layer>
          <layer name="7">
            <ec>0.93</ec>
          </layer>
          <layer name="8">
            <ec>1.01</ec>
          </layer>
          <layer name="9">
            <ec>1.06</ec>
          </layer>
          <layer name="10">
            <ec>1.05</ec>
          </layer>
          <layer name="11">
            <ec>1.01</ec>
          </layer>
        </other>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <SoilCrop name="Barley">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.39</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.39</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Chickpea">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.36</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.43</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.51</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.5</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.5</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Lucerne">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.3</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.31</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.32</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.33</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.34</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.35</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="11">
            <ll>0.36</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Maize">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.34</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.34</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.37</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.42</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Perennial Grass">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.39</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.41</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.05</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.41</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.42</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sorghum">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.35</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.4</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.32</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.35</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.38</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <InitNitrogen>
          <layer name="1">
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </InitNitrogen>
      </soil>
      <sorghum />
    </area>
  </simulation>
  <simulation name="Eucalypt Forest Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1987</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1997</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Eucalypt Forest Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\Toolara.met</filename>
    </metfile>
    <area name="Block">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Planting rule">
          <condition name="start_of_day">
         if (date('[date1]') = today) and [crop].plant_status = 'out' then
               [crop]  establish plants =[density], init_section = seedling
         endif
            </condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter planting date (dd-mmm) : ">15-mar</date1>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of growth module to sow : ">egrandis</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">1111</density>
          </category>
        </rule>
        <rule name="Establishment fertiliser">
          <condition name="[modulename].[eventname]">
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </condition>
          <category name="When should fertiliser be applied">
            <modulename type="modulename" description="For which module is fertiliser applied : ">egrandis</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">establishing</eventname>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
        <rule name="Fertilise on a date">
          <condition name="start_of_day">
            if (date('[date1]') = today) then
               [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            endif
        </condition>
          <category name="When should fertiliser be applied">
            <date1 type="ddmmmdate" description="Enter application date (dd-mmm) : ">15-mar</date1>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of fertiliser to apply (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="LitterLayer">
        <PoolName>egrandis</PoolName>
        <type>grandis</type>
        <mass>1000.</mass>
        <cnr>80.0</cnr>
        <standing_fraction>0.0</standing_fraction>
      </surfaceom>
      <soil name="UniformSoil">
        <Site>Hypothetical</Site>
        <Region>
        </Region>
        <LocalName>Uniform</LocalName>
        <SoilType>Loam</SoilType>
        <NearestTown>
        </NearestTown>
        <NaturalVegetation>
        </NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35.4</DiffusSlope>
          <U>4</U>
          <Salb>0.13</Salb>
          <Cn2Bare>65</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="8">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="9">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="10">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="11">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.1</ll15>
            <airdry>0.07</airdry>
            <dul>0.2</dul>
            <sat>0.3</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>60</RootCn>
          <RootWt>1000</RootWt>
          <SoilCn>20</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <oc>1</oc>
            <ph>6</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="2">
            <oc>0.9</oc>
            <ph>6</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <oc>0.9</oc>
            <ph>6</ph>
            <fbiom>0.02</fbiom>
            <finert>0.8</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <oc>0.9</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <oc>0.8</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <oc>0.4</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <oc>0.3</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <oc>0.2</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <oc>0.2</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <oc>0.1</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <oc>0.1</oc>
            <ph>6</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
        </Nitrogen>
        <other>
          <layer name="1">
            <ec>0.2</ec>
          </layer>
          <layer name="2">
            <ec>0.2</ec>
          </layer>
          <layer name="3">
            <ec>0.3</ec>
          </layer>
          <layer name="4">
            <ec>0.4</ec>
          </layer>
          <layer name="5">
            <ec>0.6</ec>
          </layer>
          <layer name="6">
            <ec>0.8</ec>
          </layer>
          <layer name="7">
            <ec>0.9</ec>
          </layer>
          <layer name="8">
            <ec>1</ec>
          </layer>
          <layer name="9">
            <ec>1.1</ec>
          </layer>
          <layer name="10">
            <ec>1</ec>
          </layer>
          <layer name="11">
            <ec>1</ec>
          </layer>
        </other>
        <InitWater>
          <percentmethod>
            <percent>0.5</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <SoilCrop name="egrandis">
          <layer name="1">
            <ll>0.1</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.1</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.1</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.1</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.1</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.1</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.1</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.1</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.1</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.1</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="11">
            <ll>0.1</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <InitNitrogen>
          <layer name="1">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="2">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <no3>1</no3>
            <nh4>0.1</nh4>
          </layer>
        </InitNitrogen>
      </soil>
      <micromet name="micromet">
        <soilalbedo name="soilalbedo">0.23</soilalbedo>
        <a_interception name="a_interception">0.0</a_interception>
        <b_interception name="b_interception">0.0</b_interception>
        <c_interception name="c_interception">0.1</c_interception>
        <d_interception name="d_interception">0.0</d_interception>
      </micromet>
      <egrandis />
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="esw" array="?" description="Extractable Soil Water (mm)" VariableType="Water" />
          <variable name="egrandis.lai" description="E. grandis leaf area index" array="?" />
          <variable name="egrandis.adm_green" array="?" description="E. grandis Live Above-ground Biomass Pools" />
          <variable name="egrandis.fw" description="E. grandis water stress factor" array="?" />
          <variable name="egrandis.fn" description="E. grandis N stress factor" array="?" />
          <variable name="egrandis.plants" description="E. grandis Plant Population" array="?" />
        </variables>
        <events name="Reporting Frequency">
          <event name="post" description="End of daily simulation time step" />
        </events>
      </outputfile>
    </area>
  </simulation>
  <simulation name="Sugar Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1944</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1993</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Sugar Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\ingham.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <sugar />
      <soil name="Sample Soil">
        <Site>Jimbour</Site>
        <Region>South East Queensland</Region>
        <LocalName>Waco</LocalName>
        <SoilType>Black Vertosol</SoilType>
        <NearestTown>Jimbour, Q 4352</NearestTown>
        <NaturalVegetation>Grassland, mainly Qld bluegrass</NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <U>6</U>
          <Salb>0.13</Salb>
          <Cn2Bare>73</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.14</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.03</bd>
            <ll15>0.29</ll15>
            <airdry>0.26</airdry>
            <dul>0.53</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.59</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.02</bd>
            <ll15>0.29</ll15>
            <airdry>0.29</airdry>
            <dul>0.54</dul>
            <sat>0.58</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.06</bd>
            <ll15>0.3</ll15>
            <airdry>0.3</airdry>
            <dul>0.52</dul>
            <sat>0.57</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.11</bd>
            <ll15>0.31</ll15>
            <airdry>0.31</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.12</bd>
            <ll15>0.32</ll15>
            <airdry>0.32</airdry>
            <dul>0.5</dul>
            <sat>0.55</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="8">
            <thickness>300</thickness>
            <bd>1.15</bd>
            <ll15>0.33</ll15>
            <airdry>0.33</airdry>
            <dul>0.48</dul>
            <sat>0.53</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="9">
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.47</dul>
            <sat>0.52</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="10">
            <thickness>300</thickness>
            <bd>1.2</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="11">
            <thickness>300</thickness>
            <bd>1.25</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.44</dul>
            <sat>0.49</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>40</RootCn>
          <RootWt>200</RootWt>
          <SoilCn>12.5</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <oc>1.04</oc>
            <ph>8.4</ph>
            <fbiom>0.025</fbiom>
            <finert>0.4</finert>
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <oc>0.89</oc>
            <ph>8.8</ph>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <oc>0.89</oc>
            <ph>9</ph>
            <fbiom>0.015</fbiom>
            <finert>0.8</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <oc>0.89</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <oc>0.77</oc>
            <ph>9.2</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <oc>0.45</oc>
            <ph>9.1</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <oc>0.27</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <oc>0.22</oc>
            <ph>9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <oc>0.16</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <oc>0.13</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <oc>0.12</oc>
            <ph>8.9</ph>
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </Nitrogen>
        <other>
          <layer name="1">
            <ec>0.2</ec>
          </layer>
          <layer name="2">
            <ec>0.25</ec>
          </layer>
          <layer name="3">
            <ec>0.31</ec>
          </layer>
          <layer name="4">
            <ec>0.4</ec>
          </layer>
          <layer name="5">
            <ec>0.59</ec>
          </layer>
          <layer name="6">
            <ec>0.84</ec>
          </layer>
          <layer name="7">
            <ec>0.93</ec>
          </layer>
          <layer name="8">
            <ec>1.01</ec>
          </layer>
          <layer name="9">
            <ec>1.06</ec>
          </layer>
          <layer name="10">
            <ec>1.05</ec>
          </layer>
          <layer name="11">
            <ec>1.01</ec>
          </layer>
        </other>
        <InitWater>
          <percentmethod>
            <percent>0.5004617</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <SoilCrop name="Barley">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.39</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.39</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Chickpea">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.36</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.43</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.51</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.5</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.5</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Lucerne">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.3</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.31</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.32</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.33</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.34</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.35</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="11">
            <ll>0.36</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Maize">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.34</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.34</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.37</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.42</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Perennial Grass">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.39</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.41</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.05</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.41</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.4</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.42</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sorghum">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.35</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.38</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.4</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.4</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.4</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.32</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.35</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.38</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sugar">
          <layer name="1">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.29</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.32</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.32</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.35</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.38</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.41</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.48</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="9">
            <ll>0.47</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="10">
            <ll>0.46</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
          <layer name="11">
            <ll>0.44</ll>
            <kl>0</kl>
            <xf>0</xf>
          </layer>
        </SoilCrop>
        <InitNitrogen>
          <layer name="1">
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="8">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="9">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="10">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="11">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </InitNitrogen>
      </soil>
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="sugar.biomass" description="Sugar total above-ground biomass (green + trash) (g/m2)" array="?" />
          <variable name="sugar.cane_wt" description="Sugar cane dry weight (g/m2)" array="?" />
          <variable name="sugar.sucrose_wt" description="Sugar sucrose weight (g/m2)" array="?" />
          <variable name="sugar.sw_demand" description="Sugar crop demand for water (potential uptake) (mm)" array="?" />
          <variable name="sugar.das" description="Sugar days after sowing" array="?" />
          <variable name="sugar.ratoon_no" description="Sugar Ratoon number" array="?" />
          <variable name="sugar.crop_status" description="Sugar Crop status (dead,alive,out)" array="?" />
          <variable name="sugar.esw" array="?" description="Extractable Soil Water (mm)" VariableType="Water" />
          <variable name="sugar.lai" description="Sugar green leaf area index" array="?" />
          <variable name="sugar.nfact_photo" description="Sugar Nitrogen stress factor on photosynthesis (0-1)" array="?" />
          <variable name="sugar.root_depth" description="Sugar depth of roots (mm)" array="?" />
          <variable name="sugar.swdef_photo" description="Sugar water stress factor on photosynthesis (0-1)" array="?" />
          <variable name="sugar.canefw" description="Sugar cane fresh weight (t/ha)" array="?" />
          <variable name="radn" description="Solar Radiation (MJ/m2/day)" array="?" />
          <variable name="rain" description="Rainfall (mm)" array="?" />
          <variable name="maxt" description="Maximum temperature (oC)" array="?" />
          <variable name="mint" description="Minimum temperature (oC)" array="?" />
        </variables>
        <events name="Reporting Frequency">
          <event name="post" description="End of daily simulation time step" />
        </events>
      </outputfile>
      <fertiliser name="fertiliser" />
      <manager name="Manager">
        <rule name="SUGAR management">
          <condition name="start_of_day"><![CDATA[
            ! -----------------------------------------------------------------
            ! Book keeping to round days to integer values
            plantlen = nearest_int(plantlen)
            ratoonlen = nearest_int(ratoonlen)

            ! Initialise and set a time counter for entire run
            dah = 0

            if (sugar.crop_status = 'alive') then
               dah = 0

               ! Set harvest dates for each crop phase
               if (sugar.das = [plantlen] and ratoon_no = 0) or
                  (sugar.das = [ratoonlen] and ratoon_no > 0) then

                  sugar harvest

                  if (ratoon_no = [NoRatoons] + 1) then
                     ! plough the crop out
                     sugar kill_crop
                     sugar end_crop

                  else
                     ! Set stalk density
                     sugar.plants = [ratoon_stalks]
                  endif
               else
                  ! We have not reached the harvest date for this ratoon.
               endif

            elseif (sugar.crop_status = 'dead') then
               sugar harvest
               sugar end_crop

            elseif (sugar.crop_status = 'out') and (today = date('[planting_day]') then
               sugar sow plants = 10 (), cultivar = [variety], sowing_depth = [sowing_depth]
               sugar.plants = [plant_stalks]
               dah = 0

            else
               dah = dah + 1
            endif
               ]]></condition>
          <category name="Sugar plant crop management parameters">
            <crop type="crop" description="Enter name of crop to sow : ">sugar</crop>
            <planting_day type="ddmmmdate" description="Enter planting date (dd-mmm) : ">1-apr</planting_day>
            <plantlen type="text" description="Duration of a plant crop (days) (30 days/month * 15 months) : ">450</plantlen>
            <plant_stalks type="text" description="Stalk density of plant crop (/m2) :">10</plant_stalks>
            <variety type="list" listvalues="q117,q96,q138,ts65-28,h73,q141,nco376,n12,n14,cp51,r570,m1356,m55560,q124" description="Planting variety :">q117</variety>
            <sowing_depth type="text" description="Planting depth mm) :">150</sowing_depth>
          </category>
          <category name="Ratoon management parameters">
            <NoRatoons type="text" description="Number of ratoons (max = 5): ">4</NoRatoons>
            <ratoonlen type="text" description="Duration of a ratoon crop (days) (30 days/month * 13 months) : ">390</ratoonlen>
            <ratoon_stalks type="text" description="Stalk density of ratoon crop (/m2) :">10</ratoon_stalks>
          </category>
        </rule>
        <rule name="Fertilise on fixed date">
          <condition name="start_of_day"><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></condition>
          <category name="When should fertiliser be applied">
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-sep</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">200</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type>
          </category>
        </rule>
      </manager>
    </area>
  </simulation>
  <simulation name="Rotation Sample">
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\goond.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1950</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Rotation Sample.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="CottonSowing">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants_pm =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">10-Oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-Dec</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">10</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">100</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">cotton</crop>
            <density type="text" description="Enter sowing density  (plants/m row) : ">10</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">Siok</cultivar>
            <row_spacing type="text" description="Enter row spacing (mm) : ">1000</row_spacing>
            <skip type="text" description="Enter Skip Row (0=solid, 1=single, 2=double) : ">0</skip>
          </category>
        </rule>
        <rule name="ChickPeaSowing">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-may</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-jul</date2>
            <must_sow type="yesno" description="Must sow? : ">no</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">25</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">50</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">chickpea</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">25</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">amethyst</cultivar>
            <class type="classes" croppropertyname="crop" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">500</row_spacing>
          </category>
        </rule>
        <rule name="WheatSowing">
          <condition name="start_of_day"><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            ]]></condition>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-may</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">10-jul</date2>
            <must_sow type="yesno" description="Must sow? : ">no</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">25</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">3</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">50</esw_amount>
          </category>
          <category name="Sowing parameters">
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">100</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">30</depth>
            <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">hartog</cultivar>
            <class type="classes" croppropertyname="crop" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">250</row_spacing>
          </category>
        </rule>
        <rule name="CottonHarvesting">
          <condition name="end_of_day"><![CDATA[

           if (ozcot_status > 0) then
              [crop]  harvest

           endif

            ]]></condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">cotton</crop>
          </category>
        </rule>
        <rule name="ChickPeaHarvesting">
          <condition name="end_of_day">

           if [crop].stage_name = 'harvest_ripe' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">chickpea</crop>
          </category>
        </rule>
        <rule name="WheatHarvesting">
          <condition name="end_of_day">

           if [crop].stage_name = 'harvest_ripe' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">wheat</crop>
          </category>
        </rule>
        <rule name="Fertilise at sowing">
          <condition name="[modulename].[eventname]">
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </condition>
          <category name="When should fertiliser be applied">
            <modulename type="modulename" description="On which module should the event come from : ">wheat</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
          </category>
          <category name="Fertiliser application details">
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </category>
        </rule>
        <rule name="Rotations">
          <condition name="init">
         NextCropIndex = 1
         NextCrop = ' '
         ChooseNextCrop = 'yes'
         SummerFallowIn = 'no'
         WinterFallowIn = 'no'
         FallowIn = 'no'
      </condition>
          <condition name="start_of_day">
      if (ChooseNextCrop = 'yes') then
         if (NextCropIndex = 1) then
            NextCrop = '[crop1]'
         elseif (NextCropIndex = 2) then
            NextCrop = '[crop2]'
         elseif (NextCropIndex = 3) then
            NextCrop = '[crop3]'
         elseif (NextCropIndex = 4) then
            NextCrop = '[crop4]'
         elseif (NextCropIndex = 5) then
            NextCrop = '[crop5]'
         elseif (NextCropIndex = 6) then
            NextCrop = '[crop6]'
         elseif (NextCropIndex = 7) then
            NextCrop = '[crop7]'
         elseif (NextCropIndex = 8) then
            NextCrop = '[crop8]'
         elseif (NextCropIndex = 9) then
            NextCrop = '[crop9]'
         elseif (NextCropIndex = 10) then
            NextCrop = '[crop10]'
         elseif (NextCropIndex = 11) then
            NextCrop = '[crop11]'
         elseif (NextCropIndex = 12) then
            NextCrop = '[crop12]'
         elseif (NextCropIndex = 13) then
            NextCrop = '[crop13]'
         elseif (NextCropIndex = 14) then
            NextCrop = '[crop14]'
         elseif (NextCropIndex = 15) then
            NextCrop = '[crop15]'
         elseif (NextCropIndex = 16) then
            NextCrop = '[crop16]'
         elseif (NextCropIndex = 17) then
            NextCrop = '[crop17]'
         elseif (NextCropIndex = 18) then
            NextCrop = '[crop18]'
         elseif (NextCropIndex = 19) then
            NextCrop = '[crop19]'
         elseif (NextCropIndex = 20) then
            NextCrop = '[crop20]'
         endif
         if (NextCrop = 'nil' or NextCrop = ' ') then
            NextCrop = '[crop1]'
            NextCropIndex = 1
         endif
         NextCropIndex = NextCropIndex + 1
         ChooseNextCrop = 'no'
      endif
      ! if the next crop is due to be a fallow and we're within the
      ! correct date range then put a fallow in.
      if (NextCrop = '[WinterFallowName]') then
         if (paddock_is_fallow() = 1 and FallowIn = 'no') then
            if (date_within('[SummerFallowEndDate], [WinterFallowEndDate]') then
               WinterFallowIn = 'yes'
               FallowIn = 'yes'
               ChooseNextCrop = 'yes'
            endif
         endif
      elseif (NextCrop = '[SummerFallowName]') then
         if (paddock_is_fallow() = 1 and FallowIn = 'no') then
            if (date_within('[WinterFallowEndDate], [SummerFallowEndDate]') then
               SummerFallowIn = 'yes'
               FallowIn = 'yes'
               ChooseNextCrop = 'yes'
            endif
         endif
      endif

      ! if we currently have a fallow in and we're at the end of the fallow window
      ! then remove the fallow.
      if (WinterFallowIn = 'yes' and today = date('[WinterFallowEndDate]')+1) then
         WinterFallowIn = 'no'
         FallowIn = 'no'
      endif
      if (SummerFallowIn = 'yes' and today = date('[SummerFallowEndDate]')+1) then
         SummerFallowIn = 'no'
         FallowIn = 'no'
      endif
      </condition>
          <category name="Fallow options">
            <SummerFallowName type="text" description="Enter summer fallow name : ">sf</SummerFallowName>
            <SummerFallowEndDate type="text" description="Enter summer fallow END date (dd-mmm) : ">15-mar</SummerFallowEndDate>
            <WinterFallowName type="text" description="Enter winter fallow name : ">wf</WinterFallowName>
            <WinterFallowEndDate type="text" description="Enter winter fallow END date (dd-mmm) : ">23-aug</WinterFallowEndDate>
          </category>
          <category name="Crop rotation sequence">
            <crop1 type="crop" description="Enter 1st crop : ">cotton</crop1>
            <crop2 type="crop" description="Enter 2nd crop : ">chickpea</crop2>
            <crop3 type="crop" description="Enter 3rd crop : ">sf</crop3>
            <crop4 type="crop" description="Enter 4th crop : ">wheat</crop4>
            <crop5 type="crop" description="Enter 5th crop : ">sf</crop5>
            <crop6 type="crop" description="Enter 6th crop : ">wf</crop6>
            <crop7 type="crop" description="Enter 7th crop : ">nil</crop7>
            <crop8 type="crop" description="Enter 8th crop : ">nil</crop8>
            <crop9 type="crop" description="Enter 9th crop : ">nil</crop9>
            <crop10 type="crop" description="Enter 10th crop : ">nil</crop10>
            <crop11 type="crop" description="Enter 11th crop : ">nil</crop11>
            <crop12 type="crop" description="Enter 12th crop : ">nil</crop12>
            <crop13 type="crop" description="Enter 13th crop : ">nil</crop13>
            <crop14 type="crop" description="Enter 14th crop : ">nil</crop14>
            <crop15 type="crop" description="Enter 15th crop : ">nil</crop15>
            <crop16 type="crop" description="Enter 16th crop : ">nil</crop16>
            <crop17 type="crop" description="Enter 17th crop : ">nil</crop17>
            <crop18 type="crop" description="Enter 18th crop : ">nil</crop18>
            <crop19 type="crop" description="Enter 19th crop : ">nil</crop19>
            <crop20 type="crop" description="Enter 20th crop : ">nil</crop20>
          </category>
        </rule>
      </manager>
      <wheat />
      <ozcot name="cotton" />
      <chickpea />
      <soil name="#009 - Kupunn">
        <Site>Kupunn</Site>
        <Region>South East Queensland</Region>
        <LocalName>Brigalow</LocalName>
        <SoilType>Grey Vertosol</SoilType>
        <NearestTown>Dalby, Q 4405</NearestTown>
        <NaturalVegetation>Brigalow, belah, wilga</NaturalVegetation>
        <Water>
          <Cona>3.5</Cona>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <U>6</U>
          <Salb>0.13</Salb>
          <Cn2Bare>73</Cn2Bare>
          <CnRed>20</CnRed>
          <CnCov>0.8</CnCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.4</bd>
            <ll15>0.21</ll15>
            <airdry>0.105</airdry>
            <dul>0.39</dul>
            <sat>0.44</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.39</bd>
            <ll15>0.21</ll15>
            <airdry>0.189</airdry>
            <dul>0.39</dul>
            <sat>0.44</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.37</bd>
            <ll15>0.22</ll15>
            <airdry>0.22</airdry>
            <dul>0.4</dul>
            <sat>0.45</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.36</bd>
            <ll15>0.25</ll15>
            <airdry>0.25</airdry>
            <dul>0.41</dul>
            <sat>0.46</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.38</bd>
            <ll15>0.27</ll15>
            <airdry>0.27</airdry>
            <dul>0.4</dul>
            <sat>0.45</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.39</bd>
            <ll15>0.31</ll15>
            <airdry>0.31</airdry>
            <dul>0.39</dul>
            <sat>0.44</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
          <layer name="7">
            <thickness>300</thickness>
            <bd>1.42</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.38</dul>
            <sat>0.43</sat>
            <sw>9999.99</sw>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <CnCanopyFact>1</CnCanopyFact>
          <RootCn>40</RootCn>
          <RootWt>200</RootWt>
          <SoilCn>12.5</SoilCn>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <fbiom>0.03</fbiom>
            <finert>0.4</finert>
            <no3>6.5</no3>
            <nh4>0.6</nh4>
            <oc>1.24</oc>
            <ph>7</ph>
          </layer>
          <layer name="2">
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
            <oc>1.24</oc>
            <ph>7</ph>
          </layer>
          <layer name="3">
            <fbiom>0.01</fbiom>
            <finert>0.8</finert>
            <no3>2.1</no3>
            <nh4>0.1</nh4>
            <oc>1.25</oc>
            <ph>7</ph>
          </layer>
          <layer name="4">
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
            <oc>1.1</oc>
            <ph>7</ph>
          </layer>
          <layer name="5">
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
            <oc>0.71</oc>
            <ph>7</ph>
          </layer>
          <layer name="6">
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
            <oc>0.34</oc>
            <ph>7</ph>
          </layer>
          <layer name="7">
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <no3>1.7</no3>
            <nh4>0.1</nh4>
            <oc>0.26</oc>
            <ph>7</ph>
          </layer>
        </Nitrogen>
        <other />
        <SoilCrop name="Chickpea">
          <layer name="1">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.22</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.27</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.29</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.34</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.38</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Cotton">
          <layer name="1">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.22</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.25</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.27</ll>
            <kl>0.09</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.31</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.36</ll>
            <kl>0.05</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Sorghum">
          <layer name="1">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.26</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.26</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.28</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.34</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.36</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.21</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.25</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.28</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.31</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.37</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.38</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <Comment>oc and ph not measured</Comment>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <layer name="1">
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="7">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </InitNitrogen>
      </soil>
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat_stubble</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="cotton.dm as Cotton.Biomass" description="Total above ground biomass (kg/ha)" array="?" />
          <variable name="biomass" description="Biomass" array="No" />
          <variable name="lai" description="Leaf area index" array="No" />
        </variables>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" />
        </events>
      </outputfile>
      <fertiliser name="fertiliser" />
    </area>
  </simulation>
  <simulation name="Complex Rotations">
    <memo name="Readme">e1xydGYxXGFuc2lcYW5zaWNwZzEyNTJcZGVmZjBcZGVmbGFuZzMwODF7XGZvbnR0Ymx7XGYwXGZuaWxcZmNoYXJzZXQwIE1pY3Jvc29mdCBTYW5zIFNlcmlmO319DQpcdmlld2tpbmQ0XHVjMVxwYXJkXGYwXGZzMjkgVGhpcyBzaW11bGF0aW9uIGlzIGEgZGVtb25zdHJhdGlvbiBvZiB0b29scyBkZXZlbG9wZWQgYXMgcGFydCBvZiB0aGUgQ1FTRlMgcHJvamVjdCAtXGZzMjkgIHdoaWNoIGhhcyBiZWVuIGludmVzdGlnYXRpbmcgdGhlIHByb2JsZW0gb2Ygc2ltdWxhdGluZyByZXNvdXJjZSBtYW5hZ2VtZW50IGF0IGEgZmFybSBsZXZlbCAtIGllIHNpbXVsYXRpb24gb2YgcGFkZG9ja3MgYW5kIHRoZWlyIG1hbmFnZW1lbnQgd2l0aCBhcHNpbS4gQSBtYWpvciBvdXRjb21lIGhhcyBiZWVuIHRoZSB1c2Ugb2YgbGFuZ3VhZ2VzIHRoYXQgc3VwcG9ydCBjb21wbGV4IGRhdGEgc3RydWN0dXJlcyAmIHByb2NlZHVyZXMgdG8gbW9kZWwgZmFybSBkZWNpc2lvbiBtYWtpbmcuXHBhcg0KXGZzMjlccGFyDQpccGFyDQpUaGUgcm90YXRpb24gaXMgZGVzY3JpYmVkIGFzIGEgRGlyZWN0ZWQgR3JhcGggY29tcHJpc2VkIG9mIG5vZGVzICYgZWRnZXM6IFxwYXINCiAgLSB0aGUgc3RhdGUgb2YgdGhlIHBhZGRvY2sgaXMgYSBub2RlIG9uIHRoaXMgZ3JhcGggKGVnIGZhbGxvdywgY2hpY2twZWEgZXRjKSBccGFyDQogIC0gdGhlIGVkZ2VzIG9mIHRoZSBncmFwaCBoYXZlICJydWxlcyIsIHdoaWNoIGRldGVybWluZSBob3cgdGhlIHBhZGRvY2sgbW92ZXMgZnJvbSBzdGF0ZSB0byBzdGF0ZS5ccGFyDQpccGFyDQpFYWNoIGRheSwgdGhlIG1hbmFnZXIgZXZhbHVhdGVzIGFsbCBwYXRocyB0aGF0IGxlYWQgYXdheSBmcm9tIHRoZSBjdXJyZW50IHN0YXRlLiBFYWNoIHBhdGggaGFzIGEgc2V0IG9mIHJ1bGVzIHdoaWNoIGFyZSBldmFsdWF0ZWQ7IHRoZSAic2NvcmUiIGZvciB0aGF0IHBhdGhzIHRhcmdldCBub2RlIGlzIHRoZSBwcm9kdWN0IG9mIGFsbCBhc3NvY2lhdGVkIHJ1bGVzLiBUaGVzZSBydWxlcyBhcmUgdHlwaWNhbGx5IGJpbmFyeSB2YWx1ZXMsIGJ1dCBjYW4gYmUgYW55IHJlYWwgdmFsdWUuXHBhcg0KXHBhcg0KQSB0YWJsZSBvZiBkZWZhdWx0IHBhcmFtZXRlcnMgKGVnIGN1bHRpdmFyLCBmZXJ0aWxpc2VyIHJhdGVzIGV0YykgZm9yIGVhY2ggY3JvcCBpcyB1c2VkIHdoZW4gY2hhbmdpbmcgc3RhdGUuXHBhcg0KXHBhcg0KQSBzaW1wbGUgR1VJIHBvcHMgdXAgYXQgdGhlIGVuZCBvZiB0aGUgc2ltdWxhdGlvbiB0aGF0IHNob3dzIHRoZSBjcm9wcGluZyBoaXN0b3J5IGFuZCB0aGUgdmFsdWUgb2YgZXZhbHVhdGVkIHJ1bGVzIG9uIGFueSBkYXkuIENsaWNrIG9uIHRoZSBydWcgcGxvdCB0byBjaGFuZ2UgdGhlIGRheSwgYW5kIHVzZSB0aGUgYXJyb3cga2V5cyB0byBzdGVwIGJhY2t3YXJkL2ZvcndhcmQuXHBhcg0KXHBhcg0KfQ0K</memo>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/01/1940</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">31/12/1955</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Complex Rotations.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">%apsuite\apsim\met\sample\emerald.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="wheat.biomass as biomass_wheat" description="Biomass" array="?" />
          <variable name="wheat.yield as yield_wheat" description="Yield" array="?" />
          <variable name="wheat.grain_protein" description="grain protein content" array="?" />
          <variable name="sorghum.biomass as biomass_sorg" array="?" />
          <variable name="sorghum.yield as yield_sorg" array="?" />
          <variable name="chickpea.biomass as biomass_chickpea" array="?" />
          <variable name="chickpea.yield as yield_chickpea" array="?" />
        </variables>
        <events name="Reporting Frequency">
          <event name="wheat.harvesting" description="" />
        </events>
      </outputfile>
      <tclmanager name="TCL Manager">
        <rule name="Planting rules">
          <condition name="init"><![CDATA[
# The crops we know about
set crops {wheat earlySorghum lateSorghum chickpea covercrop}

# Aliases for crops
set alias(earlySorghum) sorghum
set alias(lateSorghum)  sorghum
set alias(covercrop)    wheat

# Construct the graphs nodes.
package require struct
::struct::graph stateGraph

stateGraph node insert fallow
stateGraph node insert wheat
stateGraph node insert covercrop
stateGraph node insert earlySorghum
stateGraph node insert lateSorghum
stateGraph node insert chickpea

# These are rules to "arc" between states eg. fallow into sorghum.
# The score of a paddock is the product of these rules.
# Rules are evaluated in order presented here.

# sorghum nov-dec
set a [stateGraph arc insert fallow earlySorghum]
stateGraph arc lappend $a rules {[dateWithin 349 1]}
stateGraph arc lappend $a rules {[apsimGet accum.rain\[4\]] > 25 && [apsimGet rain] == 0}
stateGraph arc lappend $a rules {[apsimGet esw] > 110}
stateGraph arc lappend $a rules {$daysSinceLastHarvest > 30}

# sorghum jan-feb
set a [stateGraph arc insert fallow lateSorghum]
stateGraph arc lappend $a rules {[dateWithin 1 60]}
stateGraph arc lappend $a rules {[apsimGet accum.rain\[4\]] > 12 && [apsimGet rain] == 0}
stateGraph arc lappend $a rules {[apsimGet esw] > 90}
stateGraph arc lappend $a rules {$daysSinceLastHarvest > 30}

# Wheat
set a [stateGraph arc insert fallow wheat]
stateGraph arc lappend $a rules {[dateWithin 91 182]}
stateGraph arc lappend $a rules {[apsimGet accum.rain\[4\]] > 12 && [apsimGet rain] == 0}
stateGraph arc lappend $a rules {[apsimGet esw] > 100}
stateGraph arc lappend $a rules {$daysSinceLastHarvest > 30}
stateGraph arc lappend $a rules {[wheatHistory]}

# Cover crop planted at end of wheat window
set a [stateGraph arc insert fallow covercrop]
stateGraph arc lappend $a rules {[apsimGet day] == 183}
stateGraph arc lappend $a rules {[apsimGet esw] > 60}
stateGraph arc lappend $a rules {[apsimGet surfaceom_cover] < 0.3}

# Chickpea
set a [stateGraph arc insert fallow chickpea]
stateGraph arc lappend $a rules {[dateWithin 121 167]}
stateGraph arc lappend $a rules {[apsimGet rain] == 0}
stateGraph arc lappend $a rules {[apsimGet esw] > 120}
stateGraph arc lappend $a rules {$daysSinceLastHarvest > 30}
stateGraph arc lappend $a rules {[apsimGet surfaceom_cover] > 0.3}

# Crop -> fallow rules
set a [stateGraph arc insert earlySorghum fallow]
stateGraph arc lappend $a rules {[string equal $harvestedToday "sorghum"]}

set a [stateGraph arc insert lateSorghum fallow]
stateGraph arc lappend $a rules {[string equal $harvestedToday "sorghum"]}

set a [stateGraph arc insert wheat fallow]
stateGraph arc lappend $a rules {[string equal $harvestedToday "wheat"]}

set a [stateGraph arc insert covercrop fallow]
stateGraph arc lappend $a rules {[string equal $harvestedToday "wheat"]}

set a [stateGraph arc insert chickpea fallow]
stateGraph arc lappend $a rules {[string equal $harvestedToday "chickpea"]}

# Options for planting & fertiliser.
# Order of preference goes like  earlySorghum(alias) > sorghum(crop) > default.
array set defaults {
  sow,sowing_depth              30
  fertiliser,depth              50
  fertiliser,type               urea
  wheat,sow,cultivar            hartog
  wheat,sow,plants              100
  wheat,fertiliser,amount       75
  covercrop,fertiliser,amount   0
  sorghum,sow,plants            4
  sorghum,sow,tiller_no_fertile 0
  sorghum,sow,row_spacing       1.0
  sorghum,fertiliser,amount     80
  earlySorghum,sow,cultivar     late
  lateSorghum,sow,cultivar      early
  chickpea,sow,cultivar         amethyst
  chickpea,sow,plants           30
  chickpea,fertiliser,amount    0
}

# Initial conditions of state variables at the start of the simulation
set harvestedToday "nothing"
set state          "fallow"               ;# has to start somewhere...
set history        {wheat wheat}          ;# The last few crops
set daysSinceLastHarvest 0

########### Support procedures
# Return our "reluctance" to plant wheat
proc wheatHistory {} {
   global history
   if {[lindex $history end] == "wheat" && [lindex $history end-1] == "wheat"} {
       return 0   ;# 2 in a row - no more.
   }
   return 1
}

# return true if today's date is within 2 points.
proc dateWithin {t0 t1} {
   set t [apsimGet day]
   if {$t0 > $t1} {
      return [expr $t >= $t0 || $t <= $t1]
   } else {
      return [expr $t >= $t0 && $t <= $t1]
   }
   # notreached
}

# A log routine.  Uncommment this call for verbose summary files
proc log {msg} {
   global logFile
   if {![info exists logFile]} {
      set logFile [open rotations.log w]
      puts $logFile "[apsimGet day],[apsimGet year]"
      puts $logFile "Starting"
   }
   puts $logFile $msg
}

# Look at the current crop, see if it needs harvesting or is dead..
proc checkState {} {
   global alias harvestedToday daysSinceLastHarvest

   set harvestedToday "nothing"

   set crop [currentState]
   if {$crop == "wheat" || $crop == "sorghum" || $crop == "chickpea" || $crop == "maize"} {
      set stageName [apsimGet $crop.stage_name]
      set plant_status [apsimGet $crop.plant_status]
      if {$stageName == "harvest_ripe" || $plant_status == "dead"} {
        if {$plant_status != "dead"} {
           log "harvest-$crop"
        } else {
           log "fail-$crop"
        }
        apsimSendMessage $crop harvest
        apsimSendMessage $crop kill_crop
        apsimSendMessage $crop end_crop
        set harvestedToday $crop
        changeState fallow
        set daysSinceLastHarvest -1
      }
   }
   incr daysSinceLastHarvest
}

# Return the current state of the system
proc currentState {} {
   global state alias
   # See if this is an alias
   if {[info exists alias($state)]} {
      return $alias($state)
   }
   return $state
}

# Gather arguments (eg sowing depth, fert rate etc} from defaults array
# $action: the operation (sow, fert ...
# $what: the module (wheat, sorghum ...
proc gatherArgs {action what} {
   global defaults alias

   # "sow,..."
   foreach {index value} [array get defaults $action,*] {
      set args([lindex [split $index ","] end]) $value
   }
   # "wheat,sow,..."
   if {[info exists alias($what)]} {
      foreach {index value} [array get defaults $alias($what),$action,*] {
         set args([lindex [split $index ","] end]) $value
      }
   }
   # "covercrop,sow,..."
   foreach {index value} [array get defaults $what,$action,*] {
      set args([lindex [split $index ","] end]) $value
   }
   return [array get args]
}

# Mash a list into name/value pairs
proc mash {list} {
   set result {}
   foreach {name value} $list {lappend result [list $name $value]}
   return $result
}

# Change to a new state
proc changeState {newstate} {
   global alias history state

   # See if this is an alias
   if {[info exists alias($newstate)]} {
      set realState $alias($newstate)
   } else {
      set realState $newstate
   }

   if {$realState == "fallow"} {
      # do nothing
   } else {
      eval apsimSendMessage $realState sow [mash [gatherArgs sow $newstate]]

      array set fert [gatherArgs fertiliser $newstate]
      eval apsimSendMessage fertiliser apply [mash [array get fert]]

      lappend history $realState
   }
   set state $newstate
   log "changeState $newstate"
}

############### The decision routine.
# Iterate through all arcs from current state and take the "best" arc possible (product of scores)
proc checkRules {} {
  global state

  set best {}
  foreach arc [stateGraph arcs -out $state] {
     log " target [stateGraph arc target $arc]"
     set expr($arc) {}
     foreach rule [stateGraph arc get $arc rules] {
         set value [uplevel #0 expr $rule]
         lappend expr($arc) $value
         log "  rule=$rule, value=$value"
     }
     set score($arc) [expr [join $expr($arc) "*"]]
     log "  score= $score($arc)"
     if {$best == {} || $score($arc) > $best} {
       set best $score($arc)
       set bestChoice [stateGraph arc target $arc]
     }
  }

  if {$best != {} && $best > 0.0} {
     log " Changing state to $bestChoice - score = $best"
     changeState $bestChoice
  }
}

proc doProcess {} {
   log "[apsimGet day],[apsimGet year]"

   # Housekeeping - check crop maturity & update accumulators
   checkState

   # See if there can be a state change today
   checkRules
}
]]></condition>
          <condition name="prepare" />
          <condition name="process">doProcess
</condition>
          <condition name="post" />
          <condition name="exit"><![CDATA[
if {[info exists logFile]} {
   puts $logFile "Finished"
   close $logFile
   set fp [open rotations.tcl w]
   puts $fp {
#############Log file viewer#############
# Need to align these properly with init script
set colours(fallow)  "orange"
set colours(wheat)   "yellow"
set colours(earlySorghum) "lightgreen"
set colours(lateSorghum) "darkgreen"
set colours(sorghum) "green"
set colours(chickpea) "pink"
set colours(covercrop) "red"

set width 200
set height 600

button .b -text Cancel -command "exit"
message .m -width 250 -textvariable message
pack .b
pack .m
set message "Reading log file"
update

proc setupUI {w} {
  global width height txtw canvw
  if {$w == "."} {set b ""} else {set b $w}
  foreach c [winfo chi $w] {destroy $c}
  set canvw [canvas $b.c -width $width -height $height]
  set txtw [text $b.t -width 60 -height 20 -takefocus 0 -font "normal 14" -yscrollcommand "$b.sb set"]
  scrollbar $b.sb -orient v -command "$b.t yview"
  message $b.m -width 250 -textvariable message

  grid $b.c -row 0 -column 0 -sticky nsew
  grid $b.t -row 0 -column 1 -sticky nsew
  grid $b.sb -row 0 -column 2 -sticky nsw
  grid $b.m -row 1 -column 0 -sticky ew
  grid columnconf $w 0 -weight 1
  grid columnconf $w 1 -weight 1
  grid rowconf $w 0 -weight 1
  bind $b.c <Motion> "canvasMotion %x %y"
  bind $b.c <1> "+focus %W; canvasButton %x %y"
  bind $b.c <Up> "+canvasUp"
  bind $b.c <Down> "+canvasDown"

  focus $b.c
}

proc min {a b} { return [expr ($a < $b) ? $a : $b] }
proc max {a b} { return [expr ($a > $b) ? $a : $b] }

# Coordinate transforms
proc ctowx {c} {
   global data width height
   set colwidth [expr $width/2]
   return [max [expr ($c-$colwidth)/$colwidth] 0]
}
proc wtocx {w} {
   global data width height
   set colwidth [expr $width/2]
   return [expr $colwidth + $w * $colwidth]
}
proc wtocy {w} {
   global data
   return [expr 20 + ([date2num $w]+$data(offsetY))*$data(scaleFactY) ]
}
proc ctowy {c} {
   global data
   return [expr (($c-20)/$data(scaleFactY))-$data(offsetY) ]
}
proc date2num {d} {
   set z [split $d ","]
   return [expr [lindex $z 1]+ [lindex $z 0]/365.0]
}
proc num2date {n} {
   set y [expr int($n)]
   set d [min 366 [max [expr int(($n-$y)*365.0)] 1]]
   return "$d,$y"
}

# Canvas bindings
proc canvasMotion {x y} {
   global message data
   set time [split [num2date [ctowy $y]] ","]
   set dstr ""
   catch {
     set dstr [clock format [clock scan "1/1/[lindex $time 1] + [expr [lindex $time 0]-1] days"] -format "%d-%b-%Y"]
   }
   set message "date=$dstr"
   update
}
proc canvasButton {x y} {
   global data currTime currPaddock
   set currTime [num2date [ctowy $y]]
   showText
}
proc canvasUp {} {
   global currTime
   foreach {day year} [split $currTime ","] {break}
   set day [expr $day-1]
   if {$day <= 0} {set day 366; set year [expr $year-1]}
   set currTime "$day,$year"
   showText
}
proc canvasDown {} {
   global currTime
   foreach {day year} [split $currTime ","] {break}
   set day [expr $day+1]
   if {$day > 366} {set day 1; set year [expr $year+1]}
   set currTime "$day,$year"
   showText
}
proc canvasLeft {} {
   showText
}
proc canvasRight {} {
   showText
}

# Display the current ruleset in the text window
proc showText {} {
   global data text canvw txtw currTime
   set stime [split $currTime ","]
   set year [lindex $stime 1]; set day [max [expr [lindex $stime 0]-1] 0]

   set dstr [clock format [clock scan "1/1/$year + $day days"] -format "%d-%b-%Y"]
   $txtw delete 0.0 end
   $txtw insert end "$dstr ($currTime)\n"
   if {[info exists text(main,$currTime)]} {
      $txtw insert end $text(main,$currTime)
   }

   $canvw coords currPos [wtocx 0] [wtocy $currTime] [wtocx 1] [wtocy $currTime]
}

# Draw the paddock history
proc draw {c} {
   global data colours width height
   set col 0;

   for {set i 1} {$i < [llength $data(timeline)]} {incr i} {
      set t0 [lindex [lindex $data(timeline) [expr $i-1]] 0]
      set t1 [lindex [lindex $data(timeline)       $i   ] 0]
      set what [lindex [lindex $data(timeline) [expr $i-1]] 1]
      $c create rect [wtocx $col] [wtocy $t0] [wtocx [expr $col+1]] [wtocy $t1] -fill $colours($what) -outline {}
      $c create text [expr 5 + [wtocx $col]] [wtocy $t0] -text $what -anchor nw
   }

   for {set y [lindex [split $data(earliest) ","] 1]} {$y <= [lindex [split $data(latest) ","] 1]} {incr y} {
      $c create line  [wtocx -0.1]  [wtocy "1,$y"]  [wtocx 0] [wtocy "1,$y"]
      $c create text [expr 5 + [wtocx -0.7]] [wtocy "1,$y"] -text "1/1/$y" -anchor w
   }

   $c create text [expr 20 + [wtocx 1]] [wtocy $data(earliest)] -text "Paddock 1" -anchor sw

   $c create line [wtocx 0] [wtocy $data(earliest)] [wtocx 1] [wtocy $data(earliest)] -fill white -tag currPos
}

# Read in the logfiles
proc readIn { filename } {
   global data text width height message
   set types {
       {{Log Files}       {.log}        }
       {{All Files}        *            }
   }

   if {$filename == ""} {
     set filename [tk_getOpenFile -filetypes $types]
   }

   if {$filename == ""} { return }

   set message "Reading..."; update

   set fp [open $filename r]
   set date "X"
   set state fallow
   while {[gets $fp line] > 0} {
      if {[scan $line "%d,%d" day year]} {
         set date $line
         set data(latest) $date
      } elseif {[string match "Starting" $line]} {
         set data(earliest) $date
         set data(latest) $date
      } elseif {[string match "Finished" $line]} {
         set data(latest) $date
      } elseif {[string match changeState* $line]} {
         set state [lindex $line 1]
         lappend data(timeline) [list $date $state]
      } else {
         append text(main,$date) "$line\n"
      }
   }
   lappend data(timeline) [list $data(latest) $state]
   close $fp
   if {![info exists data(earliest)]} {error "No 'Starting' tag found - is this really a logfile??"}


   set t0 [date2num $data(earliest)]
   set t1 [date2num $data(latest)]
   set data(scaleFactY) [expr ($height-20)/($t1 - $t0)]
   set data(offsetY) [expr - $t0]

   set message "Done."; update
}

########Main program starts here
readIn [lindex $argv 0]
setupUI .
draw .c
canvasButton 100 100
}
  close $fp
  exec [file dirname $tcl_library]/wish84.exe rotations.tcl rotations.log &
}
]]></condition>
        </rule>
      </tclmanager>
      <Soil name="#049 - Capella,Orion">
        <region>Central Queensland</region>
        <site>Capella</site>
        <SoilType>Black Vertosol</SoilType>
        <nearesttown>Capella, Q 4702</nearesttown>
        <comment>Data provided by D. Lack (oc and ph not measured)</comment>
        <naturalvegetation>Qld. Bluegrass, Mountain Coolibah</naturalvegetation>
        <Water>
          <U>6</U>
          <Cona>3.5</Cona>
          <Salb>0.13</Salb>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <CN2Bare>73</CN2Bare>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <layer name="1">
            <thickness>150</thickness>
            <bd>1.04</bd>
            <ll15>0.25</ll15>
            <airdry>0.125</airdry>
            <dul>0.48</dul>
            <sat>0.58</sat>
            <swcon>0.3</swcon>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <bd>1.22</bd>
            <ll15>0.28</ll15>
            <airdry>0.252</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <swcon>0.3</swcon>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <bd>1.21</bd>
            <ll15>0.33</ll15>
            <airdry>0.33</airdry>
            <dul>0.46</dul>
            <sat>0.51</sat>
            <swcon>0.3</swcon>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <bd>1.32</bd>
            <ll15>0.24</ll15>
            <airdry>0.24</airdry>
            <dul>0.35</dul>
            <sat>0.47</sat>
            <swcon>0.3</swcon>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <bd>1.42</bd>
            <ll15>0.32</ll15>
            <airdry>0.32</airdry>
            <dul>0.33</dul>
            <sat>0.43</sat>
            <swcon>0.3</swcon>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <bd>1.5</bd>
            <ll15>0.3</ll15>
            <airdry>0.3</airdry>
            <dul>0.33</dul>
            <sat>0.4</sat>
            <swcon>0.3</swcon>
          </layer>
        </Water>
        <Nitrogen>
          <RootCN>40</RootCN>
          <RootWT>200</RootWT>
          <SoilCN>12.5</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <fbiom>0.03</fbiom>
            <finert>0.4</finert>
            <oc>1.24</oc>
            <ph>7</ph>
          </layer>
          <layer name="2">
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
            <oc>1.24</oc>
            <ph>7</ph>
          </layer>
          <layer name="3">
            <fbiom>0.01</fbiom>
            <finert>0.8</finert>
            <oc>1.25</oc>
            <ph>7</ph>
          </layer>
          <layer name="4">
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
            <oc>1.1</oc>
            <ph>7</ph>
          </layer>
          <layer name="5">
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <oc>0.71</oc>
            <ph>7</ph>
          </layer>
          <layer name="6">
            <fbiom>0.01</fbiom>
            <finert>0.95</finert>
            <oc>0.34</oc>
            <ph>7</ph>
          </layer>
        </Nitrogen>
        <WaterFormat>VolumetricPercent</WaterFormat>
        <InitWater>
          <layer name="1">
            <sw>0.48</sw>
          </layer>
          <layer name="2">
            <sw>0.46</sw>
          </layer>
          <layer name="3">
            <sw>0.46</sw>
          </layer>
          <layer name="4">
            <sw>0.35</sw>
          </layer>
          <layer name="5">
            <sw>0.33</sw>
          </layer>
          <layer name="6">
            <sw>0.33</sw>
          </layer>
        </InitWater>
        <other>
          <layer name="1" />
          <layer name="2" />
          <layer name="3" />
          <layer name="4" />
          <layer name="5" />
          <layer name="6" />
        </other>
        <InitNitrogen>
          <layer name="1">
            <no3>6.5</no3>
            <nh4>0.6</nh4>
          </layer>
          <layer name="2">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="3">
            <no3>2.1</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="4">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="5">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
          <layer name="6">
            <no3>1.7</no3>
            <nh4>0.1</nh4>
          </layer>
        </InitNitrogen>
        <SoilCrop name="Wheat">
          <layer name="1">
            <ll>0.25</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.28</ll>
            <kl>0.1</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.33</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.24</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.32</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.3</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="sorghum">
          <layer name="1">
            <ll>0.25</ll>
            <kl>0.10</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="2">
            <ll>0.28</ll>
            <kl>0.10</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="3">
            <ll>0.33</ll>
            <kl>0.08</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="4">
            <ll>0.24</ll>
            <kl>0.06</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="5">
            <ll>0.32</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="6">
            <ll>0.30</ll>
            <kl>0.02</kl>
            <xf>1.00</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="chickpea">
          <layer name="1">
            <ll>0.25</ll>
            <kl>0.10</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="2">
            <ll>0.28</ll>
            <kl>0.10</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="3">
            <ll>0.33</ll>
            <kl>0.08</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="4">
            <ll>0.24</ll>
            <kl>0.06</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="5">
            <ll>0.32</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="6">
            <ll>0.30</ll>
            <kl>0.02</kl>
            <xf>1.00</xf>
          </layer>
        </SoilCrop>
      </Soil>
      <wheat />
      <sorghum />
      <chickpea />
    </area>
  </simulation>
  <simulation name="Wether_Lucerne">
    <metfile name="met">
      <filename name="filename">C:\data\Apsim\development\apsim\met\sample\Workshop.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1995" ubound="31/12/1996">1/01/1995</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1995" ubound="31/12/1996">30/12/1996</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Wether_Lucerne.sum</filename>
    </summaryfile>
    <outputfile name="Outputfile">
      <variables name="My Variables">
        <variable name="StockHerbageConverter.dm_feed_on_offer()" description="Dry matter of feed on offer (kg/ha)" array="?" />
        <variable name="StockHerbageConverter.dm_feed_removed()" description="Dry matter of feed removed (kg/ha)" array="?" />
        <variable name="stock.age" array="?" />
        <variable name="stock.wt_change" array="?" />
        <variable name="stock.weight" array="?" />
        <variable name="stock.sex" array="?" />
        <variable name="stock.past_intake" array="?" />
        <variable name="stock.number" array="?" />
        <variable name="lucerne.biomass" description="Biomass" array="?" />
        <variable name="lucerne.stage" description="Plant stage" array="?" />
        <variable name="lucerne.lai" description="Leaf area index" array="?" />
        <variable name="stock.cond_score_all" array="?" />
        <variable name="stock.past_intake_all" array="?" />
        <variable name="stock.supp_intake_all" array="?" />
        <variable name="stock.fleece_wt_all" array="?" />
        <variable name="stock.fibre_diam_all" array="?" />
        <variable name="clock.dd/mmm/yyyy" description="Date (dd/mmm/yyyy)" array="?" />
        <variable name="clock.year" description="Year" array="?" />
        <variable name="met.rain" description="Rainfall (mm)" array="?" />
        <variable name="lucerne.cover_tot" array="?" />
        <variable name="lucerne.dlt_dm" description="Change in dry matter" array="?" />
        <variable name="lucerne.dlt_dm_green as dlt_dm_green_leaf(2)" description="change in green pool" array="?" />
        <variable name="lucerne.dlt_dm_green as dlt_dm_green_stem(3)" description="change in green pool" array="?" />
        <variable name="lucerne.dm_green_leaf" description="Weight of leaf" array="?" />
        <variable name="lucerne.dm_green_stem" description="Weight of stem" array="?" />
        <variable name="lucerne.dm_senesced_leaf" description="Weight of senesced leaf" array="?" />
        <variable name="lucerne.dm_senesced_stem" description="Weight of senesced stem" array="?" />
        <variable name="lucerne.dm_dead_stem" description="Weight of dead stem" array="?" />
        <variable name="lucerne.dm_dead_leaf" description="Weight of dead leaf" array="?" />
      </variables>
      <events name="My Variables Events">
        <event name="clock.post" description="End of daily simulation time step" />
      </events>
    </outputfile>
    <manager name="Manager">
      <rule name="Sow on a fixed date">
        <condition name="start_of_day">
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing]
         endif
               </condition>
        <category name="Sowing criteria">
          <date type="text" description="Enter sowing date (dd-mmm) : ">1/07/1995</date>
        </category>
        <category name="Sowing parameters">
          <crop type="crop" description="Enter name of crop to sow : ">lucerne</crop>
          <density type="text" description="Enter sowing density  (plants/m2) : ">100</density>
          <depth type="text" description="Enter sowing depth  (mm) : ">50</depth>
          <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">sceptre</cultivar>
          <row_spacing type="text" description="Enter row spacing (mm) : ">500</row_spacing>
        </category>
      </rule>
      <rule name="Buy sheep on feed-on-offer">
        <condition name="init">
               sheep_presence = 'off'
            </condition>
        <condition name="start_of_day"><![CDATA[
        if ([herbage_module].biomass >= [buy_feed_on_offer] AND sheep_presence = 'off') then
           [stockmodule] buystock number = [buy_number] (-), genotype = '[genotype]', sex = [sex], age = [buy_age] (months), weight = [buy_weight] (kg)
           sheep_presence = 'on'
         endif
               ]]></condition>
        <category name="Buy properties">
          <stockmodule type="modulename" description="Name of stock converter module : ">StockScienceConverter</stockmodule>
          <genotype type="list" listvalues="black face x white face,border leicester, border leicester x merino,columbia,corriedale,delaine-merino,dorset x merino,dorset,finnsheep,hampshire,large merino,medium merino,small merino,polwarth,polypay,romney,ryeland,southdown,suffolk,targhee,texel,US corriedale,US romney,US southdown,US suffolk" description="Select Genotype : ">suffolk</genotype>
          <herbage_module type="modulename" description="Module supplying herbage : ">lucerne</herbage_module>
          <buy_feed_on_offer type="text" description="Feed on offer (kg/ha) : ">200</buy_feed_on_offer>
          <buy_number type="text" description="Number of stock : ">50</buy_number>
          <sex type="list" listvalues="ewe,wether,ram,crypto" description="Select sex : ">wether</sex>
          <buy_age type="text" description="Age (months) : ">12</buy_age>
          <buy_weight type="text" description="Weight (kg) : ">45</buy_weight>
        </category>
      </rule>
      <rule name="Sell sheep on weight">
        <condition name="start_of_day"><![CDATA[
        if ((stock.weight >= [sell_on_weight_gain] OR stock.weight <= [sell_on_weight_loss]) AND sheep_presence = 'on') then
           [stockmodule] sellstock number = [sell_number] (-)
           sheep_presence = 'off'
        endif
               ]]></condition>
        <category name="Sell properties">
          <stockmodule type="modulename" description="Name of stock converter module : ">StockScienceConverter</stockmodule>
          <sell_on_weight_gain type="text" description="Weight (gaining) : ">60</sell_on_weight_gain>
          <sell_on_weight_loss type="text" description="Weight (losing) : ">0</sell_on_weight_loss>
          <sell_number type="text" description="Number of stock : ">13</sell_number>
        </category>
      </rule>
    </manager>
    <surfaceom name="Surface Organic Matter">
      <PoolName description="Organic Matter pool name">wheat_stubble</PoolName>
      <type description="Organic Matter type">wheat</type>
      <mass description="Initial surface residue (kg/ha)">1000.</mass>
      <cnr description="C:N ratio of initial residue">80.0</cnr>
      <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
    </surfaceom>
    <lucerne />
    <stock>
      <sheep>
        <genotypename>medium merino</genotypename>
        <number>0</number>
        <sex type="list" listvalues="ewe,wether,ram,crypto">wether</sex>
        <age>730.0</age>
        <weight>50.0</weight>
        <max_prev_wt>50.0</max_prev_wt>
        <fleece_wt>6.0</fleece_wt>
        <fibre_diam>20.0</fibre_diam>
        <mated_to />
        <pregnant>0</pregnant>
        <lactating>0</lactating>
        <no_young>0</no_young>
        <birth_cs>0.0</birth_cs>
        <lamb_wt>0.0</lamb_wt>
        <lamb_fleece_wt>0.0</lamb_fleece_wt>
        <paddock />
        <tag>0</tag>
        <priority>0</priority>
      </sheep>
      <stockgenotype name="Medium Merino Genotype">
        <genotypename>medium merino</genotypename>
        <dam_breed>medium merino</dam_breed>
        <sire_breed>medium merino</sire_breed>
        <generation>0</generation>
        <srw>50.0</srw>
        <conception1>0.8</conception1>
        <conception2>0.15</conception2>
        <death_rate>0.02</death_rate>
        <ref_fleece_wt>4.5</ref_fleece_wt>
        <max_fibre_diam>19.0</max_fibre_diam>
        <fleece_yield>0.7</fleece_yield>
        <peak_milk>25.0</peak_milk>
      </stockgenotype>
    </stock>
    <StockScienceConverter>
      <debug type="list" listvalues="on,off">off</debug>
      <stock_module type="modulename">stock</stock_module>
      <conversion_model>nonherbage</conversion_model>
      <fraction_faeces_added>0.5</fraction_faeces_added>
      <fraction_urine_added>0.5</fraction_urine_added>
    </StockScienceConverter>
    <StockHerbageConverter>
      <debug type="list" listvalues="on,off">off</debug>
      <conversion_model>herbage</conversion_model>
      <herbage_model>plant</herbage_model>
      <herbage_module_name type="modulename">lucerne</herbage_module_name>
    </StockHerbageConverter>
    <FarmwiseSequencerConverter name="FarmwiseSequencer" />
    <Soil name="SampleBlackEarth">
      <region>South East Queensland</region>
      <site>Generic</site>
      <SoilType>Black Vertosol</SoilType>
      <comment>estimated cotton LL</comment>
      <Water>
        <U>6</U>
        <Cona>3.5</Cona>
        <Salb>0.13</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <layer name="1">
          <thickness>150</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.14</airdry>
          <dul>0.54</dul>
          <sat>0.59</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="2">
          <thickness>150</thickness>
          <bd>1.03</bd>
          <ll15>0.29</ll15>
          <airdry>0.26</airdry>
          <dul>0.53</dul>
          <sat>0.58</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="3">
          <thickness>300</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.29</airdry>
          <dul>0.54</dul>
          <sat>0.59</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="4">
          <thickness>300</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.29</airdry>
          <dul>0.54</dul>
          <sat>0.58</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="5">
          <thickness>300</thickness>
          <bd>1.06</bd>
          <ll15>0.3</ll15>
          <airdry>0.3</airdry>
          <dul>0.52</dul>
          <sat>0.57</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="6">
          <thickness>300</thickness>
          <bd>1.11</bd>
          <ll15>0.31</ll15>
          <airdry>0.31</airdry>
          <dul>0.5</dul>
          <sat>0.55</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="7">
          <thickness>300</thickness>
          <bd>1.12</bd>
          <ll15>0.32</ll15>
          <airdry>0.32</airdry>
          <dul>0.5</dul>
          <sat>0.55</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="8">
          <thickness>300</thickness>
          <bd>1.15</bd>
          <ll15>0.33</ll15>
          <airdry>0.33</airdry>
          <dul>0.48</dul>
          <sat>0.53</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="9">
          <thickness>300</thickness>
          <bd>1.18</bd>
          <ll15>0.34</ll15>
          <airdry>0.34</airdry>
          <dul>0.47</dul>
          <sat>0.52</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="10">
          <thickness>300</thickness>
          <bd>1.2</bd>
          <ll15>0.35</ll15>
          <airdry>0.35</airdry>
          <dul>0.46</dul>
          <sat>0.51</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="11">
          <thickness>300</thickness>
          <bd>1.25</bd>
          <ll15>0.36</ll15>
          <airdry>0.36</airdry>
          <dul>0.44</dul>
          <sat>0.49</sat>
          <swcon>0.3</swcon>
        </layer>
      </Water>
      <Nitrogen>
        <RootCN>40</RootCN>
        <RootWT>200</RootWT>
        <SoilCN>12.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <layer name="1">
          <fbiom>0.025</fbiom>
          <finert>0.4</finert>
          <oc>1.04</oc>
          <ph>8.4</ph>
        </layer>
        <layer name="2">
          <fbiom>0.02</fbiom>
          <finert>0.6</finert>
          <oc>0.89</oc>
          <ph>8.8</ph>
        </layer>
        <layer name="3">
          <fbiom>0.015</fbiom>
          <finert>0.8</finert>
          <oc>0.89</oc>
          <ph>9</ph>
        </layer>
        <layer name="4">
          <fbiom>0.01</fbiom>
          <finert>0.9</finert>
          <oc>0.89</oc>
          <ph>9.2</ph>
        </layer>
        <layer name="5">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.77</oc>
          <ph>9.2</ph>
        </layer>
        <layer name="6">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.45</oc>
          <ph>9.1</ph>
        </layer>
        <layer name="7">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.27</oc>
          <ph>9</ph>
        </layer>
        <layer name="8">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.22</oc>
          <ph>9</ph>
        </layer>
        <layer name="9">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.16</oc>
          <ph>8.9</ph>
        </layer>
        <layer name="10">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.13</oc>
          <ph>8.9</ph>
        </layer>
        <layer name="11">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.12</oc>
          <ph>8.9</ph>
        </layer>
      </Nitrogen>
      <WaterFormat>VolumetricPercent</WaterFormat>
      <InitWater>
        <layer name="1">
          <sw>0.54</sw>
        </layer>
        <layer name="2">
          <sw>0.53</sw>
        </layer>
        <layer name="3">
          <sw>0.54</sw>
        </layer>
        <layer name="4">
          <sw>0.54</sw>
        </layer>
        <layer name="5">
          <sw>0.52</sw>
        </layer>
        <layer name="6">
          <sw>0.5</sw>
        </layer>
        <layer name="7">
          <sw>0.5</sw>
        </layer>
        <layer name="8">
          <sw>0.48</sw>
        </layer>
        <layer name="9">
          <sw>0.47</sw>
        </layer>
        <layer name="10">
          <sw>0.46</sw>
        </layer>
        <layer name="11">
          <sw>0.44</sw>
        </layer>
      </InitWater>
      <other>
        <layer name="1">
          <ec>0.2</ec>
        </layer>
        <layer name="2">
          <ec>0.25</ec>
        </layer>
        <layer name="3">
          <ec>0.31</ec>
        </layer>
        <layer name="4">
          <ec>0.4</ec>
        </layer>
        <layer name="5">
          <ec>0.59</ec>
        </layer>
        <layer name="6">
          <ec>0.84</ec>
        </layer>
        <layer name="7">
          <ec>0.93</ec>
        </layer>
        <layer name="8">
          <ec>1.01</ec>
        </layer>
        <layer name="9">
          <ec>1.06</ec>
        </layer>
        <layer name="10">
          <ec>1.05</ec>
        </layer>
        <layer name="11">
          <ec>1.01</ec>
        </layer>
      </other>
      <InitNitrogen>
        <layer name="1">
          <no3>6.5</no3>
          <nh4>0.6</nh4>
        </layer>
        <layer name="2">
          <no3>2.1</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="3">
          <no3>2.1</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="4">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="5">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="6">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="7">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="8">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="9">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="10">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="11">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
      </InitNitrogen>
      <SoilCrop name="wheat">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="barley">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.38</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.39</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.39</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="canola">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Chickpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.36</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.43</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.51</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.5</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.5</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Lucerne">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.3</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.31</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.32</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.33</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="9">
          <ll>0.34</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="10">
          <ll>0.35</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="11">
          <ll>0.36</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Maize">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.34</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.34</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.37</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.42</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Perennial Grass">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.39</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.41</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.4</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.07</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.05</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.41</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.4</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.4</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.42</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sorghum">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.35</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.38</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.4</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.4</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Cowpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Fababean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Mungbean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Navybean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Peanut">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Pigeonpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Soybean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Stylo">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sugar">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sunflower">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Lablab">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Cotton">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.35</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.36</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.38</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.39</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.39</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
    </Soil>
  </simulation>
  <simulation name="Wether_Lucerne_Supplement">
    <metfile name="met">
      <filename name="filename">C:\data\Apsim\development\apsim\met\sample\Workshop.met</filename>
    </metfile>
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1995" ubound="31/12/1996">1/01/1995</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1995" ubound="31/12/1996">30/12/1996</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Wether_Lucerne.sum</filename>
    </summaryfile>
    <outputfile name="Outputfile">
      <variables name="My Variables">
        <variable name="StockHerbageConverter.dm_feed_on_offer()" description="Dry matter of feed on offer (kg/ha)" array="?" />
        <variable name="StockHerbageConverter.dm_feed_removed()" description="Dry matter of feed removed (kg/ha)" array="?" />
        <variable name="stock.age" array="?" />
        <variable name="stock.wt_change" array="?" />
        <variable name="stock.weight" array="?" />
        <variable name="stock.sex" array="?" />
        <variable name="stock.past_intake" array="?" />
        <variable name="stock.number" array="?" />
        <variable name="lucerne.biomass" description="Biomass" array="?" />
        <variable name="lucerne.stage" description="Plant stage" array="?" />
        <variable name="lucerne.lai" description="Leaf area index" array="?" />
        <variable name="stock.cond_score_all" array="?" />
        <variable name="stock.past_intake_all" array="?" />
        <variable name="stock.supp_intake_all" array="?" />
        <variable name="stock.fleece_wt_all" array="?" />
        <variable name="stock.fibre_diam_all" array="?" />
        <variable name="clock.dd/mmm/yyyy" description="Date (dd/mmm/yyyy)" array="?" />
        <variable name="clock.year" description="Year" array="?" />
        <variable name="met.rain" description="Rainfall (mm)" array="?" />
        <variable name="lucerne.cover_tot" array="?" />
        <variable name="lucerne.dlt_dm" description="Change in dry matter" array="?" />
        <variable name="lucerne.dlt_dm_green as dlt_dm_green_leaf(2)" description="change in green pool" array="?" />
        <variable name="lucerne.dlt_dm_green as dlt_dm_green_stem(3)" description="change in green pool" array="?" />
        <variable name="lucerne.dm_green_leaf" description="Weight of leaf" array="?" />
        <variable name="lucerne.dm_green_stem" description="Weight of stem" array="?" />
        <variable name="lucerne.dm_senesced_leaf" description="Weight of senesced leaf" array="?" />
        <variable name="lucerne.dm_senesced_stem" description="Weight of senesced stem" array="?" />
        <variable name="lucerne.dm_dead_stem" description="Weight of dead stem" array="?" />
        <variable name="lucerne.dm_dead_leaf" description="Weight of dead leaf" array="?" />
      </variables>
      <events name="My Variables Events">
        <event name="clock.post" description="End of daily simulation time step" />
      </events>
    </outputfile>
    <manager name="Manager">
      <rule name="Sow on a fixed date">
        <condition name="start_of_day">
        if (today = date('[date]') then
              [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing]
         endif
               </condition>
        <category name="Sowing criteria">
          <date type="text" description="Enter sowing date (dd-mmm) : ">1/07/1995</date>
        </category>
        <category name="Sowing parameters">
          <crop type="crop" description="Enter name of crop to sow : ">lucerne</crop>
          <density type="text" description="Enter sowing density  (plants/m2) : ">100</density>
          <depth type="text" description="Enter sowing depth  (mm) : ">50</depth>
          <cultivar type="cultivars" croppropertyname="crop" description="Enter cultivar : ">sceptre</cultivar>
          <row_spacing type="text" description="Enter row spacing (mm) : ">500</row_spacing>
        </category>
      </rule>
      <rule name="Buy sheep on feed-on-offer">
        <condition name="init">
               sheep_presence = 'off'
            </condition>
        <condition name="start_of_day"><![CDATA[
        if ([herbage_module].biomass >= [buy_feed_on_offer] AND sheep_presence = 'off') then
           [stockmodule] buystock number = [buy_number] (-), genotype = '[genotype]', sex = [sex], age = [buy_age] (months), weight = [buy_weight] (kg)
           sheep_presence = 'on'
         endif
               ]]></condition>
        <category name="Buy properties">
          <stockmodule type="modulename" description="Name of stock converter module : ">StockScienceConverter</stockmodule>
          <genotype type="list" listvalues="black face x white face,border leicester, border leicester x merino,columbia,corriedale,delaine-merino,dorset x merino,dorset,finnsheep,hampshire,large merino,medium merino,small merino,polwarth,polypay,romney,ryeland,southdown,suffolk,targhee,texel,US corriedale,US romney,US southdown,US suffolk" description="Select Genotype : ">suffolk</genotype>
          <herbage_module type="modulename" description="Module supplying herbage : ">lucerne</herbage_module>
          <buy_feed_on_offer type="text" description="Feed on offer (kg/ha) : ">200</buy_feed_on_offer>
          <buy_number type="text" description="Number of stock : ">15</buy_number>
          <sex type="list" listvalues="ewe,wether,ram,crypto" description="Select sex : ">wether</sex>
          <buy_age type="text" description="Age (months) : ">12</buy_age>
          <buy_weight type="text" description="Weight (kg) : ">45</buy_weight>
        </category>
      </rule>
      <rule name="Sell sheep on weight">
        <condition name="start_of_day"><![CDATA[
        if ((stock.weight >= [sell_on_weight_gain] OR stock.weight <= [sell_on_weight_loss]) AND sheep_presence = 'on') then
           [stockmodule] sellstock number = [sell_number] (-)
           sheep_presence = 'off'
        endif
               ]]></condition>
        <category name="Sell properties">
          <stockmodule type="modulename" description="Name of stock converter module : ">StockScienceConverter</stockmodule>
          <sell_on_weight_gain type="text" description="Weight (gaining) : ">50</sell_on_weight_gain>
          <sell_on_weight_loss type="text" description="Weight (losing) : ">40</sell_on_weight_loss>
          <sell_number type="text" description="Number of stock : ">15</sell_number>
        </category>
      </rule>
      <rule name="Buy supplement on a fixed date">
        <condition name="start_of_day">
        if (today = date('[buy_date]') then
           [supplementmodule] buysupplement supplement = [buy_name] (-), amount = [buy_amount] (kg)
         endif
               </condition>
        <category name="Buy properties">
          <supplementmodule type="modulename" description="Name of supplement converter module : ">SupplementScienceConverter</supplementmodule>
          <buy_date type="text" description="Date (dd-mmm) : ">1-jan</buy_date>
          <buy_name type="list" listvalues="'barley- crushed','barley- whole','barley straw','beans- field','bran','brewers grains','canola meal','canola straw','citrus pulp- dry','coconut meal','cottonseed- whole','cottonseed meal','fish meal','groundnut meal','hay','lucerne pellets','lupins','linseed meal','maize','maize bran','maize gluten fd','maize straw','molasses','oats- crushed','oats- whole','oat bran','oat chaff','oat straw','peas','pea pod meal','pea straw','pellets','rice- crushed','rice- whole','rice bran','rice straw','rye','safflower meal','silage','sorghum','sorghum- whole','soya bean meal','sunflower meal','tallow','triticale- crushed','triticale- whole','urea','vetch grain','wheat- crushed','wheat- whole','wheat chaff','wheat pollard','wheat straw'" description="Name of the supplement to purchase : ">'lupins'</buy_name>
          <buy_amount type="text" description="Fresh weight of supplement to purchase (kg) : ">1000</buy_amount>
        </category>
      </rule>
      <rule name="Feed supplement on animal condition loss">
        <condition name="init">
         FALSE = 0
         TRUE = 1
         feeding = FALSE
         feed_rate = 0.0     ! Rate of feeding in kg FW/day
         crit_cs = 0.0
         feed_rate_factor = 0.2
         est_lag_days = 10.0 / feed_rate_factor
         initial_feed_rate = 0.0
            </condition>
        <condition name="start_of_day"><![CDATA[
         dlt_cond_score = cond_score_all - yest_cond_score_all
         yest_cond_score_all = cond_score_all
            if (feeding = TRUE AND cond_score_all = 0.0) then
               crit_cs = 0.0
               feeding = FALSE
            endif

            if (dlt_cond_score[[days]] < [crit_condition_change] AND crit_cs <= 0.0) then
               crit_cs = cond_score_all
            endif
            if ((feeding = FALSE) AND (cond_score_all < crit_cs)) then
               feeding = TRUE
               feed_rate = initial_feed_rate
            else
               ! leave feeding as is
            endif

            if (feeding = TRUE) then
               feed_rate = feed_rate - feed_rate_factor * (cond_score_all + dlt_cond_score*est_lag_days - crit_cs)
               if (feed_rate > [max_feed_rate]) then
                  feed_rate = [max_feed_rate]
               elseif (feed_rate < 0.0) then
                  feed_rate = 0.0
               endif
               if (feed_rate > 0) then
                   feed_amount = feed_rate * number_all
                   [supplementmodule] feedsupplement  supplement = [feed_name], amount = feed_amount
               else
                  feed_rate = 0.0
               endif
            else
               feed_rate = 0.0
            endif

               ]]></condition>
        <category name="Feed properties">
          <supplementmodule type="modulename" description="Name of supplement converter module : ">SupplementScienceConverter</supplementmodule>
          <days type="text" description="Number of days to sum condition change : ">5</days>
          <crit_condition_change type="text" description="Critical condition change needed to start feeding (kg/head) : ">0.0</crit_condition_change>
          <max_feed_rate type="text" description="Maximum rate of feeding in kg FW/day; 1.0 is sensible for sheep : ">1.0</max_feed_rate>
          <feed_name type="list" listvalues="'barley- crushed','barley- whole','barley straw','beans- field','bran','brewers grains','canola meal','canola straw','citrus pulp- dry','coconut meal','cottonseed- whole','cottonseed meal','fish meal','groundnut meal','hay','lucerne pellets','lupins','linseed meal','maize','maize bran','maize gluten fd','maize straw','molasses','oats- crushed','oats- whole','oat bran','oat chaff','oat straw','peas','pea pod meal','pea straw','pellets','rice- crushed','rice- whole','rice bran','rice straw','rye','safflower meal','silage','sorghum','sorghum- whole','soya bean meal','sunflower meal','tallow','triticale- crushed','triticale- whole','urea','vetch grain','wheat- crushed','wheat- whole','wheat chaff','wheat pollard','wheat straw'" description="Name of the supplement to purchase : ">'lupins'</feed_name>
        </category>
      </rule>
    </manager>
    <surfaceom name="Surface Organic Matter">
      <PoolName description="Organic Matter pool name">wheat_stubble</PoolName>
      <type description="Organic Matter type">wheat</type>
      <mass description="Initial surface residue (kg/ha)">1000.</mass>
      <cnr description="C:N ratio of initial residue">80.0</cnr>
      <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
    </surfaceom>
    <lucerne />
    <stock>
      <sheep>
        <genotypename>medium merino</genotypename>
        <number>0</number>
        <sex type="list" listvalues="ewe,wether,ram,crypto">wether</sex>
        <age>730.0</age>
        <weight>50.0</weight>
        <max_prev_wt>50.0</max_prev_wt>
        <fleece_wt>6.0</fleece_wt>
        <fibre_diam>20.0</fibre_diam>
        <mated_to />
        <pregnant>0</pregnant>
        <lactating>0</lactating>
        <no_young>0</no_young>
        <birth_cs>0.0</birth_cs>
        <lamb_wt>0.0</lamb_wt>
        <lamb_fleece_wt>0.0</lamb_fleece_wt>
        <paddock />
        <tag>0</tag>
        <priority>0</priority>
      </sheep>
      <stockgenotype name="Medium Merino Genotype">
        <genotypename>medium merino</genotypename>
        <dam_breed>medium merino</dam_breed>
        <sire_breed>medium merino</sire_breed>
        <generation>0</generation>
        <srw>50.0</srw>
        <conception1>0.8</conception1>
        <conception2>0.15</conception2>
        <death_rate>0.02</death_rate>
        <ref_fleece_wt>4.5</ref_fleece_wt>
        <max_fibre_diam>19.0</max_fibre_diam>
        <fleece_yield>0.7</fleece_yield>
        <peak_milk>25.0</peak_milk>
      </stockgenotype>
    </stock>
    <StockScienceConverter>
      <debug type="list" listvalues="on,off">off</debug>
      <stock_module type="modulename">stock</stock_module>
      <conversion_model>nonherbage</conversion_model>
      <fraction_faeces_added>0.5</fraction_faeces_added>
      <fraction_urine_added>0.5</fraction_urine_added>
    </StockScienceConverter>
    <StockHerbageConverter>
      <debug type="list" listvalues="on,off">off</debug>
      <conversion_model>herbage</conversion_model>
      <herbage_model>plant</herbage_model>
      <herbage_module_name type="modulename">lucerne</herbage_module_name>
    </StockHerbageConverter>
    <FarmwiseSequencerConverter name="FarmwiseSequencer" />
    <Soil name="SampleBlackEarth">
      <region>South East Queensland</region>
      <site>Generic</site>
      <SoilType>Black Vertosol</SoilType>
      <comment>estimated cotton LL</comment>
      <Water>
        <U>6</U>
        <Cona>3.5</Cona>
        <Salb>0.13</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <layer name="1">
          <thickness>150</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.14</airdry>
          <dul>0.54</dul>
          <sat>0.59</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="2">
          <thickness>150</thickness>
          <bd>1.03</bd>
          <ll15>0.29</ll15>
          <airdry>0.26</airdry>
          <dul>0.53</dul>
          <sat>0.58</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="3">
          <thickness>300</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.29</airdry>
          <dul>0.54</dul>
          <sat>0.59</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="4">
          <thickness>300</thickness>
          <bd>1.02</bd>
          <ll15>0.29</ll15>
          <airdry>0.29</airdry>
          <dul>0.54</dul>
          <sat>0.58</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="5">
          <thickness>300</thickness>
          <bd>1.06</bd>
          <ll15>0.3</ll15>
          <airdry>0.3</airdry>
          <dul>0.52</dul>
          <sat>0.57</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="6">
          <thickness>300</thickness>
          <bd>1.11</bd>
          <ll15>0.31</ll15>
          <airdry>0.31</airdry>
          <dul>0.5</dul>
          <sat>0.55</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="7">
          <thickness>300</thickness>
          <bd>1.12</bd>
          <ll15>0.32</ll15>
          <airdry>0.32</airdry>
          <dul>0.5</dul>
          <sat>0.55</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="8">
          <thickness>300</thickness>
          <bd>1.15</bd>
          <ll15>0.33</ll15>
          <airdry>0.33</airdry>
          <dul>0.48</dul>
          <sat>0.53</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="9">
          <thickness>300</thickness>
          <bd>1.18</bd>
          <ll15>0.34</ll15>
          <airdry>0.34</airdry>
          <dul>0.47</dul>
          <sat>0.52</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="10">
          <thickness>300</thickness>
          <bd>1.2</bd>
          <ll15>0.35</ll15>
          <airdry>0.35</airdry>
          <dul>0.46</dul>
          <sat>0.51</sat>
          <swcon>0.3</swcon>
        </layer>
        <layer name="11">
          <thickness>300</thickness>
          <bd>1.25</bd>
          <ll15>0.36</ll15>
          <airdry>0.36</airdry>
          <dul>0.44</dul>
          <sat>0.49</sat>
          <swcon>0.3</swcon>
        </layer>
      </Water>
      <Nitrogen>
        <RootCN>40</RootCN>
        <RootWT>200</RootWT>
        <SoilCN>12.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <layer name="1">
          <fbiom>0.025</fbiom>
          <finert>0.4</finert>
          <oc>1.04</oc>
          <ph>8.4</ph>
        </layer>
        <layer name="2">
          <fbiom>0.02</fbiom>
          <finert>0.6</finert>
          <oc>0.89</oc>
          <ph>8.8</ph>
        </layer>
        <layer name="3">
          <fbiom>0.015</fbiom>
          <finert>0.8</finert>
          <oc>0.89</oc>
          <ph>9</ph>
        </layer>
        <layer name="4">
          <fbiom>0.01</fbiom>
          <finert>0.9</finert>
          <oc>0.89</oc>
          <ph>9.2</ph>
        </layer>
        <layer name="5">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.77</oc>
          <ph>9.2</ph>
        </layer>
        <layer name="6">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.45</oc>
          <ph>9.1</ph>
        </layer>
        <layer name="7">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.27</oc>
          <ph>9</ph>
        </layer>
        <layer name="8">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.22</oc>
          <ph>9</ph>
        </layer>
        <layer name="9">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.16</oc>
          <ph>8.9</ph>
        </layer>
        <layer name="10">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.13</oc>
          <ph>8.9</ph>
        </layer>
        <layer name="11">
          <fbiom>0.01</fbiom>
          <finert>0.95</finert>
          <oc>0.12</oc>
          <ph>8.9</ph>
        </layer>
      </Nitrogen>
      <WaterFormat>VolumetricPercent</WaterFormat>
      <InitWater>
        <layer name="1">
          <sw>0.54</sw>
        </layer>
        <layer name="2">
          <sw>0.53</sw>
        </layer>
        <layer name="3">
          <sw>0.54</sw>
        </layer>
        <layer name="4">
          <sw>0.54</sw>
        </layer>
        <layer name="5">
          <sw>0.52</sw>
        </layer>
        <layer name="6">
          <sw>0.5</sw>
        </layer>
        <layer name="7">
          <sw>0.5</sw>
        </layer>
        <layer name="8">
          <sw>0.48</sw>
        </layer>
        <layer name="9">
          <sw>0.47</sw>
        </layer>
        <layer name="10">
          <sw>0.46</sw>
        </layer>
        <layer name="11">
          <sw>0.44</sw>
        </layer>
      </InitWater>
      <other>
        <layer name="1">
          <ec>0.2</ec>
        </layer>
        <layer name="2">
          <ec>0.25</ec>
        </layer>
        <layer name="3">
          <ec>0.31</ec>
        </layer>
        <layer name="4">
          <ec>0.4</ec>
        </layer>
        <layer name="5">
          <ec>0.59</ec>
        </layer>
        <layer name="6">
          <ec>0.84</ec>
        </layer>
        <layer name="7">
          <ec>0.93</ec>
        </layer>
        <layer name="8">
          <ec>1.01</ec>
        </layer>
        <layer name="9">
          <ec>1.06</ec>
        </layer>
        <layer name="10">
          <ec>1.05</ec>
        </layer>
        <layer name="11">
          <ec>1.01</ec>
        </layer>
      </other>
      <InitNitrogen>
        <layer name="1">
          <no3>6.5</no3>
          <nh4>0.6</nh4>
        </layer>
        <layer name="2">
          <no3>2.1</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="3">
          <no3>2.1</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="4">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="5">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="6">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="7">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="8">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="9">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="10">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
        <layer name="11">
          <no3>1.7</no3>
          <nh4>0.1</nh4>
        </layer>
      </InitNitrogen>
      <SoilCrop name="wheat">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="barley">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.38</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.39</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.39</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="canola">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Chickpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.36</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.43</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.51</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.5</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.5</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Lucerne">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.3</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.31</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.32</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.33</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="9">
          <ll>0.34</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="10">
          <ll>0.35</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="11">
          <ll>0.36</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Maize">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.34</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.34</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.37</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.42</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Perennial Grass">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.39</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.41</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.4</ll>
          <kl>0.09</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.07</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.05</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.41</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.4</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.4</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.42</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sorghum">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.35</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.38</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.4</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.4</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.4</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Cowpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Fababean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Mungbean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Navybean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Peanut">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Pigeonpea">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Soybean">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Stylo">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sugar">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Sunflower">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Lablab">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.32</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.32</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.35</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.38</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.41</ll>
          <kl>0.01</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
      <SoilCrop name="Cotton">
        <layer name="1">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="2">
          <ll>0.29</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="3">
          <ll>0.35</ll>
          <kl>0.1</kl>
          <xf>1</xf>
        </layer>
        <layer name="4">
          <ll>0.36</ll>
          <kl>0.08</kl>
          <xf>1</xf>
        </layer>
        <layer name="5">
          <ll>0.38</ll>
          <kl>0.06</kl>
          <xf>1</xf>
        </layer>
        <layer name="6">
          <ll>0.39</ll>
          <kl>0.04</kl>
          <xf>1</xf>
        </layer>
        <layer name="7">
          <ll>0.39</ll>
          <kl>0.02</kl>
          <xf>1</xf>
        </layer>
        <layer name="8">
          <ll>0.48</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="9">
          <ll>0.47</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="10">
          <ll>0.46</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
        <layer name="11">
          <ll>0.44</ll>
          <kl>0</kl>
          <xf>0</xf>
        </layer>
      </SoilCrop>
    </Soil>
    <SupplementScienceConverter>
      <debug type="list" listvalues="on,off">off</debug>
      <supplement_module type="modulename">supplement</supplement_module>
    </SupplementScienceConverter>
    <supplement>
      <spoilage_time>0.0</spoilage_time>
      <supplementstore name="Wheat Store">
        <name>wheat</name>
        <stored>10000000</stored>
        <roughage>false</roughage>
        <dm_content>0.89</dm_content>
        <dmd>0.9</dmd>
        <me_content>13.8</me_content>
        <cp_conc>0.14</cp_conc>
        <prot_dg>0.92</prot_dg>
        <p_conc>0.0038</p_conc>
        <s_conc>0.0014</s_conc>
        <ee_conc>0.02</ee_conc>
        <adip2cp>0.02</adip2cp>
        <ash_alk>0.18</ash_alk>
        <max_passage>0.0</max_passage>
      </supplementstore>
    </supplement>
    <accum name="accum">
      <variable name="variable">dlt_cond_score[20]</variable>
    </accum>
  </simulation>
  <simulation name="Continuous Maize Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/06/1995</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">1/05/2000</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Maize Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">C:\Program Files\Apsim51\apsim\met\sample\hre.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Harvesting rule for intercropping">
          <condition name="init">
          crop_to_harvest = 'nil'
      </condition>
          <condition name="end_of_day">
         if (crop_to_harvest = '[crop]') then
            [crop] harvest, remove=[fraction_to_remove]
            [crop] kill_crop
            [crop] end_crop
                  crop_in = crop_in - 1
            crop_to_harvest = 'nil'
            fert_tot = 0
            sow_year = 0
            if (crop_current = '[crop]') then
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current1 = '[crop]') then
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current2 = '[crop]') then
               crop_current2 = blank
            endif
         endif

         if ([crop].stage_name = 'harvest_ripe' OR [crop].plant_status = 'dead') then
            crop_to_harvest = '[crop]'
         endif
         </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">maize</crop>
            <fraction_to_remove type="text" description="Enter fraction of stover to remove : ">0.95</fraction_to_remove>
          </category>
        </rule>
        <rule name="Output at harvest for intercropping">
          <condition name="end_of_day">
         if (crop_to_harvest = '[crop]') then
            outputfile do_output
         endif
         </condition>
          <category name="Output criteria">
            <crop type="crop" description="Enter name of crop to output at harvest : ">maize</crop>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0
         </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
         </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop description="Name of this crop" type="crop">maize</crop>
            <cultivar1 description="Enter cultivar" type="cultivars" croppropertyname="crop">sc401</cultivar1>
            <cropmethod description="Method of cropping" type="list" listvalues="sole,intercrop">sole</cropmethod>
            <rotation_exclude description="Exclude from rotation sequence" type="yesno">no</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 description="Enter sowing window START date (dd-mmm)" type="ddmmmdate">1-nov</date1>
            <date2 description="Enter sowing window END date (dd-mmm)" type="ddmmmdate">30-dec</date2>
            <must_sow description="Must Sow" type="yesno">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">20</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">5</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">2.2</density>
            <depth description="Enter sowing depth  (mm)">100</depth>
            <row_spacing description="Enter row spacing  (mm) (m for maize)" type="text">0.9</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow description="Amount of starter fertiliser at sowing (kg/ha)" type="text">0</fert_amount_sow>
            <fert_type_sow description="Type" type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress description="Enter number of days after sowing to apply top-dress fertiliser (days)" type="text">35</fert_days_TopDress>
            <fert_amount_TopDress description="Amount of TopDress fertiliser (kg/ha)" type="text">27</fert_amount_TopDress>
            <fert_type_TopDress description="Type" type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" moduletype="surfaceom" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow description="Enter number of days before window to apply pre-crop manure (days)" type="text">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" moduletype="surfaceom" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type description="Planter type" type="list" listvalues="user_defined, planter">user_defined</planter_type>
            <planter_depth description="User_defined depth of seedbed preparation (mm)" type="text">150</planter_depth>
            <thin_fraction description="Enter fraction of weed population killed (0-1)" type="text">1.0</thin_fraction>
            <planter_f_incorp description="User_defined fraction of surface residues to incorporate (0-1)" type="text">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Remove all residues on a fixed date">
          <condition name="start_of_day">
         if today = date('[date]') then
            '[surfaceommodule]' tillage type = user_defined, f_incorp = 1.0 (), tillage_depth = 0.0 ()
         endif
         </condition>
          <category name="Removal criteria">
            <date description="Date to remove residues (dd-mmm) :" type="ddmmmdate">1-may</date>
            <surfaceommodule type="modulename" moduletype="surfaceom" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type description="Organic Matter type">wheat</type>
        <mass description="Initial surface residue (kg/ha)">0</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <filename name="filename">Continuous Maize Simulation.out</filename>
        <variables name="My Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="esw" description="Extractable Soil Water (mm)" VariableType="Water" array="?" />
          <variable name="day" description="Day" array="?" />
          <variable name="year" description="Year" array="?" />
          <variable name="maize.yield" description="Maize Yield (kg/ha)" array="?" />
          <variable name="maize.stover" description="Maize Stover (kg/ha)" array="?" />
          <variable name="maize.biomass" description="Maize Total Above Ground Biomass (kg/ha)" array="?" />
        </variables>
        <events name="My Variables Events" />
      </outputfile>
      <soil name="Zimbabwe Fertile Luvisol (187mm PAWC)">
        <Water>
          <Cona>2.5</Cona>
          <U>9</U>
          <CN2Bare>75</CN2Bare>
          <Salb>0.13</Salb>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35.4</DiffusSlope>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <layer name="1">
            <thickness>100</thickness>
            <ll15>0.11</ll15>
            <airdry>0.04</airdry>
            <dul>0.22</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="2">
            <thickness>100</thickness>
            <ll15>0.14</ll15>
            <airdry>0.14</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="3">
            <thickness>100</thickness>
            <ll15>0.16</ll15>
            <airdry>0.15</airdry>
            <dul>0.27</dul>
            <sat>0.32</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="4">
            <thickness>200</thickness>
            <ll15>0.17</ll15>
            <airdry>0.16</airdry>
            <dul>0.28</dul>
            <sat>0.33</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="5">
            <thickness>200</thickness>
            <ll15>0.19</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="6">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="7">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.36</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="8">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.32</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="9">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="10">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
        </Water>
        <SoilCrop name="sorg">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="cowpea">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="maize">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="mucuna">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="peanut">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="pigeonp">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="soybean">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <Nitrogen>
          <RootCN>45</RootCN>
          <RootWT>1000</RootWT>
          <SoilCN>14.5</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <ph>6</ph>
            <oc>1.2</oc>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
          </layer>
          <layer name="2">
            <ph>6</ph>
            <oc>1</oc>
            <fbiom>0.01</fbiom>
            <finert>0.65</finert>
          </layer>
          <layer name="3">
            <ph>6</ph>
            <oc>0.86</oc>
            <fbiom>0.01</fbiom>
            <finert>0.7</finert>
          </layer>
          <layer name="4">
            <ph>6.2</ph>
            <oc>0.83</oc>
            <fbiom>0.01</fbiom>
            <finert>0.75</finert>
          </layer>
          <layer name="5">
            <ph>6.5</ph>
            <oc>0.58</oc>
            <fbiom>0.01</fbiom>
            <finert>0.8</finert>
          </layer>
          <layer name="6">
            <ph>6.7</ph>
            <oc>0.54</oc>
            <fbiom>0.01</fbiom>
            <finert>0.85</finert>
          </layer>
          <layer name="7">
            <ph>6.8</ph>
            <oc>0.47</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="8">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="9">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="10">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
        </Nitrogen>
        <InitNitrogen>
          <layer name="1">
            <no3>0.237</no3>
            <nh4>0.194</nh4>
          </layer>
          <layer name="2">
            <no3>0.712</no3>
            <nh4>0.484</nh4>
          </layer>
          <layer name="3">
            <no3>0.712</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="4">
            <no3>0.554</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="5">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="6">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="7">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="8">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="9">
            <no3>0.158</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="10">
            <no3>0.079</no3>
            <nh4>0.290</nh4>
          </layer>
        </InitNitrogen>
        <InitWater>
          <PercentMethod>
            <Percent>0.00</Percent>
            <Distributed>Filled from top</Distributed>
          </PercentMethod>
        </InitWater>
      </soil>
      <maize />
    </area>
  </simulation>
  <simulation name="Continuous Maize and Weeds Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="2/11/1961" ubound="31/01/2001">1/06/1995</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="2/11/1961" ubound="31/01/2001">1/05/2000</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Maize and Weeds Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">C:\Program Files\Apsim51\apsim\met\sample\hre.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Harvesting rule for intercropping">
          <condition name="init">
          [crop]_to_harvest = 0
      </condition>
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            [crop] harvest, remove=[fraction_to_remove]
            [crop] kill_crop
            [crop] end_crop
                  crop_in = crop_in - 1
            [crop]_to_harvest = 0
            fert_tot = 0
            sow_year = 0
            if (crop_current = '[crop]') then
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current1 = '[crop]') then
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current2 = '[crop]') then
               crop_current2 = blank
            endif
         endif

         if ([crop].stage_name = 'harvest_ripe' OR [crop].plant_status = 'dead') then
            [crop]_to_harvest = 1
         endif
      </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">maize</crop>
            <fraction_to_remove type="text" description="Enter fraction of stover to remove : ">0.95</fraction_to_remove>
          </category>
        </rule>
        <rule name="Output at harvest for intercropping">
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            outputfile do_output
         endif
      </condition>
          <category name="Output criteria">
            <crop type="crop" description="Enter name of crop to output at harvest : ">maize</crop>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
            </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">maize</crop>
            <cultivar1 type="cultivars" croppropertyname="crop" description="Enter cultivar">sc401</cultivar1>
            <cropmethod type="list" listvalues="sole,intercrop" description="Method of cropping">intercrop</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">yes</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">1-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">30-dec</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">20</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">5</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">2.2</density>
            <depth description="Enter sowing depth  (mm)">100</depth>
            <row_spacing type="text" description="Enter row spacing  (mm) (m for maize)">0.9</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha)">0</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress type="text" description="Enter number of days after sowing to apply top-dress fertiliser (days)">35</fert_days_TopDress>
            <fert_amount_TopDress type="text" description="Amount of TopDress fertiliser (kg/ha)">27</fert_amount_TopDress>
            <fert_type_TopDress type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow type="text" description="Enter number of days before window to apply pre-crop manure (days)">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type type="list" listvalues="user_defined, planter" description="Planter type">user_defined</planter_type>
            <planter_depth type="text" description="User_defined depth of seedbed preparation (mm)">150</planter_depth>
            <thin_fraction type="text" description="Enter fraction of weed population killed (0-1)">1.0</thin_fraction>
            <planter_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Sow WEEDS using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_fert_pre_sow = 0
         days_last_year = 365
         fert_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="process"><![CDATA[
               if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then


                  if (today = date('[date2]')) then
                     if ('[rotation_exclude]' = 'no') then
                        ready_for_next = 1
                     endif
                  endif

                  if (wd_sow_opp_num > 0) then
                     wd_sow_opp_days = wd_sow_opp_days + 1
                  else
                  endif

                  if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
                      AND weed.plant_status = 'out')
                      AND days_after_weed_kill > 0) then
                        if (date_within('[date1], [date2]') = 1) then
                           crop_sow = 'waiting'
                           surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                           if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                                 (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                               ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                              if (wd_sow_opp_days >= [rain_days] OR wd_sow_opp_num = 0) then
                                 wd_sow_opp_num = wd_sow_opp_num + 1
                                 wd_sow_opp_days = 0
                              endif

                              if ((wd_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                                 if (date_within('[date1], [date_ch1]') = 1) then
                                    weed sow crop_class = [cla], plants = [density] (plants/m2), sowing_depth = [depth], cultivar = [cultivar1], row_spacing = [row_spacing]
                                 else
                                    weed sow crop_class = [cla], plants = [density] (plants/m2), sowing_depth = [depth], cultivar = [cultivar2], row_spacing = [row_spacing]
                                 endif
                                 crop_in = crop_in + 1
                                 if ('[rotation_exclude]' = 'no') then
                                    ready_for_next = 1
                                 endif
                                 crop_current2 = crop_current1
                                 crop_current1 = crop_current
                                 crop_current = '[crop]'
                                 crop_sow = '[crop]'
                              else
                                 !not this opportunity
                              endif
                        endif
                     endif
                  endif
               endif
                           ]]></condition>
          <condition name="end_of_day"><![CDATA[

               days_after_weed_kill = days_after_weed_kill + 1

               if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
                  !   Tillage - presowing seedbed preparation
                  if ( [till_days_pre_sow] > 0) then
                     ! calculate presowing tillage date
                     till_day_pre_sow = date('[date1]') - [till_days_pre_sow]
                     ! Need to correct for possible year boundary condition
                     if (till_day_pre_sow < today) then
                        till_day_pre_sow = days_this_year + till_day_pre_sow
                     endif
                     if (today = till_day_pre_sow) then
                        ready_to_till_pre_sow = 1
                     endif
                     if ((crop_in = 0 OR '[must_till]' = 'yes') AND (ready_to_till_pre_sow = 1)) then
                        ! tillage
                        if (weed.plant_status <> 'out') then
                           weed harvest, remove=[fraction]
                           weed kill_crop
                           weed end_crop
                           crop_in = crop_in - 1
                          if (crop_current = 'weed') then
                              crop_current = crop_current1
                              crop_current1 = crop_current2
                              crop_current2 = blank
                           elseif (crop_current1 = 'weed') then
                              crop_current1 = crop_current2
                              crop_current2 = blank
                           elseif (crop_current2 = 'weed') then
                              crop_current2 = blank
                           endif
                        endif
                     endif
                  endif
               endif


               if (date_within('[date1], [date2]') = 1) THEN
               else
                  wd_sow_opp_num = 0
                  wd_sow_opp_days = 0
               endif

            ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">weed</crop>
            <cultivar1 type="list" listvalues="late, early" description="Enter first type"> early</cultivar1>
            <cla type="list" listvalues="winter_grass, winter_dicot, summer_grass, perennial_legume" description="Enter class type "> summer_grass</cla>
            <date_ch1 type="ddmmmdate" description="Enter type change date (dd-mmm)">1-jul</date_ch1>
            <cultivar2 type="list" listvalues="late, early" description="Enter second type">late</cultivar2>
            <cropmethod type="list" listvalues="sole, intercrop" description="Method of cropping">intercrop</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">yes</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">01-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">30-apr</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount type="text" description="Enter amount of rainfall (mm)">10</rain_amount>
            <rain_days type="text" description="Enter number of days of rainfall (days)">5</rain_days>
            <esw_amount type="text" description="Enter amount of soil water (mm)">5</esw_amount>
            <sow_opp type="text" description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up type="text" description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low type="text" description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density type="text" description="Enter sowing density  (plants/m2)">5</density>
            <depth type="text" description="Enter sowing depth  (mm)">15</depth>
            <row_spacing type="text" description="Enter row spacing  (mm)">350</row_spacing>
          </category>
          <category name="Seed-bed Tillage Preparation">
            <till_days_pre_sow type="text" description="Enter number of days before window to prepare seed-bed (days)">0</till_days_pre_sow>
            <must_till type="yesno" description="Must Till">no</must_till>
            <tillage_type type="list" listvalues="user_defined, chisel, disc, planter,burn, burn_90, graze, scarifier, rip, blade, tine" description="Tillage type">disc</tillage_type>
            <tillage_depth type="text" description="User_defined depth of seedbed preparation (mm)">100</tillage_depth>
            <tillage_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</tillage_f_incorp>
            <fraction type="text" description="Enter biomass removal fraction of growing weeds from field (0-1)">0.0</fraction>
          </category>
        </rule>
        <rule name="Weeding at threshold weed biomass or maximum days">
          <condition name="init">
          daemerge = 0
      </condition>
          <condition name="end_of_day"><![CDATA[
         if ((crop_in >= 1)
            AND (weed.plant_status <> 'out')) then
            if (weed.stage >= 3.0) then
               daemerge = daemerge + 1
            endif

            if (weed.biomass > [weed_biomass] OR daemerge >= [weed_interval]) then
               if ((crop_in > 1 AND [weed_maxno_in] > weed_count_in) OR (crop_in = 1 AND [weed_maxno_out] > weed_count_out)) then
                  if (crop_in > 1) then
                     weed_count_in = weed_count_in + 1
                  elseif (crop_in = 1) then
                     weed_count_out = weed_count_out + 1
                  endif
                  weed harvest, remove = [fraction]
                  weed kill_crop plants_kill_fraction = [thin_fraction]
                  if ([thin_fraction] = 1.0) then
                     weed end_crop
                     days_after_weed_kill = 0
                 else
                  endif
                  '[surfaceommodule]' tillage type = [tillage_type], f_incorp = [f_incorp], tillage_depth = [tillage_depth]
                  if ([thin_fraction] = 1.0) then
                    crop_in = crop_in - 1
                    if (crop_current = 'weed') then
                        crop_current = crop_current1
                        crop_current1 = crop_current2
                        crop_current2 = blank
                     elseif (crop_current1 = 'weed') then
                        crop_current1 = crop_current2
                        crop_current2 = blank
                     elseif (crop_current2 = 'weed') then
                        crop_current2 = blank
                     endif
                     daemerge = 0
                  else
                  endif
               else
               endif
            else
            endif
         else
            daemerge = 0
         endif

         if (((crop_in = 1)
            AND (weed.plant_status <> 'out'))
            OR (crop_in = 0)) then
            weed_count_in = 0
         else
            weed_count_out = 0
         endif
      ]]></condition>
          <category name="Weeding properties">
            <weed_interval type="text" description="Maximum days after emergence to weed (days) : ">35</weed_interval>
            <weed_biomass type="text" description="Weeding biomass threshold to weed (kg/ha) : ">5000</weed_biomass>
            <weed_maxno_in type="text" description="Maximum number of in-crop weedings (1..n) : ">1</weed_maxno_in>
            <weed_maxno_out type="text" description="Maximum number of fallow weedings (1..n) : ">0</weed_maxno_out>
            <thin_fraction type="text" description="Enter fraction of weed population weeded (0-1) : ">1.0</thin_fraction>
            <fraction type="text" description="Enter biomass removal fraction from field (0-1) : ">0.0</fraction>
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <tillage_type type="text" description="Enter name of tillage type : ">user_defined</tillage_type>
            <f_incorp type="text" description="Enter fraction of surface residues incorporated into soil (0-1) : ">0.1</f_incorp>
            <tillage_depth type="text" description="Enter depth of incorporation of surface residues (mm) : ">25</tillage_depth>
          </category>
        </rule>
        <rule name="Remove all residues on a fixed date">
          <condition name="start_of_day">
         if today = date('[date]') then
            '[surfaceommodule]' tillage type = user_defined, f_incorp = 0.95 (), tillage_depth = 0.0 ()
         endif
            </condition>
          <category name="Removal criteria">
            <date type="ddmmmdate" description="Date to remove residues (dd-mmm) :">08-may</date>
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">surface organic matter</surfaceommodule>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type description="Organic Matter type">wheat</type>
        <mass description="Initial surface residue (kg/ha)">0</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <filename name="filename">Continuous Maize and Weeds Simulation.out</filename>
        <variables name="My Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="Zimbabwe Fertile Luvisol (187mm PAWC) Water.esw" description="Extractable Soil Water (mm)" array="?" />
          <variable name="day" description="Day" array="?" />
          <variable name="year" description="Year" array="?" />
          <variable name="maize.yield" description="Maize Yield (kg/ha)" array="?" />
          <variable name="maize.stover" description="Maize Stover (kg/ha)" array="?" />
          <variable name="maize.biomass" description="Maize Total Above Ground Biomass (kg/ha)" array="?" />
          <variable name="weed.biomass" description="Biomass" array="No" />
        </variables>
        <events name="My Variables Events" />
      </outputfile>
      <soil name="Zimbabwe Fertile Luvisol (187mm PAWC)">
        <Water>
          <Cona>2.5</Cona>
          <U>9</U>
          <CN2Bare>75</CN2Bare>
          <Salb>0.13</Salb>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35.4</DiffusSlope>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <layer name="1">
            <thickness>100</thickness>
            <ll15>0.11</ll15>
            <airdry>0.04</airdry>
            <dul>0.22</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="2">
            <thickness>100</thickness>
            <ll15>0.14</ll15>
            <airdry>0.14</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="3">
            <thickness>100</thickness>
            <ll15>0.16</ll15>
            <airdry>0.15</airdry>
            <dul>0.27</dul>
            <sat>0.32</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="4">
            <thickness>200</thickness>
            <ll15>0.17</ll15>
            <airdry>0.16</airdry>
            <dul>0.28</dul>
            <sat>0.33</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="5">
            <thickness>200</thickness>
            <ll15>0.19</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="6">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="7">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.36</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="8">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.32</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="9">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="10">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
        </Water>
        <SoilCrop name="sorg">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="cowpea">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="maize">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="mucuna">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="peanut">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="pigeonp">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="soybean">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <Nitrogen>
          <RootCN>45</RootCN>
          <RootWT>1000</RootWT>
          <SoilCN>14.5</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <ph>6</ph>
            <oc>1.2</oc>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
          </layer>
          <layer name="2">
            <ph>6</ph>
            <oc>1</oc>
            <fbiom>0.01</fbiom>
            <finert>0.65</finert>
          </layer>
          <layer name="3">
            <ph>6</ph>
            <oc>0.86</oc>
            <fbiom>0.01</fbiom>
            <finert>0.7</finert>
          </layer>
          <layer name="4">
            <ph>6.2</ph>
            <oc>0.83</oc>
            <fbiom>0.01</fbiom>
            <finert>0.75</finert>
          </layer>
          <layer name="5">
            <ph>6.5</ph>
            <oc>0.58</oc>
            <fbiom>0.01</fbiom>
            <finert>0.8</finert>
          </layer>
          <layer name="6">
            <ph>6.7</ph>
            <oc>0.54</oc>
            <fbiom>0.01</fbiom>
            <finert>0.85</finert>
          </layer>
          <layer name="7">
            <ph>6.8</ph>
            <oc>0.47</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="8">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="9">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="10">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
        </Nitrogen>
        <InitNitrogen>
          <layer name="1">
            <no3>0.237</no3>
            <nh4>0.194</nh4>
          </layer>
          <layer name="2">
            <no3>0.712</no3>
            <nh4>0.484</nh4>
          </layer>
          <layer name="3">
            <no3>0.712</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="4">
            <no3>0.554</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="5">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="6">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="7">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="8">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="9">
            <no3>0.158</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="10">
            <no3>0.079</no3>
            <nh4>0.290</nh4>
          </layer>
        </InitNitrogen>
        <InitWater>
          <PercentMethod>
            <Percent>0.00</Percent>
            <Distributed>Filled from top</Distributed>
          </PercentMethod>
        </InitWater>
        <SoilCrop name="weed">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="6">
            <ll>0.20</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="7">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="8">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="9">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="10">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
        </SoilCrop>
        <WaterFormat>VolumetricPercent</WaterFormat>
      </soil>
      <maize />
      <weed />
      <canopy name="Canopy">
        <intercrop name="intercrop" description="Enter crop names to intercrop" type="text">maize weed</intercrop>
      </canopy>
    </area>
  </simulation>
  <simulation name="Continuous Maize Bimodal Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date">1/06/1995</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date">1/05/2000</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Continuous Maize Bimodal Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">C:\Program Files\Apsim51\apsim\met\sample\hre.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Harvesting rule for intercropping">
          <condition name="init">
          crop_to_harvest = 'nil'
      </condition>
          <condition name="end_of_day">
         if (crop_to_harvest = '[crop]') then
            [crop] harvest, remove=[fraction_to_remove]
            [crop] kill_crop
            [crop] end_crop
                  crop_in = crop_in - 1
            crop_to_harvest = 'nil'
            fert_tot = 0
            sow_year = 0
            if (crop_current = '[crop]') then
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current1 = '[crop]') then
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current2 = '[crop]') then
               crop_current2 = blank
            endif
         endif

         if ([crop].stage_name = 'harvest_ripe' OR [crop].plant_status = 'dead') then
            crop_to_harvest = '[crop]'
         endif
      </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">maize</crop>
            <fraction_to_remove type="text" description="Enter fraction of stover to remove : ">0.95</fraction_to_remove>
          </category>
        </rule>
        <rule name="Output at harvest for intercropping">
          <condition name="end_of_day">
         if (crop_to_harvest = '[crop]') then
            outputfile do_output
         endif
      </condition>
          <category name="Output criteria">
            <crop type="crop" description="Enter name of crop to output at harvest : ">maize</crop>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
            </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">maize</crop>
            <cultivar1 type="cultivars" croppropertyname="crop" description="Enter cultivar">katumani</cultivar1>
            <cropmethod type="list" listvalues="sole,intercrop" description="Method of cropping">sole</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">no</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">10-mar</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">01-may</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">40</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">8</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">2</density>
            <depth description="Enter sowing depth  (mm)">30</depth>
            <row_spacing type="text" description="Enter row spacing  (mm) (m for maize)">1</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha)">0</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress type="text" description="Enter number of days after sowing to apply top-dress fertiliser (days)">35</fert_days_TopDress>
            <fert_amount_TopDress type="text" description="Amount of TopDress fertiliser (kg/ha)">0</fert_amount_TopDress>
            <fert_type_TopDress type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow type="text" description="Enter number of days before window to apply pre-crop manure (days)">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type type="list" listvalues="user_defined, planter" description="Planter type">user_defined</planter_type>
            <planter_depth type="text" description="User_defined depth of seedbed preparation (mm)">150</planter_depth>
            <thin_fraction type="text" description="Enter fraction of weed population killed (0-1)">1.0</thin_fraction>
            <planter_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping{2}">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
            </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">maize</crop>
            <cultivar1 type="cultivars" croppropertyname="crop" description="Enter cultivar">katumani</cultivar1>
            <cropmethod type="list" listvalues="sole,intercrop" description="Method of cropping">sole</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">no</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">10-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">20-nov</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">40</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">8</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">2</density>
            <depth description="Enter sowing depth  (mm)">30</depth>
            <row_spacing type="text" description="Enter row spacing  (mm) (m for maize)">1</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow description="Amount of starter fertiliser at sowing (kg/ha)" type="text">0</fert_amount_sow>
            <fert_type_sow description="Type" type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress description="Enter number of days after sowing to apply top-dress fertiliser (days)" type="text">35</fert_days_TopDress>
            <fert_amount_TopDress description="Amount of TopDress fertiliser (kg/ha)" type="text">27</fert_amount_TopDress>
            <fert_type_TopDress description="Type" type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" moduletype="surfaceom" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow description="Enter number of days before window to apply pre-crop manure (days)" type="text">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" moduletype="surfaceom" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type description="Planter type" type="list" listvalues="user_defined, planter">user_defined</planter_type>
            <planter_depth description="User_defined depth of seedbed preparation (mm)" type="text">150</planter_depth>
            <thin_fraction description="Enter fraction of weed population killed (0-1)" type="text">1.0</thin_fraction>
            <planter_f_incorp description="User_defined fraction of surface residues to incorporate (0-1)" type="text">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Remove all residues on a fixed date">
          <condition name="start_of_day">
         if today = date('[date]') then
            '[surfaceommodule]' tillage type = user_defined, f_incorp = 1.0 (), tillage_depth = 0.0 ()
         endif
            </condition>
          <category name="Removal criteria">
            <date type="ddmmmdate" description="Date to remove residues (dd-mmm) :">1-sep</date>
            <surfaceommodule type="modulename" moduletype="surfaceom" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
          </category>
        </rule>
        <rule name="Remove all residues on a fixed date{2}">
          <condition name="start_of_day">
         if today = date('[date]') then
            '[surfaceommodule]' tillage type = user_defined, f_incorp = 1.0 (), tillage_depth = 0.0 ()
         endif
            </condition>
          <category name="Removal criteria">
            <date type="ddmmmdate" description="Date to remove residues (dd-mmm) :">1-may</date>
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type description="Organic Matter type">wheat</type>
        <mass description="Initial surface residue (kg/ha)">0</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <filename name="filename">Continuous Maize Bimodal Simulation.out</filename>
        <variables name="My Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="Chromic Luvisol, Katumani Research Station (PAWC = 164mm) Water.esw" description="Extractable Soil Water (mm)" array="?" />
          <variable name="day" description="Day" array="?" />
          <variable name="year" description="Year" array="?" />
          <variable name="maize.yield" description="Maize Yield (kg/ha)" array="?" />
          <variable name="maize.stover" description="Maize Stover (kg/ha)" array="?" />
          <variable name="maize.biomass" description="Maize Total Above Ground Biomass (kg/ha)" array="?" />
          <variable name="maize.swdef_expan" description="Maize soil water factor for expansion" array="?" />
          <variable name="maize.swdef_photo" description="Maize soil water factor for photosynthesis" array="?" />
          <variable name="maize.nfact_expan" description="Maize Nitrogen factor for expansion" array="?" />
          <variable name="maize.nfact_photo" description="Maize Nitrogen factor for photosynthesis" array="?" />
          <variable name="maize.grain_no" description="Maize Grain number (g/m2)" array="?" />
          <variable name="Chromic Luvisol, Katumani Research Station (PAWC = 164mm) Nitrogen.no3()" description="NO3 - layered (kg/ha)" array="?" />
        </variables>
        <events name="My Variables Events" />
      </outputfile>
      <maize />
      <soil name="Chromic Luvisol, Katumani Research Station (PAWC = 164mm)">
        <Water>
          <Cona>5</Cona>
          <U>5</U>
          <CN2Bare>80</CN2Bare>
          <Salb>0.13</Salb>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>32</DiffusSlope>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <layer name="1">
            <thickness>150</thickness>
            <ll15>0.15</ll15>
            <airdry>0.11</airdry>
            <dul>0.28</dul>
            <sat>0.32</sat>
            <swcon>0.5</swcon>
            <bd>1.28</bd>
          </layer>
          <layer name="2">
            <thickness>150</thickness>
            <ll15>0.15</ll15>
            <airdry>0.12</airdry>
            <dul>0.28</dul>
            <sat>0.32</sat>
            <swcon>0.5</swcon>
            <bd>1.27</bd>
          </layer>
          <layer name="3">
            <thickness>300</thickness>
            <ll15>0.17</ll15>
            <airdry>0.17</airdry>
            <dul>0.285</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <bd>1.34</bd>
          </layer>
          <layer name="4">
            <thickness>300</thickness>
            <ll15>0.17</ll15>
            <airdry>0.17</airdry>
            <dul>0.27</dul>
            <sat>0.33</sat>
            <swcon>0.3</swcon>
            <bd>1.33</bd>
          </layer>
          <layer name="5">
            <thickness>300</thickness>
            <ll15>0.17</ll15>
            <airdry>0.17</airdry>
            <dul>0.27</dul>
            <sat>0.33</sat>
            <swcon>0.3</swcon>
            <bd>1.31</bd>
          </layer>
          <layer name="6">
            <thickness>300</thickness>
            <ll15>0.17</ll15>
            <airdry>0.17</airdry>
            <dul>0.27</dul>
            <sat>0.33</sat>
            <swcon>0.3</swcon>
            <bd>1.31</bd>
          </layer>
        </Water>
        <InitWater>
          <PercentMethod>
            <Percent>0.25</Percent>
            <Distributed>Filled from top</Distributed>
          </PercentMethod>
        </InitWater>
        <SoilCrop name="sorg">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="cowpea">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="maize">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="mucuna">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="peanut">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="pigeonp">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="soybean">
          <layer name="1">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.15</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.17</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.17</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <Nitrogen>
          <RootCN>45</RootCN>
          <RootWT>400</RootWT>
          <SoilCN>10</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <ph>6</ph>
            <oc>0.92</oc>
            <fbiom>0.02</fbiom>
            <finert>0.5</finert>
          </layer>
          <layer name="2">
            <ph>6</ph>
            <oc>0.77</oc>
            <fbiom>0.015</fbiom>
            <finert>0.75</finert>
          </layer>
          <layer name="3">
            <ph>6.2</ph>
            <oc>0.57</oc>
            <fbiom>0.01</fbiom>
            <finert>0.9</finert>
          </layer>
          <layer name="4">
            <ph>6.4</ph>
            <oc>0.46</oc>
            <fbiom>0.01</fbiom>
            <finert>0.99</finert>
          </layer>
          <layer name="5">
            <ph>6.5</ph>
            <oc>0.43</oc>
            <fbiom>0.01</fbiom>
            <finert>0.99</finert>
          </layer>
          <layer name="6">
            <ph>6.5</ph>
            <oc>0.29</oc>
            <fbiom>0.01</fbiom>
            <finert>0.99</finert>
          </layer>
        </Nitrogen>
        <InitNitrogen>
          <layer name="1">
            <no3>2</no3>
            <nh4>1</nh4>
          </layer>
          <layer name="2">
            <no3>1</no3>
            <nh4>1</nh4>
          </layer>
          <layer name="3">
            <no3>1</no3>
            <nh4>1</nh4>
          </layer>
          <layer name="4">
            <no3>1</no3>
            <nh4>0.5</nh4>
          </layer>
          <layer name="5">
            <no3>1</no3>
            <nh4>0.5</nh4>
          </layer>
          <layer name="6">
            <no3>1</no3>
            <nh4>0.5</nh4>
          </layer>
        </InitNitrogen>
        <Phosphorus>
          <layer name="1">
            <LabileP>4</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>115</Sorption>
          </layer>
          <layer name="2">
            <LabileP>4</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>150</Sorption>
          </layer>
          <layer name="3">
            <LabileP>3</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>160</Sorption>
          </layer>
          <layer name="4">
            <LabileP>3</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>200</Sorption>
          </layer>
          <layer name="5">
            <LabileP>3</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>200</Sorption>
          </layer>
          <layer name="6">
            <LabileP>3</LabileP>
            <BandedP>0</BandedP>
            <RockP>0</RockP>
            <Sorption>200</Sorption>
          </layer>
          <ResidueCP>250</ResidueCP>
          <RootCP>200</RootCP>
          <RateDissolRock>0.2</RateDissolRock>
        </Phosphorus>
      </soil>
    </area>
  </simulation>
  <simulation name="Rotation Maize_Legume and Weeds Simulation">
    <clock name="clock">
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="2/11/1961" ubound="31/01/2001">1/05/1991</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="2/11/1961" ubound="31/01/2001">1/05/2000</end_date>
    </clock>
    <summaryfile name="summaryfile">
      <filename name="filename">Rotation Maize_Legume and Weeds Simulation.sum</filename>
    </summaryfile>
    <metfile name="met">
      <filename name="filename">C:\Program Files\Apsim51\apsim\met\sample\hre.met</filename>
    </metfile>
    <area name="paddock">
      <registrations name="global" />
      <manager name="Manager">
        <rule name="Harvesting rule for intercropping">
          <condition name="init">
          [crop]_to_harvest = 0
      </condition>
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            [crop] harvest, remove=[fraction_to_remove]
            [crop] kill_crop
            [crop] end_crop
                  crop_in = crop_in - 1
            [crop]_to_harvest = 0
            fert_tot = 0
            sow_year = 0
            if (crop_current = '[crop]') then
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current1 = '[crop]') then
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current2 = '[crop]') then
               crop_current2 = blank
            endif
         endif

         if ([crop].stage_name = 'harvest_ripe' OR [crop].plant_status = 'dead') then
            [crop]_to_harvest = 1
         endif
      </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">maize</crop>
            <fraction_to_remove type="text" description="Enter fraction of stover to remove : ">0.95</fraction_to_remove>
          </category>
        </rule>
        <rule name="Output at harvest for intercropping">
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            outputfile do_output
         endif
      </condition>
          <category name="Output criteria">
            <crop type="crop" description="Enter name of crop to output at harvest : ">maize</crop>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
            </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">maize</crop>
            <cultivar1 type="cultivars" croppropertyname="crop" description="Enter cultivar">sc401</cultivar1>
            <cropmethod type="list" listvalues="sole,intercrop" description="Method of cropping">intercrop</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">no</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">1-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">30-dec</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">20</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">5</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">2.2</density>
            <depth description="Enter sowing depth  (mm)">100</depth>
            <row_spacing type="text" description="Enter row spacing  (mm) (m for maize)">0.9</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha)">0</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress type="text" description="Enter number of days after sowing to apply top-dress fertiliser (days)">35</fert_days_TopDress>
            <fert_amount_TopDress type="text" description="Amount of TopDress fertiliser (kg/ha)">27</fert_amount_TopDress>
            <fert_type_TopDress type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow type="text" description="Enter number of days before window to apply pre-crop manure (days)">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type type="list" listvalues="user_defined, planter" description="Planter type">user_defined</planter_type>
            <planter_depth type="text" description="User_defined depth of seedbed preparation (mm)">150</planter_depth>
            <thin_fraction type="text" description="Enter fraction of weed population killed (0-1)">1.0</thin_fraction>
            <planter_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Remove all residues on a fixed date">
          <condition name="start_of_day">
         if today = date('[date]') then
            '[surfaceommodule]' tillage type = user_defined, f_incorp = 0.95 (), tillage_depth = 0.0 ()
         endif
            </condition>
          <category name="Removal criteria">
            <date type="ddmmmdate" description="Date to remove residues (dd-mmm) :">08-may</date>
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">surface organic matter</surfaceommodule>
          </category>
        </rule>
        <rule name="Sow using a variable rule with intercropping{2}">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_manure_pre_sow = 0
         days_last_year = 365
         manure_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="end_of_day">

         if (date_within('[date1], [date2]') = 1) THEN
         else
            wht_sow_opp_num = 0
            wht_sow_opp_days = 0
         endif
            </condition>
          <condition name="process"><![CDATA[

         if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
               !  Presowing  manure application

            if ([manure_amount_pre_sow] > 0) then
               !  calculate day to fertilise
               manure_day_pre_sow = date('[date1]') - [manure_days_pre_sow]
               ! Need to correct for possible year boundary condition
               if (manure_day_pre_sow < today) then
                  manure_day_pre_sow = days_this_year + manure_day_pre_sow
               endif
               if (today = manure_day_pre_sow) then
                  ready_to_manure_pre_sow = 1
               endif
               if (crop_in = 0 and ready_to_manure_pre_sow = 1) then
                        ! just put on a fixed amount of manure
                  '[surfaceommodule_pre_sow]' add_surfaceom type=[manure_type_pre_sow], name=[manure_type_pre_sow], mass=[manure_amount_pre_sow], cnr=[manure_cnr_pre_sow], cpr=[manure_cpr_pre_sow]
                  ready_to_manure_pre_sow = 0
                  manure_day_pre_sow = 0
               endif
            endif

            if (today = date('[date2]')) then
               if ('[rotation_exclude]' = 'no') then
                  ready_for_next = 1
               endif
            endif

            if (wht_sow_opp_num > 0) then
               wht_sow_opp_days = wht_sow_opp_days + 1
            else
            endif

         if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
             AND [crop].plant_status = 'out')) then
               if (date_within('[date1], [date2]') = 1) then
                  crop_sow = 'waiting'
                  surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                  if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                        (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                      ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                     if (wht_sow_opp_days >= [rain_days] OR wht_sow_opp_num = 0) then
                        wht_sow_opp_num = wht_sow_opp_num + 1
                        wht_sow_opp_days = 0
                     endif

                     if ((wht_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                          [crop] sow cultivar = [cultivar1], plants = [density] (plants/m2), sowing_depth = [depth], row_spacing = [row_spacing]
                        crop_in = crop_in + 1
                        if ('[rotation_exclude]' = 'no') then
                           ready_for_next = 1
                        endif
                        crop_current2 = crop_current1
                        crop_current1 = crop_current
                        crop_current = '[crop]'
                        crop_sow = '[crop]'
                        ready_to_manure_pre_sow = 0
                        if ([fert_amount_sow] > 0) then
                           fertiliser apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow] ()
                        endif
                        !   Planter -
                        ! Planting
                        if (crop_current = 'weed' or crop_current1 = 'weed' or crop_current2 = 'weed') then
                           if (weed.plant_status <> 'out' AND [thin_fraction] > 0) then
                              weed kill_crop plants_kill_fraction = [thin_fraction]
                              if ([thin_fraction] = 1.0) then
                                 weed end_crop
                                 days_after_weed_kill = 0
                              else
                              endif
                              if ([thin_fraction] = 1.0) then
                                    crop_in = crop_in - 1
                                   if (crop_current = 'weed') then
                                       crop_current = crop_current1
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current1 = 'weed') then
                                       crop_current1 = crop_current2
                                       crop_current2 = blank
                                    elseif (crop_current2 = 'weed') then
                                       crop_current2 = blank
                                    endif
                              endif
                           endif
                        endif
                        if ('[planter_type]' = 'user_defined') then
                            '[surfaceommodule]' tillage type = [planter_type], f_incorp = [planter_f_incorp] (), tillage_depth = [planter_depth]
                        else
                            '[surfaceommodule]' tillage type = [planter_type] ()
                        endif


                     else
                        !not this opportunity
                     endif
                  endif
               endif
            endif
         endif
         ! apply topdress fertiliser
         if ([fert_amount_TopDress] > 0.0) then
            if ([crop].das = [fert_days_TopDress]) then
               fertiliser apply amount = [fert_amount_TopDress] (kg/ha), depth = 50 (mm), type = [fert_type_TopDress] ()
            else
            endif
         else
         endif
         ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">peanut</crop>
            <cultivar1 type="cultivars" croppropertyname="crop" description="Enter cultivar">early_bunch</cultivar1>
            <cropmethod type="list" listvalues="sole,intercrop" description="Method of cropping">intercrop</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">no</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">1-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">30-dec</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount description="Enter amount of cumulative rainfall (mm)">30</rain_amount>
            <rain_days description="Enter number of days to accumulate rainfall (days)">5</rain_days>
            <esw_amount description="Enter amount of soil water (mm)">30</esw_amount>
            <sow_opp description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density description="Enter sowing density  (plants/m2)">11.1</density>
            <depth description="Enter sowing depth  (mm)">100</depth>
            <row_spacing type="text" description="Enter row spacing  (mm) (m for maize)">450</row_spacing>
          </category>
          <category name="Starter fertiliser application">
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha)">0</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type">urea_N</fert_type_sow>
          </category>
          <category name="TopDress fertiliser application">
            <fert_days_TopDress type="text" description="Enter number of days after sowing to apply top-dress fertiliser (days)">35</fert_days_TopDress>
            <fert_amount_TopDress type="text" description="Amount of TopDress fertiliser (kg/ha)">0</fert_amount_TopDress>
            <fert_type_TopDress type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Type"> NH4NO3</fert_type_TopDress>
          </category>
          <category name="Pre-sowing manure application">
            <surfaceommodule_pre_sow type="modulename" description="Module used to apply the manure : ">Surface Organic Matter</surfaceommodule_pre_sow>
            <manure_days_pre_sow type="text" description="Enter number of days before window to apply pre-crop manure (days)">30</manure_days_pre_sow>
            <manure_amount_pre_sow type="text" description="Amount of manure to apply (kg/ha) : ">0</manure_amount_pre_sow>
            <manure_type_pre_sow type="list" listvalues="manure,fym,heap_uncov,heap_cov,pit,communal" description="manure type : ">manure</manure_type_pre_sow>
            <manure_cnr_pre_sow type="text" description="manure CNR : ">25</manure_cnr_pre_sow>
            <manure_cpr_pre_sow type="text" description="manure CPR : ">50</manure_cpr_pre_sow>
          </category>
          <category name="Planter Tillage">
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <planter_type type="list" listvalues="user_defined, planter" description="Planter type">user_defined</planter_type>
            <planter_depth type="text" description="User_defined depth of seedbed preparation (mm)">150</planter_depth>
            <thin_fraction type="text" description="Enter fraction of weed population killed (0-1)">1.0</thin_fraction>
            <planter_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</planter_f_incorp>
          </category>
        </rule>
        <rule name="Harvesting rule for intercropping{2}">
          <condition name="init">
          [crop]_to_harvest = 0
      </condition>
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            [crop] harvest, remove=[fraction_to_remove]
            [crop] kill_crop
            [crop] end_crop
                  crop_in = crop_in - 1
            [crop]_to_harvest = 0
            fert_tot = 0
            sow_year = 0
            if (crop_current = '[crop]') then
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current1 = '[crop]') then
               crop_current1 = crop_current2
               crop_current2 = blank
            elseif (crop_current2 = '[crop]') then
               crop_current2 = blank
            endif
         endif

         if ([crop].stage_name = 'harvest_ripe' OR [crop].plant_status = 'dead') then
            [crop]_to_harvest = 1
         endif
      </condition>
          <category name="Harvesting criteria">
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">peanut</crop>
            <fraction_to_remove type="text" description="Enter fraction of stover to remove : ">0.95</fraction_to_remove>
          </category>
        </rule>
        <rule name="Output at harvest for intercropping{2}">
          <condition name="end_of_day">
         if ([crop]_to_harvest = 1) then
            outputfile do_output
         endif
      </condition>
          <category name="Output criteria">
            <crop type="crop" description="Enter name of crop to output at harvest : ">peanut</crop>
          </category>
        </rule>
        <rule name="Rotations with Intercrop">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_fert_pre_sow = 0
         days_last_year = 365
         fert_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="start_of_day">
         if (ready_for_next = 1) then
            if      (next = 1) THEN
               next_crop = '[crop01]'
               next = 2
            elseif      (next = 2) THEN
               next_crop = '[crop02]'
               next = 3
            elseif (next = 3) THEN
               next_crop = '[crop03]'
               next = 4
            elseif (next = 4) THEN
               next_crop = '[crop04]'
               next = 5
            elseif (next = 5) THEN
               next_crop = '[crop05]'
               next = 6
            elseif (next = 6) THEN
               next_crop = '[crop06]'
               next = 7
            elseif (next = 7) THEN
               next_crop = '[crop07]'
               next = 8
            elseif (next = 8) THEN
               next_crop = '[crop08]'
               next = 9
            elseif (next = 9) THEN
                  next_crop = '[crop09]'
                  next = 10
            elseif (next = 10) THEN
                  next_crop = '[crop10]'
                  next = 11
            elseif (next = 11) THEN
                  next_crop = '[crop11]'
                  next = 12
            elseif (next = 12) THEN
                  next_crop = '[crop12]'
                  next = 13
            elseif (next = 13) THEN
                  next_crop = '[crop13]'
                  next = 14
            elseif (next = 14) THEN
                  next_crop = '[crop14]'
                  next = 15
            elseif (next = 15) THEN
                  next_crop = '[crop15]'
                  next = 16
            elseif (next = 16) THEN
                  next_crop = '[crop16]'
                  next = 17
            elseif (next = 17) THEN
                  next_crop = '[crop17]'
                  next = 18
            elseif (next = 18) THEN
                  next_crop = '[crop18]'
                  next = 19
            elseif (next = 19) THEN
                  next_crop = '[crop19]'
                  next = 20
            elseif (next = 20) THEN
                  next_crop = '[crop20]'
                  next = 1
            endif
            if (next_crop = 'nil' OR next_crop = blank) THEN
               next_crop = '[crop01]'
               next = 2
            endif
            ready_for_next = 0
         endif

            ! treat fallow as a crop - its window starts when the other fallow finishes
            ! assume initiation (sowing) of fallow takes place when previous fallow finishes
            ! or when previous crop is harvested, whichever is the latest.
            ! Assume fallow finishes (harvested) at end of fallow date.

         if (next_crop = '[winterf_name]') then
               ! initiate (sow)
            if ((crop_in = 0)
              OR (crop_in = 1 AND (crop_current = 'weed' OR crop_current1 = 'weed' OR crop_current2 = 'weed'))) then
               if (date_within('[summerf_d2], [winterf_d2]') then
                  crop_in = crop_in + 1
                  ready_for_next = 1
                  crop_current2 = crop_current1
                  crop_current1 = crop_current
                  crop_current = '[winterf_name]'
                  crop_sow = '[winterf_name]'
                  ready_to_fert_pre_sow = 0
               endif
            endif

         elseif (next_crop = '[summerf_name]') then
              ! initiate (sow)
            if ((crop_in = 0)
              OR (crop_in = 1 AND (crop_current = 'weed' OR crop_current1 = 'weed' OR crop_current2 = 'weed'))) then
               if (date_within('[winterf_d2], [summerf_d2]') then
                  crop_in = crop_in + 1
                  ready_for_next = 1
                  crop_current2 = crop_current1
                  crop_current1 = crop_current
                  crop_current = '[summerf_name]'
                  crop_sow = '[summerf_name]'
                  ready_to_fert_pre_sow = 0
               endif
            endif
         endif

         if (crop_current = '[winterf_name]'
          OR crop_current1 = '[winterf_name]'
          OR crop_current2 = '[winterf_name]') then
               ! terminate (harvest)
            if (today = date('[winterf_d2]')+1) then
               crop_in = crop_in - 1
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            endif
         elseif (crop_current = '[summerf_name]'
              OR crop_current1 = '[summerf_name]'
              OR crop_current2 = '[summerf_name]') then
               ! terminate (harvest)
            if (today = date('[summerf_d2]')+1) then
               crop_in = crop_in - 1
               crop_current = crop_current1
               crop_current1 = crop_current2
               crop_current2 = blank
            endif
         endif

      </condition>
          <category name="Fallow properties">
            <summerf_name type="text" description="summer fallow name : ">sf</summerf_name>
            <summerf_d2 type="ddmmmdate" description="summer fallow END   (dd-mmm) : ">15-mar</summerf_d2>
            <winterf_name type="text" description="winter fallow name : ">wf</winterf_name>
            <winterf_d2 type="ddmmmdate" description="winter fallow END   (dd-mmm) : ">23-aug</winterf_d2>
          </category>
          <category name="Crop and fallow rotation sequence - finish with nil">
            <crop01 type="crop" description="1 : ">maize</crop01>
            <crop02 type="crop" description="2 : ">wf</crop02>
            <crop03 type="crop" description="3 : ">peanut</crop03>
            <crop04 type="crop" description="4 : ">wf </crop04>
            <crop05 type="crop" description="5 : ">nil</crop05>
            <crop06 type="crop" description="6 : ">wf </crop06>
            <crop07 type="crop" description="7 : ">sf </crop07>
            <crop08 type="crop" description="8 : ">wf </crop08>
            <crop09 type="crop" description="9 : ">sf </crop09>
            <crop10 type="crop" description="10 : ">wf  </crop10>
            <crop11 type="crop" description="11 : ">sf  </crop11>
            <crop12 type="crop" description="12 : ">wf  </crop12>
            <crop13 type="crop" description="13 : ">sf  </crop13>
            <crop14 type="crop" description="14 : ">wf  </crop14>
            <crop15 type="crop" description="15 : ">sf  </crop15>
            <crop16 type="crop" description="16 : ">wf  </crop16>
            <crop17 type="crop" description="17 : ">sf  </crop17>
            <crop18 type="crop" description="18 : ">wf  </crop18>
            <crop19 type="crop" description="19 : ">sf  </crop19>
            <crop20 type="crop" description="20 : ">wf  </crop20>
          </category>
        </rule>
        <rule name="Sow WEEDS using a variable rule with intercropping">
          <condition name="init">
         next = 1
         crop_in = 0
         blank = 'fallow'
         next_crop = blank
         crop_current = blank
         crop_current1 = blank
         crop_current2 = blank
         crop_sow = blank
         ready_for_next = 1
         ready_to_fert_pre_sow = 0
         days_last_year = 365
         fert_day_pre_sow = 0
         ready_to_till_pre_sow = 0
         till_day_pre_sow = 0
         days_after_weed_kill = 0

      </condition>
          <condition name="process"><![CDATA[
               if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then


                  if (today = date('[date2]')) then
                     if ('[rotation_exclude]' = 'no') then
                        ready_for_next = 1
                     endif
                  endif

                  if (wd_sow_opp_num > 0) then
                     wd_sow_opp_days = wd_sow_opp_days + 1
                  else
                  endif

                  if (crop_in = 0 OR ('[cropmethod]' = 'intercrop'
                      AND weed.plant_status = 'out')
                      AND days_after_weed_kill > 0) then
                        if (date_within('[date1], [date2]') = 1) then
                           crop_sow = 'waiting'
                           surface_moist = (sw(1) - ll15(1)) / (dul(1)- ll15(1))
                           if ((rain[[rain_days]] >= [rain_amount]  AND  esw >= [esw_amount] AND
                                 (surface_moist <= [surface_up] and surface_moist >= [surface_low])) OR
                               ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN


                              if (wd_sow_opp_days >= [rain_days] OR wd_sow_opp_num = 0) then
                                 wd_sow_opp_num = wd_sow_opp_num + 1
                                 wd_sow_opp_days = 0
                              endif

                              if ((wd_sow_opp_num >= [sow_opp]) OR ('[must_sow]' = 'yes' AND today = date('[date2]')) then
                                 if (date_within('[date1], [date_ch1]') = 1) then
                                    weed sow crop_class = [cla], plants = [density] (plants/m2), sowing_depth = [depth], cultivar = [cultivar1], row_spacing = [row_spacing]
                                 else
                                    weed sow crop_class = [cla], plants = [density] (plants/m2), sowing_depth = [depth], cultivar = [cultivar2], row_spacing = [row_spacing]
                                 endif
                                 crop_in = crop_in + 1
                                 if ('[rotation_exclude]' = 'no') then
                                    ready_for_next = 1
                                 endif
                                 crop_current2 = crop_current1
                                 crop_current1 = crop_current
                                 crop_current = '[crop]'
                                 crop_sow = '[crop]'
                              else
                                 !not this opportunity
                              endif
                        endif
                     endif
                  endif
               endif
                           ]]></condition>
          <condition name="end_of_day"><![CDATA[

               days_after_weed_kill = days_after_weed_kill + 1

               if (next_crop = '[crop]' OR next_crop = blank OR '[rotation_exclude]' = 'yes') then
                  !   Tillage - presowing seedbed preparation
                  if ( [till_days_pre_sow] > 0) then
                     ! calculate presowing tillage date
                     till_day_pre_sow = date('[date1]') - [till_days_pre_sow]
                     ! Need to correct for possible year boundary condition
                     if (till_day_pre_sow < today) then
                        till_day_pre_sow = days_this_year + till_day_pre_sow
                     endif
                     if (today = till_day_pre_sow) then
                        ready_to_till_pre_sow = 1
                     endif
                     if ((crop_in = 0 OR '[must_till]' = 'yes') AND (ready_to_till_pre_sow = 1)) then
                        ! tillage
                        if (weed.plant_status <> 'out') then
                           weed harvest, remove=[fraction]
                           weed kill_crop
                           weed end_crop
                           crop_in = crop_in - 1
                          if (crop_current = 'weed') then
                              crop_current = crop_current1
                              crop_current1 = crop_current2
                              crop_current2 = blank
                           elseif (crop_current1 = 'weed') then
                              crop_current1 = crop_current2
                              crop_current2 = blank
                           elseif (crop_current2 = 'weed') then
                              crop_current2 = blank
                           endif
                        endif
                     endif
                  endif
               endif


               if (date_within('[date1], [date2]') = 1) THEN
               else
                  wd_sow_opp_num = 0
                  wd_sow_opp_days = 0
               endif

            ]]></condition>
          <category name="Crop properties">
            <crop type="crop" description="Name of this crop">weed</crop>
            <cultivar1 type="list" listvalues="late, early" description="Enter first type"> early</cultivar1>
            <cla type="list" listvalues="winter_grass, winter_dicot, summer_grass, perennial_legume" description="Enter class type "> summer_grass</cla>
            <date_ch1 type="ddmmmdate" description="Enter type change date (dd-mmm)">1-jul</date_ch1>
            <cultivar2 type="list" listvalues="late, early" description="Enter second type">late</cultivar2>
            <cropmethod type="list" listvalues="sole, intercrop" description="Method of cropping">intercrop</cropmethod>
            <rotation_exclude type="yesno" description="Exclude from rotation sequence">yes</rotation_exclude>
          </category>
          <category name="Sowing criteria">
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm)">01-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm)">30-apr</date2>
            <must_sow type="yesno" description="Must Sow">no</must_sow>
            <rain_amount type="text" description="Enter amount of rainfall (mm)">10</rain_amount>
            <rain_days type="text" description="Enter number of days of rainfall (days)">5</rain_days>
            <esw_amount type="text" description="Enter amount of soil water (mm)">5</esw_amount>
            <sow_opp type="text" description="Enter sowing opportunity number to sow on (1..n)">1</sow_opp>
            <surface_up type="text" description="Enter upper limit of sw in top layer (0-2) (mm esw/mm soil)">2</surface_up>
            <surface_low type="text" description="Enter lower limit of sw in top layer (0-1) (mm esw/mm soil)">0</surface_low>
          </category>
          <category name="Sowing specs">
            <density type="text" description="Enter sowing density  (plants/m2)">5</density>
            <depth type="text" description="Enter sowing depth  (mm)">15</depth>
            <row_spacing type="text" description="Enter row spacing  (mm)">350</row_spacing>
          </category>
          <category name="Seed-bed Tillage Preparation">
            <till_days_pre_sow type="text" description="Enter number of days before window to prepare seed-bed (days)">0</till_days_pre_sow>
            <must_till type="yesno" description="Must Till">no</must_till>
            <tillage_type type="list" listvalues="user_defined, chisel, disc, planter,burn, burn_90, graze, scarifier, rip, blade, tine" description="Tillage type">disc</tillage_type>
            <tillage_depth type="text" description="User_defined depth of seedbed preparation (mm)">100</tillage_depth>
            <tillage_f_incorp type="text" description="User_defined fraction of surface residues to incorporate (0-1)">1</tillage_f_incorp>
            <fraction type="text" description="Enter biomass removal fraction of growing weeds from field (0-1)">0.0</fraction>
          </category>
        </rule>
        <rule name="Weeding at threshold weed biomass or maximum days">
          <condition name="init">
          daemerge = 0
      </condition>
          <condition name="end_of_day"><![CDATA[
         if ((crop_in >= 1)
            AND (weed.plant_status <> 'out')) then
            if (weed.stage >= 3.0) then
               daemerge = daemerge + 1
            endif

            if (weed.biomass > [weed_biomass] OR daemerge >= [weed_interval]) then
               if ((crop_in > 1 AND [weed_maxno_in] > weed_count_in) OR (crop_in = 1 AND [weed_maxno_out] > weed_count_out)) then
                  if (crop_in > 1) then
                     weed_count_in = weed_count_in + 1
                  elseif (crop_in = 1) then
                     weed_count_out = weed_count_out + 1
                  endif
                  weed harvest, remove = [fraction]
                  weed kill_crop plants_kill_fraction = [thin_fraction]
                  if ([thin_fraction] = 1.0) then
                     weed end_crop
                     days_after_weed_kill = 0
                 else
                  endif
                  '[surfaceommodule]' tillage type = [tillage_type], f_incorp = [f_incorp], tillage_depth = [tillage_depth]
                  if ([thin_fraction] = 1.0) then
                    crop_in = crop_in - 1
                    if (crop_current = 'weed') then
                        crop_current = crop_current1
                        crop_current1 = crop_current2
                        crop_current2 = blank
                     elseif (crop_current1 = 'weed') then
                        crop_current1 = crop_current2
                        crop_current2 = blank
                     elseif (crop_current2 = 'weed') then
                        crop_current2 = blank
                     endif
                     daemerge = 0
                  else
                  endif
               else
               endif
            else
            endif
         else
            daemerge = 0
         endif

         if (((crop_in = 1)
            AND (weed.plant_status <> 'out'))
            OR (crop_in = 0)) then
            weed_count_in = 0
         else
            weed_count_out = 0
         endif
      ]]></condition>
          <category name="Weeding properties">
            <weed_interval type="text" description="Maximum days after emergence to weed (days) : ">35</weed_interval>
            <weed_biomass type="text" description="Weeding biomass threshold to weed (kg/ha) : ">5000</weed_biomass>
            <weed_maxno_in type="text" description="Maximum number of in-crop weedings (1..n) : ">1</weed_maxno_in>
            <weed_maxno_out type="text" description="Maximum number of fallow weedings (1..n) : ">0</weed_maxno_out>
            <thin_fraction type="text" description="Enter fraction of weed population weeded (0-1) : ">1.0</thin_fraction>
            <fraction type="text" description="Enter biomass removal fraction from field (0-1) : ">0.0</fraction>
            <surfaceommodule type="modulename" description="Module used to apply the tillage : ">Surface Organic Matter</surfaceommodule>
            <tillage_type type="text" description="Enter name of tillage type : ">user_defined</tillage_type>
            <f_incorp type="text" description="Enter fraction of surface residues incorporated into soil (0-1) : ">0.1</f_incorp>
            <tillage_depth type="text" description="Enter depth of incorporation of surface residues (mm) : ">25</tillage_depth>
          </category>
        </rule>
      </manager>
      <fertiliser name="fertiliser" />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type description="Organic Matter type">wheat</type>
        <mass description="Initial surface residue (kg/ha)">0</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile name="outputfile">
        <filename name="filename">Rotation Maize_Legume and Weeds Simulation.out</filename>
        <variables name="My Variables">
          <variable name="dd/mm/yyyy as Date" description="Date (dd/mm/yyyy)" array="?" />
          <variable name="esw" description="Extractable Soil Water (mm)" VariableType="Water" array="?" />
          <variable name="day" description="Day" array="?" />
          <variable name="year" description="Year" array="?" />
          <variable name="maize.yield as yield_mz" description="Maize Yield (kg/ha)" array="?" />
          <variable name="maize.stover as stover_mz" description="Maize Stover (kg/ha)" array="?" />
          <variable name="maize.biomass as biom_mz" description="Maize Total Above Ground Biomass (kg/ha)" array="?" />
          <variable name="surface organic matter.surfaceom_wt" description="Total mass of all surface organic materials" array="?" />
          <variable name="peanut.yield as yield_pnut" description="Yield" array="?" />
          <variable name="peanut.biomass as biomass_pnut" description="Biomass" array="?" />
          <variable name="Manager.crop_in" array="?" />
          <variable name="Manager.next_crop" array="?" />
          <variable name="Manager.ready_for_next" array="?" />
        </variables>
        <events name="My Variables Events" />
      </outputfile>
      <soil name="Zimbabwe Fertile Luvisol (187mm PAWC)">
        <Water>
          <Cona>2.5</Cona>
          <U>9</U>
          <CN2Bare>75</CN2Bare>
          <Salb>0.13</Salb>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35.4</DiffusSlope>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <layer name="1">
            <thickness>100</thickness>
            <ll15>0.11</ll15>
            <airdry>0.04</airdry>
            <dul>0.22</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="2">
            <thickness>100</thickness>
            <ll15>0.14</ll15>
            <airdry>0.14</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="3">
            <thickness>100</thickness>
            <ll15>0.16</ll15>
            <airdry>0.15</airdry>
            <dul>0.27</dul>
            <sat>0.32</sat>
            <swcon>0.5</swcon>
            <bd>1.35</bd>
          </layer>
          <layer name="4">
            <thickness>200</thickness>
            <ll15>0.17</ll15>
            <airdry>0.16</airdry>
            <dul>0.28</dul>
            <sat>0.33</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="5">
            <thickness>200</thickness>
            <ll15>0.19</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="6">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.3</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="7">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.36</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="8">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.32</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="9">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
          <layer name="10">
            <thickness>200</thickness>
            <ll15>0.2</ll15>
            <airdry>0.18</airdry>
            <dul>0.31</dul>
            <sat>0.37</sat>
            <swcon>0.5</swcon>
            <bd>1.4</bd>
          </layer>
        </Water>
        <SoilCrop name="sorg">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.07</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="cowpea">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="maize">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="mucuna">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="peanut">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="pigeonp">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <SoilCrop name="soybean">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.08</kl>
            <xf>1</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.06</kl>
            <xf>1</xf>
          </layer>
          <layer name="6">
            <ll>0.2</ll>
            <kl>0.04</kl>
            <xf>1</xf>
          </layer>
          <layer name="7">
            <ll>0.2</ll>
            <kl>0.03</kl>
            <xf>1</xf>
          </layer>
          <layer name="8">
            <ll>0.2</ll>
            <kl>0.02</kl>
            <xf>1</xf>
          </layer>
          <layer name="9">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
          <layer name="10">
            <ll>0.2</ll>
            <kl>0.01</kl>
            <xf>1</xf>
          </layer>
        </SoilCrop>
        <Nitrogen>
          <RootCN>45</RootCN>
          <RootWT>1000</RootWT>
          <SoilCN>14.5</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <layer name="1">
            <ph>6</ph>
            <oc>1.2</oc>
            <fbiom>0.02</fbiom>
            <finert>0.6</finert>
          </layer>
          <layer name="2">
            <ph>6</ph>
            <oc>1</oc>
            <fbiom>0.01</fbiom>
            <finert>0.65</finert>
          </layer>
          <layer name="3">
            <ph>6</ph>
            <oc>0.86</oc>
            <fbiom>0.01</fbiom>
            <finert>0.7</finert>
          </layer>
          <layer name="4">
            <ph>6.2</ph>
            <oc>0.83</oc>
            <fbiom>0.01</fbiom>
            <finert>0.75</finert>
          </layer>
          <layer name="5">
            <ph>6.5</ph>
            <oc>0.58</oc>
            <fbiom>0.01</fbiom>
            <finert>0.8</finert>
          </layer>
          <layer name="6">
            <ph>6.7</ph>
            <oc>0.54</oc>
            <fbiom>0.01</fbiom>
            <finert>0.85</finert>
          </layer>
          <layer name="7">
            <ph>6.8</ph>
            <oc>0.47</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="8">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="9">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
          <layer name="10">
            <ph>6.8</ph>
            <oc>0.5</oc>
            <fbiom>0.01</fbiom>
            <finert>0.93</finert>
          </layer>
        </Nitrogen>
        <InitNitrogen>
          <layer name="1">
            <no3>0.237</no3>
            <nh4>0.194</nh4>
          </layer>
          <layer name="2">
            <no3>0.712</no3>
            <nh4>0.484</nh4>
          </layer>
          <layer name="3">
            <no3>0.712</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="4">
            <no3>0.554</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="5">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="6">
            <no3>0.395</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="7">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="8">
            <no3>0.237</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="9">
            <no3>0.158</no3>
            <nh4>0.290</nh4>
          </layer>
          <layer name="10">
            <no3>0.079</no3>
            <nh4>0.290</nh4>
          </layer>
        </InitNitrogen>
        <InitWater>
          <PercentMethod>
            <Percent>0.00</Percent>
            <Distributed>Filled from top</Distributed>
          </PercentMethod>
        </InitWater>
        <SoilCrop name="weed">
          <layer name="1">
            <ll>0.11</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="2">
            <ll>0.14</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="3">
            <ll>0.16</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="4">
            <ll>0.17</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="5">
            <ll>0.19</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="6">
            <ll>0.20</ll>
            <kl>0.07</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="7">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="8">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="9">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
          <layer name="10">
            <ll>0.20</ll>
            <kl>0.04</kl>
            <xf>1.00</xf>
          </layer>
        </SoilCrop>
        <WaterFormat>VolumetricPercent</WaterFormat>
      </soil>
      <maize />
      <weed />
      <peanut />
      <canopy name="Canopy">
        <intercrop name="intercrop" description="Enter crop names to intercrop" type="text">maize peanut weed</intercrop>
      </canopy>
    </area>
  </simulation>
</folder>
