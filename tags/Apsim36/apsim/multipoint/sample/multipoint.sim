<Simulation executable="c:\development\apsim\protocolmanager\lib\protocolmanager.dll">
   <title>Simple System Simulation</title>
   <component name="log" executable="c:\development\apsim\log\lib\log.dll">
      <initdata>
         <parameters name="sample">
            <property name="debug_output">off</property>
            <property name="logfile">log.txt</property>
         </parameters>
      </initdata>
   </component>

   <component name="SummaryFile" executable="c:\development\apsim\summaryfile\lib\summaryfile.dll">
      <initdata>
         <parameters name="sample">
            <property name="summaryfile">wheat.sum</property>
         </parameters>
      </initdata>
   </component>
   <component name="Screen" executable="c:\development\apsim\screen\lib\screen.dll">
      <initdata>
         <parameters name="sample">
            <property name="screen_output">on</property>
         </parameters>
      </initdata>
   </component>
   <component name="clock" executable="c:\development\apsim\clock\lib\clock.dll">
      <initdata>
         <constants name="standard">
            <property name="timestep_events">prepare process post rep</property>
         </constants>
         <parameters name="sample">
            <property name="start_date">14/6/1988</property>
            <property name="end_date">17/11/1988</property>
         </parameters>
      </initdata>
   </component>
   <component name="report" executable="c:\development\apsim\report\lib\report.dll">
      <initdata>
         <parameters name="sample">
            <property name="outputfile">wheat.out</property>
         </parameters>
         <variables>
            <variable>clock.dd/mm/yyyy as Date</variable>
            <variable>SubSystem.rain as rain</variable>
         </variables>
      </initdata>
   </component>
   <component name="manager" executable="c:\development\apsim\manager\lib\manager.dll">
      <initdata>
         <rules>
            <rule name="sample.end_of_day" condition="end_of_day">
               <![CDATA[if (day = 200) then[cr]   subsystem.rain = 123[cr]endif[cr]report do_output[cr]SubSystem do_output[cr]]]>
            </rule>
         </rules>
      </initdata>
   </component>


   <system name="SubSystem" executable="c:\development\apsim\protocolmanager\lib\protocolmanager.dll">
      <component name="Met" executable="c:\development\apsim\input\lib\input.dll">
	      <initdata>
	         <weather name="weather">
	            <property name="Latitude">-27.11</property>
	            <property name="tav">19.57</property>
	            <property name="amp">10.40</property>
	         </weather>
	         <parameters name="weather">
	            <property name="filename">c:\development\apsim\met\sample\dalby.met</property>
	         </parameters>
	      </initdata>
	   </component>

      <component name="report2" executable="c:\development\apsim\report\lib\report.dll">
         <initdata>
            <parameters name="sample">
               <property name="outputfile">wheat2.out</property>
            </parameters>
            <variables>
               <variable>subsystem.day</variable>
            </variables>
         </initdata>
      </component>

      <registrations>
         <eventReg name="summaryFileWrite" type="summaryFileWrite"/>
         <respondToGetReg name="rain" type="rain"/>
         <respondToEventReg name="tick" type="time"/>
         <respondToMethodCallReg name="do_output" type="do_output" internalName="report2.do_output"/>
         <getVariableReg name="day" type="integer4"/>
         <getVariableReg name="title" type="string"/>
         <respondToSetReg name="rain" type="rain"/>
      </registrations>
      <types>
         <type name="summaryFileWrite">
            <field name="componentName" kind="string"/>
            <field name="lines" kind="string"/>
         </type>
      </types>

	</system>

</Simulation>